/*! For license information please see 1.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],Array(25).concat([function(t,e,i){"use strict";i.r(e);var s=Object.freeze({TAB:9,RETURN:13,ALT:18,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,F1:112,SLASH:191,A:65,C:67,F:70,I:73,M:77,P:80,W:87});e.default=s},,function(t,e,i){"use strict";i.r(e);var s,o,r=i(125),n=(i(639),i(1)),a=Object(n.default)(r.default,s,o,!1,null,null,null);a.options.__file="src/components/content/base/index.vue",e.default=a.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){i(0).register({fullscreen:{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M6.733 5.1l2.1-2.1H3v5.833l2.1-2.1 2.8 2.8A1.167 1.167 0 109.533 7.9l-2.8-2.8zM18.9 17.328l-2.8-2.869a1.18 1.18 0 00-1.633-.23 1.135 1.135 0 000 1.837l2.916 2.754L15.167 21H21v-5.738l-2.1 2.066zm-3.014-7.664l2.854-2.806L21 8.845V3h-5.947l2.141 2.104L14.34 7.91a1.155 1.155 0 000 1.637.96.96 0 001.546.117zm-7.857 4.673L5.222 17.26 3 15.156v5.847h5.847l-2.105-2.105 2.924-2.807a1.17 1.17 0 000-1.637 1.052 1.052 0 00-1.637-.117z"/>'}})},function(t,e,i){i(0).register({"book-first":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M10.468 10.61a2.005 2.005 0 000 2.838l6.262 6.258a1 1 0 00.71.294 1 1 0 00.71-.294 1 1 0 000-1.42l-6.263-6.258 6.319-6.315a1.005 1.005 0 00-1.42-1.42l-6.318 6.316zM6 5.98v12.04c0 .556.45 1.004 1.004 1.004.556 0 1.005-.448 1.005-1.004V5.98c0-.555-.449-1.004-1.005-1.004C6.45 4.976 6 5.425 6 5.98z"/>'}})},function(t,e,i){i(0).register({"book-last":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M8.22 4.303A1.003 1.003 0 106.8 5.721l6.313 6.307-6.256 6.252a1 1 0 00.71 1.711 1 1 0 00.709-.294l6.255-6.251a2.004 2.004 0 000-2.836L8.22 4.303zm9.77.68c-.555 0-1.003.45-1.003 1.003v12.028a1.002 1.002 0 102.006 0V5.986c0-.553-.449-1.003-1.003-1.003z"/>'}})},function(t,e,i){i(0).register({search:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" d="M15.49 17.61A8.144 8.144 0 0111.14 19c-4.452-.102-8.038-3.625-8.14-8 .036-4.35 3.575-7.89 8-8 4.425.112 7.965 3.65 8 8a7.813 7.813 0 01-1.38 4.499l4.451 4.45-2.121 2.122-4.46-4.46zM11.104 17c3.3-.09 5.919-2.757 5.895-6-.026-3.263-2.681-5.916-6-6-3.319.083-5.973 2.737-6 6 .077 3.281 2.766 5.923 6.105 6z"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(3),o={cTest:!1,id:function(t){return document.getElementById(t)},tag:function(t){return document.getElementsByTagName(t)[0]},tags:function(t){return document.getElementsByTagName(t)},byClass:function(t){return document.getElementsByClassName(t)},add:function(t){return document.createElement(t)},round:function(t,e){e=e||0;for(var i=1,s=0;s<e;s++)i*=10;return Math.round(t*i)/i},css:function(t,e){for(var i in e)if(e.hasOwnProperty(i)){var s=i.replace(/-(.)/g,(function(t,e){return e.toUpperCase()}));s="float"===s?"cssFloat":s,t.style[s]=e[i]}},del:function(t){return Object(s.isString)(t)?o.id(t)&&o.id(t).parentNode.removeChild(o.id(t)):t.parentNode.removeChild(t),!0},addClass:function(t,e){t.classList.add(e)},removeClass:function(t,e){t.classList.remove(e)},createElement:function(t,e,i,o,r){i=i||-1;var n=document.createElement(t);for(var a in e)e.hasOwnProperty(a)&&("styles"!==a?n.setAttribute(a,e[a]):this.css(n,e.styles));if("top"===o)-1!==i&&(Object(s.isString)(i)?document.getElementById(i).insertBefore(n,document.getElementById(i).firstChild):i.insertBefore(n,i.firstChild));else if("after"===o){var h=r.nextSibling,l=r.parentNode;h?l.insertBefore(n,h):l.appendChild(n)}else if("before"===o){var c=r.previousSibling,d=r.parentNode;c?d.insertBefore(n,r):d.appendChild(n)}else-1!==i&&(Object(s.isString)(i)?document.getElementById(i).appendChild(n):i.appendChild(n));return n},clear:function(t){Object(s.isString)(t)&&(t=t.id(t)),t.innerHTML=""}};e.default=o},,function(t,e,i){i(0).register({"arrow-down":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M12 16.772c.31 0 .62-.124.836-.341l7.597-7.132c.496-.465.527-1.24.062-1.767-.465-.496-1.24-.527-1.767-.062l-6.729 6.356-6.76-6.325c-.495-.465-1.27-.434-1.767.062-.465.496-.434 1.271.062 1.767l7.597 7.132c.248.186.558.31.868.31z"/>'}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){i(0).register({accessibility:{width:24,height:24,viewBox:"0 0 24 24",data:'<g transform="translate(3 3)"><path pid="0" d="M10.205 13.662a.588.588 0 00.793.278.563.563 0 00.292-.776s-1.148-2.508-1.357-3.423c-.083-.319-.125-1.175-.146-1.573 0-.139.084-.258.209-.298l2.567-.737c.313-.08.5-.417.417-.716-.083-.299-.438-.478-.751-.398 0 0-2.38.736-3.235.736-.835 0-3.193-.716-3.193-.716-.313-.08-.668.06-.772.358a.572.572 0 00.417.736l2.567.737c.125.04.23.16.209.298-.021.398-.063 1.254-.146 1.573-.209.915-1.357 3.423-1.357 3.423-.146.299 0 .637.292.776.084.04.167.06.25.06.23 0 .46-.12.544-.338l1.23-2.389 1.17 2.389z"/><circle pid="1" cx="9" cy="5" r="1"/><path pid="2" d="M8.898.01A9.154 9.154 0 00.01 9.216a8.858 8.858 0 008.89 8.783 9.089 9.089 0 007.513-4.233 9.087 9.087 0 001.587-4.656 9.313 9.313 0 00-9.1-9.1zM9.055 16C5.183 15.848 2.095 12.785 2 9c.043-3.765 3.093-6.84 6.945-7 3.872.152 6.96 3.215 7.055 7-.044 3.765-3.094 6.84-6.945 7z"/></g>'}})},,function(t,e,i){"use strict";i.r(e);var s=i(103);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(613),o=i(684),r=i(687),n=i(15),a=i(690),h=i(693),l=i(696),c=i(372);i(56);function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}e.default={data:function(){return{containerSize:{width:0,height:0},bookSize:{width:0,height:0},substrateStyle:{},miniFullScreen:!1,ctrFade:"no-fade"}},props:{portrait:Boolean,size:{required:!1},wsToggleFullscreen:{type:Function,default:function(){}}},components:{slideNavButtons:h.default,flipBook:s.default,slideBook:o.default,navButtons:a.default,zoomPanel:l.default,logo:r.default},computed:{version:function(){return this.$store.getters["info/version"]},layout:function(){return this.$store.state.workspace.layout},bookScaleSize:function(){return this.$store.state.workspace&&this.$store.state.workspace.bookSize},originalBookSize:function(){return{width:this.$store.state.book.bookSize.width*(this.portrait?1:2),height:1*this.$store.state.book.bookSize.height,zoomFactor:this.$store.state.book.bookSize.zoomFactor}},showPrevSubstrate:function(){return this.isRTLBook?!this.$store.getters["pager/isLastPage"]:!this.$store.getters["pager/isFirstPage"]},showNextSubstrate:function(){return this.isRTLBook?!this.$store.getters["pager/isFirstPage"]:!this.$store.getters["pager/isLastPage"]},isHardcover:function(){return this.$store.getters["book/hasHardcover"]},hasThickness:function(){return this.$store.state.book.thickness},isSingleMode:function(){return this.$store.state.pager.singleMode},isZoomed:function(){return 1!==this.$store.state.pages.size.zoomFactor},isScaled:function(){return!this.$refs.bookComponent||this.$refs.bookComponent.scaleFactor<1},showSimpleArrows:function(){return!("flip-book"===this.currentBookComponent&&"html"===this.version&&(!this.isZoomed||this.isScaled)||this.showSmartArrows)},showSmartArrows:function(){return"html"===this.version&&"slide-book"===this.currentBookComponent},isRTLBook:function(){return this.$store.state.book.rightToLeft},bookComponent:function(){switch(this.version){case"mobile-old":return"slide-book";case"mobile":case"desktop":default:return this.$store.state.workspace.components.book.flip?"flip-book":"slide-book"}},currentBookComponent:function(){return this.$store.state.workspace.bookComponent},containerClass:function(){return{animation:"ready"!==this.$store.state.workspace.status,"arrow-attract-left":"left"===this.arrowAttract,"arrow-attract-right":"right"===this.arrowAttract}},miniState:function(){return this.$store.state.workspace.mini},clickToReadText:function(){return this.$i18n.t("Other.CLICK_TO_READ")},pagerState:function(){return this.$store.getters["pager/state"]},clickToReadClass:function(){return{clickToRead:!0,hideTop:this.miniTopPosition}},miniClickToReadClass:function(){return{miniClickToRead:!0,hideTop:this.miniTopPosition}},arrowAttract:function(){return this.$store.getters["workspace/arrowAttract"]},miniTopPosition:function(){return this.$store.getters["logo/showLogo"]&&"bottom-right"===this.$store.state.logo.position},pagesCount:function(){return this.$store.getters["pages/pagesCount"]},hasPages:function(){return this.pagesCount>0}},methods:{fitBook:function(t,e){var i=d({},e),s=this.$store.state.book.bookSize,o=this.bookScaleSize,r=this.pagesCount,a=Object(n.fit)({width:2*s.width,height:s.height},i),h=Object(c.default)(r,r,a,.1*a.width),l=(o||100)/100,u=48,p=10;"desktop"===this.layout?(this.hasThickness&&(i.width-=h),i.width-=u):"mobile"===this.layout&&(!this.portrait&&this.hasThickness&&(i.width-=h),i.height-=p);var f=Object(n.fit)(t,i);this.isHardcover&&(f.width=f.width/(this.portrait?1.065:1.03),f.height=f.height/(this.portrait?1.065:1.03));var g=f.height/f.width;return f.width=Math.floor(f.width*l),f.width=f.width%2==0?f.width:f.width+1,f.height=Math.floor(g*f.width),{width:f.width,height:f.height}},resize:function(){var t=window.getComputedStyle(this.$el),e={left:1*t.getPropertyValue("margin-left").split("px")[0],right:1*t.getPropertyValue("margin-right").split("px")[0],top:1*t.getPropertyValue("margin-top").split("px")[0],bottom:1*t.getPropertyValue("margin-bottom").split("px")[0]};this.containerSize={width:this.size.width-e.left-e.right,height:this.size.height-e.top-e.bottom,top:this.size.top+e.top,left:this.size.left+e.left},this.$store.dispatch("workspace/setContainerSize",this.containerSize);var i=this.fitBook(this.originalBookSize,this.containerSize);this.bookSize={width:Math.round(i.width/(this.portrait?1:2)),height:Math.round(i.height),zoomFactor:this.originalBookSize.zoomFactor}},nextPage:function(){this.$store.dispatch(this.isRTLBook?"pager/goBackward":"pager/goForward",{target:"free-space-tap"})},prevPage:function(){this.$store.dispatch(this.isRTLBook?"pager/goForward":"pager/goBackward",{target:"free-space-tap"})},arrowHover:function(t,e){this.$refs.bookComponent&&"function"==typeof this.$refs.bookComponent.arrowHover&&this.$refs.bookComponent.arrowHover(t,e)},setSubstrateStyleHeightTop:function(t,e){this.substrateStyle={height:t,top:e,display:"block"}},afterFade:function(){this.ctrFade="no-fade"}},beforeMount:function(){this.$store.dispatch("workspace/setBookComponent",this.bookComponent),this.$root.$on("forceBookResize",this.resize)},mounted:function(){this.resize(),this.hasPages||this.$root.onPublicationLoad({})},beforeDestroy:function(){this.$root.$off("forceBookResize",this.resize)},watch:{size:"resize",bookScaleSize:function(){this.resize()},originalBookSize:function(){this.resize()},hasThickness:function(){this.resize()},bookComponent:function(t){this.$store.dispatch("pager/setForceRerender",{forceRerender:!1}),this.$store.dispatch("workspace/setBookComponent",t)},pagerState:function(t,e){var i=this;!this.miniState||this.miniFullScreen||t.rightPage===e.rightPage&&t.leftPage===e.leftPage||(this.ctrFade="ctr-fade",this.$nextTick((function(){i.miniFullScreen=!0})))}}}},function(t,e,i){"use strict";i.r(e);var s=i(105);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(106),o=i(632),r=i(373),n=i(375),a=i(377),h=i(381),l=i(383),c=i(385),d=i(389),u=i(391),p=i(392),f=i(393),g=i(8),m=(i(158),i(681),i(682),i(57),i(58),i(28)),v=i.n(m),b={"content-block":r.default,"content-link":n.default,"content-image":a.default,"content-gallery":h.default,"content-gif":l.default,"content-video":c.default};e.default={name:"FlipBook",mixins:[u.default,p.default],props:{containerSize:{type:Object,required:!0},pageSize:{type:Object,required:!0},substrateStyles:{type:Function,default:function(){}}},components:{page:s.default,selectTextPanel:d.default},data:function(){return{status:"ready",zoomFactor:1,scaleFactor:1,scaleOrigin:{x:0,y:0},holderScrollTop:0,holderScrollLeft:0,holderScrollY:0,holderScrollX:0,zoomTimeout:0,addNoteTimeout:0,hideLeftArrow:!1,hideRightArrow:!1,visiblePages:"right",animation:!1,lastWheelTime:0,dragActive:!0,stripesWidth:0,dragging:!1,lastZoomFactor:null,overriddenPagerState:null}},beforeCreate:function(){this.$store.state.book.flipCorner&&this.$store.dispatch("workspace/flipCornerOn")},beforeMount:function(){this.visiblePages=this.getVisiblePages(),this.lastZoomFactor=this.defaultZoomFactor},mounted:function(){var t={};t.bookWidth=2*this.$store.state.pages.size.width,t.bookHeight=this.$store.state.pages.size.height,this.bookHolderElement=this.$el.querySelector("#book-holder"),this.lastZoomBlockID=null,this.flipAdapter=new o.default({bookSize:this.bookSize,state:this.$store,container:this.bookHolderElement,parentVm:this,contentCreator:this.contentCreator,initDomEvents:!this.isEmbed,version:this.version}),this.toggleBlockOnFlip(),this.enableArrowAttract(),this.flipAdapter.on("render:start",this.onRenderStart,this),this.flipAdapter.on("render:finish",this.onRenderFinish,this),this.flipAdapter.on("flip:finished",this.onFlipFinished,this),this.$root.$on("contextMenu:zoomIn",this.zoomByTap),this.$root.$on("contextMenu:zoomOut",this.zoomOut),this.$root.$on("bottomMenu:zoomIn",this.zoomByTap),this.$root.$on("bottomMenu:zoomOut",this.zoomOut),this.$root.$on("zoomPanel",this.changeZoom),this.$root.$on("zoomMove",this.zoomMove),this.$root.$on("wheel",this.onWheel)},beforeDestroy:function(){this.$root.$off("contextMenu:zoomIn",this.zoomByTap),this.$root.$off("contextMenu:zoomOut",this.zoomOut),this.$root.$off("bottomMenu:zoomIn",this.zoomByTap),this.$root.$off("bottomMenu:zoomOut",this.zoomOut),this.$root.$off("zoomPanel",this.changeZoom),this.$root.$off("zoomMove",this.zoomMove),this.$root.$off("wheel",this.onWheel),this.flipAdapter.off("render:start",this.onRenderStart,this),this.flipAdapter.off("render:finish",this.onRenderFinish,this),this.flipAdapter.off("flip:finished",this.onFlipFinished,this),this.flipAdapter.destructor()},watch:{forceRerender:function(){this.forceRerender&&(this.$store.dispatch("pager/setForceRerender",{forceRerender:!1}),this.flipAdapter.resetBook())},pageSize:function(t){var e={width:t.width*this.zoomFactor,height:t.height*this.zoomFactor,zoomFactor:this.zoomFactor};this.$store.dispatch("pages/changePageSize",e)},zoomFactor:function(t,e){var i=this;this.toggleBlockOnFlip();var s={width:this.pageSize.width,height:this.pageSize.height};if(s.width=s.width*t,s.height=s.height*t,s.zoomFactor=t,this.$store.dispatch("pages/changePageSize",s),t>1&&1===e){var o=[this.currentPages.leftPage,this.currentPages.rightPage].filter((function(t){return null!==t})).some((function(t){return i.$store.getters["pages/pageProp"](t,"textBlocks")}),this);this.selectTextEnabled&&o&&this.showSelectTextTip()}},zoomPanel:function(){this.toggleBlockOnFlip()},status:function(t){"ready"!==t?(this.$store.dispatch("pager/freeze",{target:"flip-book-zoom"}),this.$store.dispatch("workspace/setAnimationProgress",{animationType:this.scaleFactor>1&&1===this.zoomFactor?"initialZoom":null})):(this.$store.dispatch("pager/unfreeze",{target:"flip-book-zoom"}),this.$store.dispatch("workspace/unsetAnimationProgress",{animationType:null})),this.toggleBlockOnFlip(),this.refreshScroll(),this.$store.dispatch("workspace/setStatus",t),this.$store.dispatch("workspace/flipCornerOff")},bookSize:function(t){this.flipAdapter.resizeBook(t)},singleMode:function(t){this.zoomOut(!0),this.flipAdapter.setSingleMode(t)},currentPages:function(t,e){var i=this;if(!(t.leftPage===e.leftPage&&t.rightPage===e.rightPage||t.singleMode!==e.singleMode&&t.zoomMode!==e.zoomMode)){this.$store.dispatch("workspace/setArrowAttract",null);var s=function(){var s;i.$store.dispatch("workspace/playFlipSound",{hardcover:e.hardcover||t.hardcover});var o={old:i.getStateInfo(e),new:i.getStateInfo(t)};s=o.new.right.index+o.new.left.index-o.old.right.index-o.old.left.index;var r=i.$store.state.pager.singleMode,n=s>0;r?o.old.differentPages&&n?(o.old.right.wide&&s++,o.old.left.wide&&s--):o.new.differentPages&&!n&&(o.new.left.wide&&s++,o.new.right.wide&&s--):r||(o.old.left.wide&&!o.old.differentPages&&s--,o.new.left.wide&&!o.new.differentPages&&s++,s/=2);var a=Math.abs(s);if(a>0&&a<=2){var h=s>0?o.new.right:o.new.left;"flipComponent"===t.target||"orientation"===t.target||null!==h.page&&!h.last||i.$store.dispatch("pager/setForceFlip",{forceFlip:!0});var l=s>0?"toLeft":"toRight";i.flipAdapter.updateState(l,t.target)}else(a>2||null===o.new.right&&null===o.old.left||null===o.new.left&&null===o.old.right)&&i.flipAdapter.updateState("toPage",t.target)};1!==this.zoomFactor?(this.overriddenPagerState=e,this.zoomOut(!1),this.$once("transition:end",(function(){i.overriddenPagerState=null,setTimeout(s,100)}))):s()}},isWorkspaceFrozen:function(t){t?this.flipAdapter.block(!1):this.flipAdapter.unblock()},workspaceSize:function(t,e){if(1!==this.zoomFactor&&t.width!==e.width&&0!==t.width&&0!==e.width&&null!==t.width&&null!==e.width){var i=e.width/t.width,s=Math.max(this.minZoom,Math.min(this.maxZoom,this.zoomFactor*i));this.setZoom(s,!0)}},isRTLBook:function(t){this.flipAdapter.setRtl(t)},isHardcover:function(t){this.zoomOut(!0),this.flipAdapter.setHardcover(t),this.$root.$emit("forceBookResize")},hardcoverColor:function(t){this.flipAdapter.setHardcoverColor(t)},hasThickness:function(t){this.flipAdapter.setThickness(t)},isOnlyRightPage:function(){var t=this.getVisiblePages();t!==this.visiblePages&&(this.visiblePages=t)},isOnlyLeftPage:function(){var t=this.getVisiblePages();t!==this.visiblePages&&(this.visiblePages=t)},dragActive:function(t){t?this.$refs.bookHolder.$el.classList.remove("nodrag"):this.$refs.bookHolder.$el.classList.add("nodrag")},isMini:function(){this.zoomOut(!0)}},computed:{bookSize:function(){var t,e=this.$store.state;return t=e.book.rightToLeft?"left"===this.visiblePages?-e.pages.size.width:0:this.singleMode||"right"===this.visiblePages?-e.pages.size.width:0,{width:2*this.$store.state.pages.size.width,height:this.$store.state.pages.size.height,top:this.containerSize.top+(this.containerSize.height-e.pages.size.height)/2,left:t}},isOnlyRightPage:function(){var t;return null===(null!==(t=this.overriddenPagerState)&&void 0!==t?t:this.$store.state.pager).leftPage},isOnlyLeftPage:function(){var t;return null===(null!==(t=this.overriddenPagerState)&&void 0!==t?t:this.$store.state.pager).rightPage},bookHolderSize:function(){var t,e,i="both"!==this.visiblePages,s=this.$store.getters["pages/size"],o=this.singleMode,r=this.isHardcover,n=this.containerSize.width,a=this.containerSize.height,h=this.holderScrollLeft,l=this.holderScrollTop,c=this.stripesWidth||0,d=24,u=i||o?s.width:2*s.width;return 1===this.zoomFactor?(t=(n-u)/2,e=(a-s.height)/2):(t=h,e=l),this.$store.dispatch("workspace/setHolderSize",{width:u*(r?1.03:1)+2*c+2*d,height:s.height*(r?1.03:1),left:1===this.zoomFactor?t:0,top:1===this.zoomFactor?e:0}),{width:u,height:s.height,top:e,left:t}},bookHolderStyle:function(){var t=this.bookHolderSize,e=this.containerSize,i=this.zoomFactor,s=this.scaleOrigin,o=this.holderScrollLeft,r=this.holderScrollTop,n=this.scaleFactor,a=this.status,h=this.fastAnimation,l=this.animationSpeed,c=e.height>=t.height?Math.round(t.top)+"px":"0",d=e.width>=t.width?Math.round(t.left)+"px":"0",u={width:t.width+"px",height:t.height+"px",top:1===i?t.top+"px":c,left:1===i?t.left+"px":d};if("animating"===a||"pinch"===a||"scale"===a){u.transformOrigin=s.x+"px "+s.y+"px";var p="translate("+(e.width<t.width?o:0)+"px,"+(e.height<t.height?r:0)+"px) translateZ(0) ",f="scale3d("+n+", "+n+", "+n+")";u.transform=0!==r||0!==o?p+f:f;var g="transform "+(h?1:l)+"ms "+(this.isFirefox||h?"linear":"cubic-bezier(0.215, 0.61, 0.355, 1)");u.transition="animating"===a?g:"transform 0s"}else u.transition="transform 0s",1===i&&(u.transform="");var m=Math.min(e.height,t.height);return this.substrateStyles(m+"px",u.top),u},flipBookClass:function(){var t={};t.zoomed=1!==this.zoomFactor||1!==this.scaleFactor,t.rtl=this.isRTLBook,t["arrow-attract-right"]="right"===this.arrowAttract,t["arrow-attract-left"]="left"===this.arrowAttract;var e=this.$store.state.book.bookSize.height/this.$store.state.book.bookSize.width;return this.isHardcover&&(e<=1.1&&e>=.9?t.square=!0:e>1.1?t.portrait=!0:t.landscape=!0),t["drag-active"]=this.dragging,t["single-page"]=this.pageCount<=2,t},pageCount:function(){return this.$store.getters["pages/pagesCount"]},currentPages:function(){var t=this.$store.state.pager,e=t.singleMode?t.rightPage:t.leftPage||t.rightPage,i=this.$store.getters["pages/pageIndexById"](e);return{rightPage:t.rightPage,leftPage:t.leftPage,target:t.lastTarget,singleMode:t.singleMode,zoomMode:t.zoomMode,hardcover:this.isHardcover&&(0===i||i===this.pageCount-1)}},singleMode:function(){return this.$store.state.pager.singleMode},forceRerender:function(){return this.$store.state.pager.forceRerender},holderOriginalWidth:function(){return"both"!==this.visiblePages||this.singleMode?this.pageSize.width:2*this.pageSize.width},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},frozenBy:function(){return this.$store.state.workspace.frozenBy?this.$store.state.workspace.frozenBy:null},zoomPanel:function(){return this.$store.state.workspace.zoomPanel},wheelScroll:function(){return this.$store.state.workspace.wheelScroll},workspaceSize:function(){return this.$store.state.workspace.containerSize},minZoom:function(){var t=this.isHardcover&&(this.isFirstPage||this.isLastPage)?1.03:1;return Math.min(this.$store.state.workspace.containerSize.height/(this.$store.state.pages.size.height*t/this.$store.state.pages.size.zoomFactor),this.$store.state.workspace.containerSize.width/(this.$store.state.pages.size.width*t*2/this.$store.state.pages.size.zoomFactor))},maxZoom:function(){return this.$store.state.workspace.maxZoom},animationSpeed:function(){return this.isFirefox?1e3:this.scaleFactor<1?400:600},isMini:function(){return this.$store.state.workspace.mini},isEmbed:function(){return this.$store.state.workspace.isEmbed},version:function(){return this.$store.getters["info/version"]},isMobile:function(){return"mobile"===this.$store.state.workspace.layout},isFirefox:function(){return!0===this.$store.state.workspace.userAgentInfo.browser.firefox},isIE:function(){return!0===this.$store.state.workspace.userAgentInfo.browser.msie},isMac:function(){return!0===this.$store.state.workspace.userAgentInfo.os.mac},isRTLBook:function(){return this.$store.state.book.rightToLeft},isLocaleRtl:function(){return this.$store.getters["i18n/isLocaleRtl"]},isHardcover:function(){return this.$store.getters["book/hasHardcover"]},hardcoverColor:function(){return this.$store.state.book.hardcoverColor},hasThickness:function(){return this.$store.state.book.thickness},isFirstPage:function(){var t=this.$store.getters["pager/isFirstPage"],e=this.$store.getters["pager/isLastPage"];return this.isRTLBook?e:t},isLastPage:function(){var t=this.$store.getters["pager/isLastPage"],e=this.$store.getters["pager/isFirstPage"];return this.isRTLBook?e:t},isSecondPage:function(){var t=this.$store.getters["pager/prevPageId"];return this.$store.getters["pages/isFirstPage"](t)},isSecondToLastPage:function(){var t=this.$store.getters["pager/nextPageId"];return this.$store.getters["pages/isLastPage"](t)},showLeftButtons:function(){var t=!(1!==this.zoomFactor||1!==this.scaleFactor||"html"!==this.version||this.isFirstPage||this.hideLeftArrow&&(this.isRTLBook?this.isSecondToLastPage:this.isSecondPage));return t||this.switchFocus("left","right"),t},showRightButtons:function(){var t=!(1!==this.zoomFactor||1!==this.scaleFactor||"html"!==this.version||this.isLastPage||this.hideRightArrow&&(this.isRTLBook?this.isSecondPage:this.isSecondToLastPage));return t||this.switchFocus("right","left"),t},notesEnabled:function(){return this.$store.state.workspace.components.notes&&!this.isMini},showRightAddNote:function(){return(this.showRightButtons||this.hideRightArrow)&&(!this.isLocaleRtl||this.isFirstPage)},addNoteTitleText:function(){return this.$t("NotesToolWindow.ADD_NOTE")},leftArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.NEXT_PAGE_TIP"):this.$t("NavigationPanel.PREV_PAGE_TIP")},rightArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.PREV_PAGE_TIP"):this.$t("NavigationPanel.NEXT_PAGE_TIP")},leftMostArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.LAST_PAGE_TIP"):this.$t("NavigationPanel.FIRST_PAGE_TIP")},rightMostArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.FIRST_PAGE_TIP"):this.$t("NavigationPanel.LAST_PAGE_TIP")},bookState:function(){return this.flipAdapter},selectTextEnabled:function(){return!this.isMobile&&!this.isIE&&this.$store.state.workspace.components.textSelection},arrowAttract:function(){return this.$store.getters["workspace/arrowAttract"]},eventHandlers:function(){var t=this.isEmbed?{}:{doubletap:this.zoomByTap,pinchstart:this.zoomByPinchStart,pinchmove:this.zoomByPinchMove,pinchend:this.zoomByPinchFinish,pinchcancel:this.zoomByPinchFinish};return t.tap=this.isHardcover?this.clickOnCover:function(){},t}},methods:{clickOnCover:function(t){for(var e=Object(g.composedPath)(t.target),i=0,s=e.length;i<s&&!e[i].classList.contains("page");i++){if(e[i].classList.contains("z1")&&e[i].classList.contains("hard-front")){this.nextPage();break}if(e[i].classList.contains("z3")&&e[i].classList.contains("hard-front")){this.prevPage();break}}},switchFocus:function(t,e){["notes","go","go-last"].forEach((function(i){var s,o=[i,t].join("-"),r=[i,e].join("-");(null===(s=document.activeElement)||void 0===s?void 0:s.getAttribute("data-nav-name"))===o&&document.querySelector('[data-nav-name="'+r+'"]').focus()}))},onRenderStart:function(t){t.drag&&"left"===t.hide?this.hideLeftArrow=!0:t.drag&&"right"===t.hide&&(this.hideRightArrow=!0),this.animation=!0,this.$root.$emit("turnStart")},onRenderFinish:function(){this.hideLeftArrow=!1,this.hideRightArrow=!1,this.animation=!1,this.$root.$emit("render:finish"),this.$root.$emit("turnStop")},onFlipFinished:function(){this.$root.$emit("turned")},onWheel:function(t){if(!(!this.wheelScroll||Date.now()-this.lastWheelTime<200||t.target&&"note-article"===t.target.className)){if(t.ctrlKey||t.metaKey){if("ready"!==this.status)return;var e=-1*t.deltaY,i=this.getSuitableZoomFactor(this.zoomFactor,e,this.minZoom,this.maxZoom);e<0&&!i&&this.zoomOut(),i&&this.setZoom(i,!0,{x:t.clientX,y:t.clientY})}else{if(this.zoomFactor>1||this.scaleFactor>1)return;this.$store.state.notes.opened&&this.$store.dispatch("notes/setOpenedId",{id:null}),t.deltaY>0?this.$store.dispatch("pager/goForward",{target:"wheel"}):t.deltaY<0&&this.$store.dispatch("pager/goBackward",{target:"wheel"})}this.lastWheelTime=Date.now()}},zoomMove:function(t){if(t&&t.direction)if("ready"===this.status){var e;switch(t.direction){case"left":case"right":e=this.getScrollAmount(t,this.iscroll.x,0,this.containerSize,this.bookHolderSize),this.iscroll.scrollBy(e,0);break;case"up":case"down":e=this.getScrollAmount(t,0,this.iscroll.y,this.containerSize,this.bookHolderSize),this.iscroll.scrollBy(0,e);break;case"drag":this.dragActive=t.active,this.iScrollInit(this.dragActive)}this.iscroll&&(this.holderScrollX=this.iscroll.x,this.holderScrollY=this.iscroll.y,this.$store.dispatch("text/setHolderScroll",{x:this.holderScrollX,y:this.holderScrollY}))}else"drag"===t.direction&&(this.dragActive=t.active)},getVisiblePages:function(){return this.isOnlyRightPage?"right":this.isOnlyLeftPage?"left":"both"},toggleBlockOnFlip:function(){var t=this;1!==this.zoomFactor||this.zoomPanel||"ready"!==this.status?this.flipAdapter.block(!0):setTimeout((function(){t.flipAdapter.unblock()}),20)},refreshScroll:function(){var t=this;this.cancelDragging(),this.$nextTick((function(){t.zoomFactor>1&&"ready"===t.status?t.iScrollInit(t.dragActive):t.iscroll&&(t.holderScrollX=0,t.holderScrollY=0,t.$store.dispatch("text/setHolderScroll",{x:t.holderScrollX,y:t.holderScrollY}),t.iscroll.destroy(),delete t.iscroll)}))},onScrollEnd:function(){this.cancelDragging(),this.holderScrollX=this.iscroll.x,this.holderScrollY=this.iscroll.y,this.$store.dispatch("text/setHolderScroll",{x:this.holderScrollX,y:this.holderScrollY})},onScrollBegin:function(){this.holderScrollX=this.iscroll.x,this.holderScrollY=this.iscroll.y,this.$store.dispatch("text/setHolderScroll",{x:this.holderScrollX,y:this.holderScrollY})},setDragging:function(){1!==this.zoomFactor&&(this.dragging=!0)},cancelDragging:function(){this.dragging=!1},zoomOut:function(t){if(1!==this.zoomFactor){if(this.lastZoomFactor=Math.max(this.zoomFactor,this.defaultZoomFactor),t)return this.status="calculating",this.zoomFactor=1,this.scaleFactor=1,this.refreshScroll(),this.holderScrollLeft=0,this.holderScrollTop=0,this.status="ready",void this.$root.$emit("unzoomed");this.zoomByTap({center:{x:0,y:0}})}},zoomByTap:function(t){if(!(this.zoomTimeout>Date.now()||this.isWorkspaceFrozen||"ready"!==this.status||"pending"!==this.$store.state.pager.flipState||this.isMini)){t||(t={center:{x:this.isRTLBook?this.workspaceSize.width:0,y:0},target:null});var e=["next-button","previous-button","icon-book-next","icon-book-prev","reflex-container"];if(!t.target||!(e.indexOf(t.target.className)>=0||t.target.classList.contains("stripe")||t.target.classList.contains("page-stripe")||"0-0"===t.target.dataset.page||"textarea"===t.target.tagName.toLowerCase())){this.status="calculating";var i,s=!1,o=this.getTappedZoomBlock(t);if("mobile"===this.version&&o.id){s=this.lastZoomBlockID!==o.id;var r=this.bookHolderElement.getBoundingClientRect();i=this.getBlockRect(o.rect,r)}if(this.lastZoomBlockID=s?o.id:null,s){this.updateHolderScroll(!0);var n=1*(.96*this.containerSize.width/i.width).toFixed(2);this.scaleFactor=this.checkScaleFactorForZoom(n,this.zoomFactor,this.maxZoom)}else this.scaleFactor=1!==this.zoomFactor||this.zoomPanel?this.holderOriginalWidth/this.bookHolderSize.width:this.lastZoomFactor;var a={x:t.center.x-this.bookHolderSize.left,y:t.center.y-this.bookHolderSize.top},h=Object(f.getNewCenteredBounds)(this.containerSize,this.bookHolderSize,this.scaleFactor,a);if(s){var l=i.left*this.scaleFactor,c=i.width*this.scaleFactor;h.left=-l+(this.containerSize.width-c)/2}h=Object(f.normalizeBounds)(h,this.containerSize),this.status="animating",this.scaleOrigin=Object(f.getOrigin)(this.bookHolderSize,h,this.scaleFactor),this.newBounds=h,this.refreshScroll(),this.flipAdapter.setZoom(this.scaleFactor*this.zoomFactor>1),this.scaleFactor>1?this.$root.$emit("zoomed"):(this.scaleFactor<1||this.zoomPanel&&1===this.scaleFactor)&&this.$root.$emit("unzoomed"),this.$store.dispatch("workspace/setHighlightTimeout",Date.now()+1e3)}}},zoomByPinchStart:function(t){this.isWorkspaceFrozen||"ready"!==this.status||"inProgress"===this.$store.state.pager.flipState||this.isMini||(this.minScale=this.holderOriginalWidth/this.bookHolderSize.width,this.scaleFactor=1,this.updateHolderScroll(!0),this.scaleOrigin={x:t.center.x-this.bookHolderSize.left,y:t.center.y-this.bookHolderSize.top},this.status="pinch")},zoomByPinchMove:function(t){if("pinch"===this.status){var e=Math.max(t.scale,this.minScale);this.scaleFactor=this.checkScaleFactorForZoom(e,this.zoomFactor,this.maxZoom)}},zoomByPinchFinish:function(t){if("pinch"===this.status){var e=Object(f.getNewBounds)(this.bookHolderSize,this.scaleFactor,{x:this.scaleOrigin.x,y:this.scaleOrigin.y});e=Object(f.normalizeBounds)(e,this.containerSize),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.holderScrollLeft=1===this.zoomFactor?0:e.left,this.holderScrollTop=1===this.zoomFactor?0:e.top,this.status="ready",this.scaleFactor>1?this.$root.$emit("zoomed"):this.scaleFactor<1&&this.$root.$emit("unzoomed"),this.scaleFactor=1}},setZoom:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;if(!this.isWorkspaceFrozen&&"ready"===this.status){this.scaleFactor=t/this.zoomFactor,this.updateHolderScroll(!1);var s=i||{x:this.workspaceSize.width/2,y:this.workspaceSize.height/2},o={x:s.x-this.bookHolderSize.left,y:s.y-this.bookHolderSize.top},r=Object(f.getNewBounds)(this.bookHolderSize,this.scaleFactor,o);r=Object(f.normalizeBounds)(r,this.containerSize),this.scaleOrigin=Object(f.getOrigin)(this.bookHolderSize,r,this.scaleFactor),this.newBounds=r,this.flipAdapter.setZoom(this.scaleFactor*this.zoomFactor>1),this.fastAnimation=e,this.status="animating",this.refreshScroll()}},setScaleStart:function(){this.minScale=Math.max(this.minZoom/this.zoomFactor,this.holderOriginalWidth/this.bookHolderSize.width),this.maxScale=this.maxZoom/this.zoomFactor,this.scaleFactor=1,this.updateHolderScroll(!1),this.scaleOrigin={x:this.workspaceSize.width/2-this.holderScrollLeft,y:this.workspaceSize.height/2-this.holderScrollTop},this.status="scale"},setScale:function(t){if("scale"===this.status){var e=this.minScale+(this.maxScale-this.minScale)*t,i=Object(f.getNewBounds)(this.bookHolderSize,e,{x:this.workspaceSize.width/2-this.holderScrollLeft,y:this.workspaceSize.height/2-this.holderScrollTop});i=Object(f.normalizeBounds)(i,this.containerSize),this.scaleOrigin=Object(f.getOrigin)(this.bookHolderSize,i,e);var s=Math.min(this.maxScale,Math.max(this.minScale,e));this.scaleFactor=this.checkScaleFactorForZoom(s,this.zoomFactor,this.maxZoom)}},setScaleFinish:function(){if("scale"===this.status){var t=Object(f.getNewBounds)(this.bookHolderSize,this.scaleFactor,this.scaleOrigin);t=Object(f.normalizeBounds)(t,this.containerSize),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.scaleFactor=1,this.holderScrollLeft=1!==this.zoomFactor?t.left:0,this.holderScrollTop=1!==this.zoomFactor?t.top:0,this.status="ready"}},changeZoom:function(t){switch(t.action){case"setZoom":this.setZoom(t.zoomFactor,t.fast);break;case"startScale":this.setScaleStart();break;case"changeScale":this.setScale(t.scalePosition);break;case"endScale":this.setScaleFinish();break;case"zoomIn":this.zoomByTap();break;case"zoomOut":this.dragActive=!0,this.zoomOut()}},transitionEnd:function(t){t&&"transform"===t.propertyName&&t.target===this.bookHolderElement&&"animating"===this.status&&(this.fastAnimation=!1,this.lastZoomFactor=Math.max(this.zoomFactor,this.defaultZoomFactor),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.scaleFactor=1,this.holderScrollLeft=1===this.zoomFactor?0:this.newBounds.left,this.holderScrollTop=1===this.zoomFactor?0:this.newBounds.top,this.status="ready",this.$emit("transition:end"))},updateHolderScroll:function(t){t&&1===this.zoomFactor||(this.containerSize.width<this.bookHolderSize.width&&(this.holderScrollLeft=this.holderScrollX),this.containerSize.height<this.bookHolderSize.height&&(this.holderScrollTop=this.holderScrollY))},contentCreator:function(t){return b["content-"+t.type]},nextPage:function(){this.addNoteTimeout>Date.now()||(this.zoomTimeout=Date.now()+500,this.$store.dispatch(this.isRTLBook?"pager/goBackward":"pager/goForward",{target:"nav-arrow-tap"}))},prevPage:function(){this.addNoteTimeout>Date.now()||(this.zoomTimeout=Date.now()+500,this.$store.dispatch(this.isRTLBook?"pager/goForward":"pager/goBackward",{target:"nav-arrow-tap"}))},lastPage:function(){this.zoomTimeout=Date.now()+500,this.isRTLBook?this.$store.dispatch("pager/goToFirst",{target:"nav-first"}):this.$store.dispatch("pager/goToLast",{target:"nav-last"})},firstPage:function(){this.zoomTimeout=Date.now()+500,this.isRTLBook?this.$store.dispatch("pager/goToLast",{target:"nav-last"}):this.$store.dispatch("pager/goToFirst",{target:"nav-first"})},arrowHover:function(t,e){e?this.$el.classList.add(t+"-highlighted"):this.$el.classList.remove(t+"-highlighted")},btnAddNote:function(t){this.zoomTimeout=Date.now()+500,this.addNoteTimeout=Date.now()+500;var e="left"===t&&!this.isRTLBook||"right"===t&&this.isRTLBook?this.currentPages.leftPage:this.currentPages.rightPage,i="right"===t&&this.currentPages.leftPage===this.currentPages.rightPage;this.$store.dispatch("notes/addNote",{pageId:e,wideRight:i})},iScrollInit:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];1!==this.zoomFactor&&(this.iscroll?(this.holderScrollX=this.iscroll.x,this.holderScrollY=this.iscroll.y,this.iscroll.off("beforeScrollStart",this.setDragging),this.iscroll.off("scrollCancel",this.cancelDragging),this.iscroll.off("scroll",this.onScrollBegin),this.iscroll.off("scrollEnd",this.onScrollEnd),this.iscroll.destroy(),delete this.iscroll):(this.holderScrollX=this.containerSize.width<this.bookHolderSize.width?this.bookHolderSize.left:0,this.holderScrollY=this.containerSize.height<this.bookHolderSize.height?this.bookHolderSize.top:0),this.iscroll=new v.a(this.$el,{mouseWheel:t,scrollbars:!1,freeScroll:!this.isMobile,scrollX:this.containerSize.width<this.bookHolderSize.width,scrollY:this.containerSize.height<this.bookHolderSize.height,probeType:1,bindToWrapper:this.isMobile,bounce:!1,useTransition:!0,startX:this.holderScrollX,startY:this.holderScrollY,disablePointer:!0,disableTouch:!1,disableMouse:!t}),this.$store.dispatch("text/setHolderScroll",{x:this.holderScrollX,y:this.holderScrollY}),this.iscroll.on("beforeScrollStart",this.setDragging),this.iscroll.on("scrollCancel",this.cancelDragging),this.iscroll.on("scroll",this.onScrollBegin),this.iscroll.on("scrollEnd",this.onScrollEnd))},enableArrowAttract:function(){var t=this.isHardcover&&this.isFirstPage,e=this.isHardcover&&this.isLastPage,i=2===this.pageCount;t||i&&!this.isRTLBook?this.$store.dispatch("workspace/setArrowAttract","right"):(e||i&&this.isRTLBook)&&this.$store.dispatch("workspace/setArrowAttract","left")},getPageInfo:function(t,e,i){return{page:t,wide:this.$store.getters["pages/pageProp"](t,"wide"),first:this.$store.getters["pages/isFirstPage"](t),last:this.$store.getters["pages/isLastPage"](t),index:null!==t?this.$store.getters["pages/pageIndexById"](t):this.$store.getters["pages/pageIndexById"](e)+i}},getStateInfo:function(t){return{right:this.getPageInfo(t.rightPage,t.leftPage,1),left:this.getPageInfo(t.leftPage,t.rightPage,-1),differentPages:t.rightPage!==t.leftPage}}}}},function(t,e,i){"use strict";i.r(e);var s=i(615),o=i(107),r=(i(631),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/common/page/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(108);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(8),o=i(45),r=i(24),n=i.n(r),a=i(616),h=i(621),l=i(5),c=i(624),d=i(14),u=i(628);function p(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=f(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,o=function(){};return{s:o,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return n=t.done,t},e:function(t){a=!0,r=t},f:function(){try{n||null==i.return||i.return()}finally{if(a)throw r}}}}function f(t,e){if(t){if("string"==typeof t)return g(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}e.default={props:{id:{type:[String,Number],required:!0},side:{type:String,required:!1,default:"both",validator:function(t){return-1!==["left","right","both"].indexOf(t)}},bordered:{type:Boolean,default:!1},size:{type:Object,required:!1,default:null},renderContent:{type:Boolean,default:!0},contentCreator:{type:Function,default:function(){}},deferPageLoad:{type:Boolean,default:!0},autoHighlight:{type:Boolean,default:!0},contentCrop:{type:Boolean,default:!1}},data:function(){return{zoomInProgress:!1,alreadyLoaded:!1,thDebounced:!0,isCurrent:!1,isHighlighted:!1,pageId:this.id,pageSide:this.side,crossOrigin:Object(l.default)().getCrossOrigin(),contentItemsReady:0,highlightTimeout:null,highlightOffTimeout:null,preloaderVisibleCache:!1,backgroundsCache:null,vectorLayerCache:null,isLoadingCache:null,updatePendingCache:null,tapTimeout:0,tapped:!1,canvasUpdated:!1,resizeCancelled:!1,cancelResize:function(){},urlBlackList:this.$store.state.workspace.urlBlackList,stubUrl:Object(l.default)().translatePath("assets/pages/pagestub.png"),whitePixelUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",devicePixelRatio:window.devicePixelRatio,lastIsCurrent:!1,rtlContent:null,isLoading:!0,thumbnailUrl:null,isSVGSupported:!1,textUrl:null,substrateUrl:null,backgroundColor:"#ffffff",isWide:!1,isWideLeft:!1,isStub:!1,isReady:!1,hasError:!1,isOutsideHardcover:!1,propWidth:null,propHeight:null,loadPending:!1,pageContent:null,contentActive:!0,hideLeftStripe:null,hideRightStripe:null,noImageCache:!1}},components:{spinner:n.a,selectText:a.default,selectTextMobile:h.default,note:c.default,flipMe:u.default},watch:{rawIsLoading:function(t,e){e!==t&&(this.isLoading=t)},id:function(t){this.pageId=t},pageId:function(t,e){t&&(this.getOnceProperties(),this.getAPIProperties(),this.getProperties()),this.deregisterPage(e),this.registerPage(t)},side:function(t){this.pageSide=t},isLoading:function(t){var e=this;t||setTimeout((function(){e.thDebounced=!1,e.$emit("loaded",e)}),400),this.refreshCache()},hasError:function(t){t&&this.isCurrent&&this.$root.$emit("pageLoaded"),t&&this.isZoomed&&this.setCursor("inherit")},updatePending:function(t){this.refreshCache(),t&&!this.hasError&&this.setCursor("progress")},isZoomed:function(t){t||this.setCursor("inherit")},isCurrent:function(t){this.lastIsCurrent!==t&&(this.alreadyLoaded&&this.getProperties(),t?(this.checkHighlight(),this.updateCanvasDebounced(!1)):(this.isHighlighted=!1,this.cancelResize("not current",!0)),this.lastIsCurrent=t)},contentPagesArray:function(t){this.getContent()},content:function(t){t.length>0&&this.$emit("content:changed"),this.refreshCache()},isResizing:function(t){this.$emit("resize:"+(t?"start":"end")),this.refreshCache(),t?(clearTimeout(this.highlightTimeout),clearTimeout(this.highlightOffTimeout),this.isHighlighted=!1):this.checkHighlight()},isPreloaderShown:function(t){t||this.$emit("preloader:off",this)},contentFreezed:function(t){this.refreshCache(),t?this.cancelResize("freezed",!0):(this.resizeCancelled=!1,this.updateCanvasDebounced(!1))},preloaderVisible:function(t,e){this.refreshCache(),this.isCurrent&&!t&&e&&this.$root.$emit("pageLoaded")},backgrounds:function(){this.refreshCache()},backgroundsCache:function(){this.updateCanvasDebounced(!0)},changeProperty:function(t){t.pageID===this.pageId&&this.getPropertiesDebounced()},apiChange:function(){this.getAPIProperties()}},created:function(){var t=this;this.getPropertiesDebounced=Object(s.debounce)((function(){t.getProperties()}),100),this.updateCanvasDebounced=Object(s.debounce)((function(e){e&&(t.canvasUpdated=!1),t.updateCanvas()}),1e3),this.getOnceProperties(),this.getAPIProperties(),this.getProperties(),this.registerPage(),this.loadPending||(this.loadPending=!0,this.alreadyLoaded=!0,setTimeout((function(){t.getProperties()}),500)),this.isLoading=this.rawIsLoading,this.$root.$on("render:finish",this.getIsCurrent),this.getIsCurrent();var e=this.$store.getters["pages/isFirstPage"](this.pageId),i=this.$store.getters["pages/isLastPage"](this.pageId);this.hideLeftStripe=this.isRTLBook?i:e,this.hideRightStripe=this.isRTLBook?e:i;var o=this.$store.state.workspace.userAgentInfo;o.browser.facebook&&o.os.android&&(this.noImageCache=!0)},mounted:function(){var t=this;this.refreshCache(),this.$root.$on("zoomMove",this.zoomMove),this.getContent(),setTimeout((function(){t.isCurrent&&!t.isReady&&t.$root.$emit("pageLoaded")}),1e3)},beforeUpdate:function(){this.contentItemsReady>this.content.length&&(this.contentItemsReady=this.content.length)},beforeDestroy:function(){this.cancelResize("destroyed",!0),this.$root.$off("render:finish",this.getIsCurrent),this.$root.$off("zoomMove",this.zoomMove),clearTimeout(this.highlightTimeout),clearTimeout(this.highlightOffTimeout),this.$refs.bgImage.onload=null,this.$refs.bgImage.onerror=null,this.$refs.bgImage.src="",this.$refs.bgSVG&&(this.$refs.bgSVG.src=""),this.deregisterPage(),this.noImageCache&&this.$store.dispatch("pages/resetPageResources",{pageID:this.pageId})},methods:{bgCacheImageLoaded:function(t){this.isZoomed&&t===this.substrateUrl&&this.setCursor("inherit")},setCursor:function(t){this.isMobile||(this.$el.style.cursor=t)},getIsCurrent:function(){var t,e=this.$store.getters["pager/state"],i=this.pageId,s=this.isWide,o=this.pageSide;if(e.singleMode){var r=this.isRTLBook?"left":"right",n=this.isRTLBook?"right":"left";t=e.rightPage===e.leftPage?o===r:i===e.rightPage&&(!s||o===n)}else t=i===e.leftPage||i===e.rightPage;this.isCurrent=t},getContent:function(){this.pageContent=this.$store.getters["pages/pageContent"](this.pageId)},getProperties:function(){this.isSVGSupported=this.$store.getters["pages/isSVGSupported"](this.pageId),this.thumbnailUrl=this.$store.getters["pages/pageProp"](this.pageId,"thumbnailUrl"),this.textUrl=this.$store.getters["pages/pageProp"](this.pageId,"textUrl"),this.substrateUrl=this.$store.getters["pages/pageProp"](this.pageId,"substrateUrl"),this.isReady=this.$store.getters["pages/pageProp"](this.pageId,"status")===d.default.READY,this.loadPending=this.$store.getters["pages/pageProp"](this.pageId,"loadPending"),this.hasError=this.$store.getters["pages/hasError"](this.pageId)},getOnceProperties:function(){this.propWidth=this.$store.getters["pages/pageProp"](this.pageId,"width"),this.propHeight=this.$store.getters["pages/pageProp"](this.pageId,"height")},getAPIProperties:function(){this.isWide=this.$store.getters["pages/pageProp"](this.pageId,"wide"),this.isStub=this.$store.getters["pages/pageProp"](this.pageId,"stub"),this.backgroundColor=this.enforceTransparentBg?null:this.$store.getters["pages/pageProp"](this.pageId,"backgroundColor"),this.isOutsideHardcover="flip-book"===this.bookComponent&&this.$store.getters["book/hasHardcover"]&&(this.$store.getters["pages/isLastPage"](this.pageId)&&this.$store.getters["pages/pageIndexById"](this.pageId)%2!=0&&!this.isWide&&!this.$store.getters["pager/state"].singleMode||this.$store.getters["pages/isFirstPage"](this.pageId))},refreshCache:function(){var t=this;this.contentFreezed||this.$nextTick((function(){t.preloaderVisibleCache=t.preloaderVisible,t.backgroundsCache=t.backgrounds,t.vectorLayerCache=t.vectorLayer,t.isLoadingCache=t.isLoading,t.updatePendingCache=t.updatePending}))},isVisible:function(t){if(!1===this.isWide||this.isWide&&"both"===this.pageSide)return!0;var e=this.$store.getters["pages/pageProp"](this.pageId,"width");return this.isWide&&"left"===this.pageSide?e/2>t.rect[2]:this.isWide&&"right"===this.pageSide?e/2<t.rect[2]+t.rect[0]:void 0},isCrossWide:function(t){if(!1===this.isWide||this.isWide&&"both"===this.pageSide)return!1;var e=this.$store.getters["pages/pageProp"](this.pageId,"width");return e/2>t.rect[2]&&e/2<t.rect[2]+t.rect[0]},checkPageStripes:function(t){if(!this.isCurrent||this.isZoomed||"flip-book"!==this.bookComponent||t.srcEvent.metaKey||t.srcEvent.ctrlKey)return!1;var e=this.$el.getBoundingClientRect();return"left"===this.pageSide&&!this.hideLeftStripe&&t.center.x-e.left<.05*e.width?(this.leftStripeTap(),!0):"right"===this.pageSide&&!this.hideRightStripe&&t.center.x-e.left>.95*e.width&&(this.rightStripeTap(),!0)},onMouseDown:function(){var t;"input"===(null===(t=document.activeElement)||void 0===t?void 0:t.tagName.toLowerCase())&&document.activeElement.blur()},onContentTap:function(t){var e=this;if(!this.isWorkspaceFrozen){var i=null!==this.$store.state.text.selectionRect;i&&this.$store.dispatch("text/reset");var o=t.target.classList;if(o)if(o.contains("link"))this.tapped=!0,Date.now()>this.tapTimeout&&(setTimeout((function(){e.linkTo(t.target)}),this.$store.state.workspace.doubletapInterval+1),this.tapTimeout=Date.now()+this.$store.state.workspace.doubletapInterval),setTimeout((function(){e.tapped=!1}),500);else if("desktop"===this.layout&&!i){var r=Object(s.classPath)(t.target);if(!o.contains("block")&&!o.contains("text-block")&&-1===r.indexOf("content")&&this.checkPageStripes(t))return;(o.contains("content")||o.contains("block")||o.contains("text-block")||o.contains("selecttext")||o.contains("select-text-canvas"))&&setTimeout((function(){if(!(e.$store.state.workspace.highlightTimeout+350>Date.now())){clearTimeout(e.highlightTimeout),clearTimeout(e.highlightOffTimeout);var t=e.getSpreadTwin();null!==t&&(clearTimeout(t.highlightTimeout),clearTimeout(t.highlightOffTimeout),t.isHighlighted=!e.isHighlighted),e.isHighlighted=!e.isHighlighted,e.$root.$emit("highlight",{action:e.isHighlighted?"on":"off"})}}),350)}}},linkTo:function(t){if("ready"===this.bookStatus){var e=t.getAttribute("data-id"),i=t.getAttribute("data-url");if(e&&!i)this.$store.dispatch("pager/goToPageById",{id:e,target:"link"}),this.$emit("link:click",t),this.$root.$emit("link",{type:"internal",source:"page",pageId:this.pageId,pageToId:e});else if(i){var s=!1===this.checkUrl(i);if(this.$root.$emit("link",{type:"external",pageId:this.pageId,url:i,target:t.target,source:null,isBlacklisted:s}),s)return;t.setAttribute("href",i),t.click(),t.removeAttribute("href"),this.$emit("link:click",t)}}},checkUrl:function(t){for(var e=0;e<this.urlBlackList.length;e++)if(-1!==t.indexOf(this.urlBlackList[e]))return!1;return!0},checkHighlight:function(){var t=this;if(this.isCurrent){var e=this.getSpreadTwin();null!==e&&e.isLoading?e.$once("loaded",(function(){t.checkHighlight()})):this.isLoading||this.isResizing||this.isPreloaderShown?this.isLoading&&this.content.length>0?this.$once("loaded",(function(){this.checkHighlight()})):this.isPreloaderShown?this.$once("preloader:off",(function(){this.checkHighlight()})):0===this.content.length&&this.$once("content:changed",(function(){this.checkHighlight()})):(this.autoHighlight&&this.highlightContent(),this.$emit("highlight"))}},highlightContent:function(){var t=this,e=this.getSpreadTwin(),i=this.$store.state.pager.singleMode;e&&this.isWide&&!i&&"right"===this.pageSide||(this.highlightTimeout=setTimeout((function(){t.isHighlighted=!0,e&&(e.isHighlighted=!0),t.highlightOffTimeout=setTimeout((function(){t.isHighlighted=!1,e&&(e.isHighlighted=!1)}),500)}),500))},contentItemReady:function(t){"link"!==t.data.type&&this.contentItemsReady++},contentError:function(){this.$store.dispatch("pages/setStatus",{value:d.default.ERROR,pageID:this.pageId})},registerPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageId;this.renderContent&&this.$pageRegistry.registerPage(t,this.pageSide,this)},deregisterPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageId;this.renderContent&&this.$pageRegistry.deregisterPage(t,this.pageSide)},getSpreadTwin:function(){var t=this.$store.getters["pager/state"];return!this.isCurrent||t.singleMode||"both"===this.pageSide?null:this.pageId!==t.leftPage||this.isWide&&"right"===this.pageSide?this.pageId===t.rightPage?this.$pageRegistry.getPageComponent(t.leftPage,"left"):null:this.$pageRegistry.getPageComponent(t.rightPage,"right")},updateCanvas:function(){var t=this;if(!("desktop"!==this.layout||!this.isCurrent||this.isZoomed||this.canvasUpdated||this.contentFreezed||this.devicePixelRatio>1.5)&&(!this.isWide||"right"!==this.pageSide)&&this.backgroundsCache&&this.backgroundsCache[0]){this.cancelResize("new resize",!1),this.resizeCancelled=!1;var e=new Image;this.crossOrigin&&(e.crossOrigin=this.crossOrigin),e.onload=function(){var i=document.createElement("canvas"),s=i.getContext("2d");if(i.style.transform="translateZ(0)",e.onload=null,!t.resizeCancelled)if(t.backgroundsCache.length>1){var o=new Image;t.crossOrigin&&(o.crossOrigin=t.crossOrigin),o.onload=function(){o.onload=null,t.resizeCancelled||(i.width=o.width,i.height=o.height,s.drawImage(e,0,0,o.width,o.height),s.drawImage(o,0,0,o.width,o.height),o.src="",o=null,e=null,t.resizeCanvas(i,t.$refs.bgImage),s=null,i=null)},o.src=t.backgroundsCache[1]}else i.width=e.width,i.height=e.height,s.drawImage(e,0,0,e.width,e.height),e=null,t.resizeCanvas(i,t.$refs.bgImage),s=null,i=null},e.src=this.backgroundsCache[0]}},skipResize:function(){var t=this.$store.state.workspace.userAgentInfo.browser;return t.firefox||t.ie||t.msie||t.msedge},resizeCanvas:function(t,e){var i=this;if(!this.skipResize()&&!this.resizeCancelled){this.cancelResize("new resize",!1);var s=new Date,o=s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+"."+s.getMilliseconds(),r=this.pageId+"_"+o,n=document.createElement("canvas");this.cancelResize=function(t,e){try{e&&(i.resizeCancelled=!0),r&&i.bookElement.cancelResize&&i.bookElement.cancelResize(r),n=null}catch(s){i.$emit("error",s)}},n.style.transform="translateZ(0)",n.width=this.contentSize.width*(this.isWide&&"both"!==this.pageSide?2:1)*this.devicePixelRatio,n.height=this.contentSize.height*this.devicePixelRatio,n.getContext("2d").drawImage(t,0,0,n.width,n.height);var a={unsharpAmount:80,unsharpRadius:.6,unsharpThreshold:166,quality:3,alpha:!0};if(!this.resizeCancelled&&this.bookElement.resizePage){var h=this;this.bookElement.resizePage(t,n,a,r,(function(i){if(i){var s=i.toDataURL();if(h.setResizedImg(e,h,s),h.isWide){var o=h.getSpreadTwin();null!==o&&h.setResizedImg(o.$refs.bgImage,o,s)}}r=null,t=null,n=null}))}}},setResizedImg:function(t,e,i){if(t){t.onload=function(){t.onload=null,setTimeout((function(){e.resizeCancelled||(e.canvasUpdated=!0)}),500)};var s=window.MSInputMethodContext&&document.documentMode?1e4:6500;i.length>s&&(t.src=i)}},leftStripeTap:function(){this.$store.dispatch(this.isRTLBook?"pager/goForward":"pager/goBackward",{target:"page-edge-tap"})},rightStripeTap:function(){this.$store.dispatch(this.isRTLBook?"pager/goBackward":"pager/goForward",{target:"page-edge-tap"})},arrowHover:function(t,e){"function"==typeof this.bookElement.arrowHover&&this.bookElement.arrowHover(t,e)},zoomMove:function(t){"drag"===t.direction&&(this.contentActive=!!t.active)},isPointInSelection:function(t){var e=this.$el.querySelector(".select-text-canvas");if(!e)return!1;var i=e.getBoundingClientRect(),s=t.clientX-i.left,o=t.clientY-i.top,r=e.getContext("2d").getImageData(s,o,1,1).data;return r[0]+r[1]+r[2]+r[3]!==0}},computed:{zoomInBlur:function(){return!1},showPreloaderContainer:function(){return!this.isStub&&(this.thDebounced||this.preloaderVisibleCache)},showSpinner:function(){return(this.thDebounced||this.isLoadingCache||this.updatePendingCache)&&!this.contentFreezed&&this.isReady&&!this.hasError},showThumbnail:function(){return this.isReady&&!this.hasError},showHighlights:function(){return this.isCurrent&&!this.contentFreezed&&(this.isMobile||this.isSearchOpened)&&!this.showPreloaderContainer},animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]},flipCornerEnabled:function(){var t=this.$store.getters["pages/pagesCount"],e=this.$store.getters["pager/state"].rightPage,i=this.$store.getters["pages/pageIndexById"](e);if(0===i){this.isWide&&i++;var s=this.$store.state.workspace.flipCorner&&!this.isOutsideHardcover&&!!e&&t>=i+3;return this.isCurrent&&this.isOutsideHardcover&&this.$store.state.workspace.flipCorner&&this.$store.dispatch("workspace/flipCornerOff"),s&&(!this.isRTLBook&&"right"===this.pageSide||this.isRTLBook&&"left"===this.pageSide)&&!this.$store.getters["pager/state"].singleMode&&!this.contentFreezed&&this.isCurrent&&"flip-book"===this.bookComponent}},bookStatus:function(){return this.bookElement.status||"ready"},isMobile:function(){return"mobile"===this.$store.state.workspace.layout},isIE:function(){return!0===this.$store.state.workspace.userAgentInfo.browser.msie},bookComponent:function(){return this.$store.state.workspace.bookComponent},bookElement:function(){return"slide-book"===this.bookComponent?this.$parent.$parent:this.$parent},rawIsLoading:function(){return 0===this.$store.state.pages.size.width||null===this.$store.state.pages.size.width||!(this.isStub||!this.isReady||this.hasError)&&(this.contentItemsReady<this.sortedContent.visible.length||this.loadPending)},isRTLBook:function(){return this.$store.state.book.rightToLeft},apiChange:function(){return this.$store.state.pages.apiChange},changeProperty:function(){return this.$store.state.pages.changeInPage},contentFreezed:function(){return"pending"!==this.$store.state.pager.flipState},updatePending:function(){return!this.isMobile&&this.isZoomed&&this.$store.getters["pages/pageProp"](this.pageId,"updatePending")},className:function(){return{page:!0,bordered:this.bordered,loading:this.isLoadingCache,updating:this.updatePendingCache,unready:!this.isReady&&!this.hasError,error:this.hasError,highlighted:this.isHighlighted,light:this.backgroundLuma>.5,dark:this.backgroundLuma<=.5,tapped:this.tapped,"left-stripe":"flip-book"===this.bookComponent&&"left"===this.pageSide&&!this.hideLeftStripe,"right-stripe":"flip-book"===this.bookComponent&&"right"===this.pageSide&&!this.hideRightStripe,"selecttext-stripe":"flip-book"===this.bookComponent&&.9*this.pageSize.width<=this.contentSize.width,"content-inactive":!this.contentActive}},preloaderVisible:function(){return!this.isStub&&(this.isLoading||!this.isReady||this.hasError)},preloaderHeader:function(){return this.hasError?this.$t("Other.PAGE_ERROR_TITLE"):null},preloaderText:function(){return this.hasError?this.$t("Other.PAGE_ERROR_MESSAGE"):this.isReady?null:this.$t("Other.CONVERTING_PAGE")},vectorLayer:function(){return this.pageId&&this.isReady&&!this.hasError&&this.isSVGSupported?this.textUrl:null},backgrounds:function(){if(!this.pageId||!this.isReady||this.hasError)return[];var t=this.enforceTransparentBg?this.whitePixelUrl:this.stubUrl,e=this.substrateUrl,i=this.textUrl,s=this.isSVGSupported,o=[];if(this.isStub)o.push(t);else{var r=i;e&&o.push(e),r&&!s&&o.push(r)}return o},backgroundLuma:function(){return this.backgroundColor?Object(o.calculateLuma)(Object(o.parseColor)(this.backgroundColor)):1},isZoomed:function(){return this.$store.state.pages.size.zoomFactor>1},selectTextEnabled:function(){return!this.isIE&&this.$store.state.workspace.components.textSelection},mobileShowEffectPass:function(){return this.isMobile&&this.$store.state.text.pageID&&this.pageId===this.$store.state.text.pageID&&(this.pageSide===this.$store.state.text.pageSide||this.isCrossWide)},dir:function(){return this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"},contentPagesArray:function(){return this.$store.getters["content/pagesArray"]},content:function(){if(!this.pageId||!this.isReady||this.hasError||!this.renderContent||this.isStub)return[];var t=this.contentSize.scaleRatio;if(t<=0)return[];var e=this.pageContent;if(!e)return[];for(var i=this.pageId,s=this.pageSide,o=this.isWide,r=[],n=0;n<e.length;n++){var a=m({},e[n]);a.key=n,a.page={id:i,side:s,isWide:o},a.scaleRatio=t,a.crossWide=this.isCrossWide(a),a.component=this.contentCreator(a),this.isVisible(a)&&r.push(a)}return r},sortedContent:function(){var t,e={visible:[],inv:[]},i=p(this.content);try{for(i.s();!(t=i.n()).done;){var s=t.value;"link"!==s.type?e.visible.push(s):e.inv.push(s)}}catch(o){i.e(o)}finally{i.f()}return e},showInvisibleContent:function(){return this.isCurrent&&!this.contentFreezed&&!this.animationInProgress},androidIframe:function(){var t=window.location!==window.parent.location,e=this.$store.state.workspace.isEmbed,i=this.$store.state.workspace.userAgentInfo.os.android;return t&&!e&&i},isResizing:function(){return this.$store.state.workspace.isResizing},isPreloaderShown:function(){return this.$store.state.workspace.preloader},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},isSearchOpened:function(){return"search"===this.$store.state.sidebar.opened},pageWidthMultiplier:function(){return this.isWide&&"both"===this.pageSide?2:1},layout:function(){return this.$store.state.workspace.layout},rawSearchHighlights:function(){if(!this.isCurrent)return[];var t=this.$store.getters["search/getHighlights"](this.pageId);return t&&t.ready&&0!==t.data.length?t.data:[]},highlights:function(){if(!this.pageId||this.isLoading||!this.isReady||this.hasError||!this.renderContent||this.isStub||0===this.rawSearchHighlights.length)return[];var t=[],e=this.contentSize.scaleRatio;if(e.w<=0)return[];for(var i=this.rawSearchHighlights,s=this.$store.state.search.color,o=0,r=i.length;o<r;o++){var n=i[o].rect,a={width:(n[0]*e.w).toFixed(2)+"px",height:(n[1]*e.h).toFixed(2)+"px",left:(n[2]*e.w).toFixed(2)+"px",top:(n[3]*e.h).toFixed(2)+"px",backgroundColor:s};0!==i[o].angle&&(a.transformOrigin="0px 0px 0px",a.transform="rotate("+i[o].angle+"rad)"),t.push({style:a})}return t},pagesSize:function(){return this.$store.getters["pages/size"]},pageSize:function(){var t=this.isOutsideHardcover?1.03:1,e=this.size||!1,i=this.pagesSize,s=this.pageWidthMultiplier;return e&&e.width&&e.height?{width:Math.round(e.width*t),height:Math.round(e.height*t)}:{width:Math.round(i.width*s*t),height:Math.round(i.height*t)}},contentSize:function(){if(this.pageId){var t=this.isOutsideHardcover&&parseInt(this.propWidth,10)===parseInt(this.$store.state.book.bookSize.width,10)&&parseInt(this.propWidth,10)===parseInt(this.$store.state.book.bookSize.height,10)?"FILL":null;return this.$store.getters["pages/contentSize"]({pageID:this.pageId,pageSide:this.pageSide,pageSize:this.pageSize,resizeOverride:t})}return{width:0,height:0,offsetX:0,offsetY:0,scaleRatio:{w:0,h:0}}},pageStyle:function(){var t="rgba(39, 47, 55, 0.03)";return{width:(this.contentCrop?this.contentSize.width:this.pageSize.width)+"px",height:(this.contentCrop?this.contentSize.height:this.pageSize.height)+"px","background-color":this.bordered?t:this.backgroundColor}},enforceTransparentBg:function(){return this.$store.state.workspace.alteredSVGColors&&this.$store.state.workspace.userAgentInfo.browser.samsung},contentTouchLayerStyle:function(){return{width:(this.contentCrop?this.contentSize.width:this.pageSize.width)+"px",height:(this.contentCrop?this.contentSize.height:this.pageSize.height)+"px"}},thumbnailStyle:function(){var t=m({},this.contentStyle),e=Math.round(this.contentSize.width/220);return e>8&&(e=8),t.filter="blur("+e+"px)",t},contentStyle:function(){var t=this.contentSize,e=this.isWide&&"both"!==this.pageSide,i=this.contentCrop?0:(this.pageSize.width-t.width)/(e?1:2),s=this.contentCrop?0:(this.pageSize.height-t.height)/2,o={width:t.width*(e?2:1)+"px",height:t.height+"px"};return this.zoomInBlur&&(o.filter="blur(2px)"),"right"===this.pageSide&&(o.right="0",i&&(o.marginRight=i.toFixed(0)+"px")),i&&"right"!==this.pageSide&&(o.marginLeft=i.toFixed(0)+"px"),s&&(o.marginTop=s.toFixed(0)+"px"),o},notesArray:function(){for(var t=[],e=this.$store.state.notes.items,i=0,s=e.length;i<s;i++)e[i].page===this.pageId&&(this.isWide?("both"===this.pageSide||"left"===this.pageSide&&e[i].pX<=this.$store.state.book.bookSize.width||"right"===this.pageSide&&e[i].pX>this.$store.state.book.bookSize.width)&&t.push(e[i]):t.push(e[i]));return t}}}},function(t,e,i){"use strict";i.r(e);var s=i(110);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(366);e.default={name:"select-text",mixins:[s.default],data:function(){return{isActive:!1,highLightBlocks:!1,isDragging:!0}},mounted:function(){var t=this;this.$nextTick((function(){t.getPageRect()})),this.$parent.$parent.$on("highlight",this.highlight),this.$root.$on("zoomMove",this.zoomMove),this.effectOn&&this.$el.addEventListener("mousemove",this.checkMousePosition)},beforeDestroy:function(){this.resetContext(),this.$parent.$parent.$off("highlight",this.highlight),this.$root.$off("zoomMove",this.zoomMove),this.$el.removeEventListener("mousemove",this.checkMousePosition)},methods:{highlight:function(){var t=this;this.effectOn&&(this.panEnd(),this.showEffect=!0,setTimeout((function(){t.showEffect=!1,t.$store.dispatch("text/setEffect",!1)}),3e3))},test:function(t){t.srcEvent.shiftKey&&t.srcEvent.altKey&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&(this.highLightBlocks=!this.highLightBlocks)},reset:function(t){this.effectOn||(this.$el.removeEventListener("mousemove",this.checkMousePosition),this.$root.$emit("selectText:hidePanel"),t&&"panstart"===t.type&&(this.isActive=!0),this.$store.dispatch("text/reset"))},pan:function(t){if(this.pageRect&&this.isLoaded&&this.isCurrent&&(!this.isZoomed||!this.isDragging)&&this.isActive&&!this.stopSelection&&!this.effectOn&&!this.animationInProgress){var e={top:t.deltaY>0?t.center.y-t.deltaY-this.pageRect.top:t.center.y-this.pageRect.top,left:t.deltaX>0?t.center.x-t.deltaX-this.pageRect.left:t.center.x-this.pageRect.left,width:Math.abs(t.deltaX),height:Math.abs(t.deltaY),offsetX:this.containerSize.offsetX,offsetY:this.containerSize.offsetY,cursorHSide:t.deltaX>0?"right":"left",cursorVSide:t.deltaY>0?"bottom":"top"};if(e.top=e.top/this.containerSize.scaleRatio.h,e.left/=this.containerSize.scaleRatio.w,e.width/=this.containerSize.scaleRatio.w,e.height/=this.containerSize.scaleRatio.h,this.isWide&&!this.isCrossWide){if("right"===e.cursorHSide&&"left"===this.pageSide&&e.left+e.width>this.containerSize.width/this.containerSize.scaleRatio.w)return;if("left"===e.cursorHSide&&"right"===this.pageSide&&e.left<this.containerSize.width/this.containerSize.scaleRatio.w)return}this.$store.dispatch("text/setSelectionAttributes",{pageID:this.pageId,pageSide:this.pageSide,selectionRect:e})}},panEnd:function(t){t&&t.srcEvent&&0===t.srcEvent.button&&this.mouseUp(),this.isActive=!1},mouseUp:function(){var t=this;setTimeout((function(){t.selectedSymbols.length>0&&(t.$root.$emit("selectText",{action:"select",pageId:t.pageId,text:t.$store.state.text.selectedText}),t.$root.$emit("selectText:showPanel"),t.$el.addEventListener("mousemove",t.checkMousePosition))}),100)},zoomMove:function(t){"drag"===t.direction&&(this.isDragging=t.active)},checkMousePosition:function(t){this.$parent.$parent.isPointInSelection(t)?this.$root.$emit("selectText:showPanel"):this.$root.$emit("selectText:hidePanel",{forceHide:!1})}},watch:{isActive:function(t){this.$store.dispatch("text/setInProgressSelection",t)},pageSize:function(){var t=this;this.$root.$emit("selectText:hidePanel"),this.$nextTick((function(){t.getPageRect()}))},sidebar:function(){var t=this;this.$root.$emit("selectText:hidePanel"),this.$nextTick((function(){t.getPageRect()}))},wsContainerSize:function(){var t=this;this.$root.$emit("selectText:hidePanel"),this.$nextTick((function(){t.getPageRect()}))},scrollPosition:function(){var t=this;this.$nextTick((function(){t.getPageRect()}))},isLoaded:function(t){this.getPageRect()},animationInProgress:function(){this.$store.dispatch("text/reset"),this.$root.$emit("selectText:hidePanel")},pageResize:function(){var t=this;this.$nextTick((function(){t.getPageRect()}))}},computed:{stopSelection:function(){return this.$store.state.text.stopSelection&&this.pageId===this.$store.state.text.pageID&&this.pageSide===this.$store.state.text.pageSide},textBlockSizes:function(){var t=this;return this.finalTree.map((function(e){return{width:Math.ceil(e.width*t.containerSize.scaleRatio.w),height:Math.ceil(e.height*t.containerSize.scaleRatio.h),left:Math.floor(e.left*t.containerSize.scaleRatio.w),top:Math.floor(e.top*t.containerSize.scaleRatio.h)}}))},pageSize:function(){return this.$store.state.pages.size},sidebar:function(){return this.$store.state.sidebar.opened},wsContainerSize:function(){return this.$store.state.workspace.containerSize},scrollPosition:function(){return this.$store.getters["text/holderScroll"]},isZoomed:function(){return this.$store.state.pages.size.zoomFactor>1},animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]},pageResize:function(){return this.$store.getters["pages/pageProp"](this.pageId,"pageResize")}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(113);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(366);e.default={name:"select-text-mobile",mixins:[s.default],mounted:function(){var t=this;this.$nextTick((function(){t.getPageRect()})),this.$parent.$parent.$on("highlight",this.highlight)},beforeDestroy:function(){this.resetContext(),this.$parent.$parent.$off("highlight",this.highlight)},methods:{highlight:function(){var t=this;this.effectOn&&(this.showEffect=!0,setTimeout((function(){t.showEffect=!1,t.$store.dispatch("text/setEffect",!1)}),3e3))},reset:function(){this.$store.dispatch("text/reset")}},watch:{containerSize:function(){this.getAndParseXML()},animationInProgress:function(){this.$store.dispatch("text/reset")}},computed:{animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(116);e.default=s.default},function(t,e,i){"use strict";i.r(e);i(626),i(369);var s=i(8),o=i(60),r=i(23),n=i.n(r);e.default={name:"Note",props:{data:{type:Object,default:function(){return{}}},size:{type:Object,default:function(){return{}}},side:{type:String,default:""},isWide:Boolean,isOutsideHardcover:Boolean},data:function(){return{state:"mini",offsetX:0,offsetY:0,deltaX:0,deltaY:0,minDeltaX:0,minDeltaY:0,maxDeltaX:0,maxDeltaY:0,onMove:!1,position:"absolute",leftOffset:16,rightOffset:16,topOffset:28,bottomOffset:4,ieOffsetX:0,ieOffsetY:0,rectLeft:-115,rectTop:4,rectHeight:0,rectState:"edit",deleteDialog:!1}},computed:{isIE:function(){return!!this.$store.state.workspace.userAgentInfo.browser.msie},showRect:function(){return this.isOpened&&"mini"===this.state},isOpened:function(){return this.$store.state.notes.opened===this.data.id},isFirstPage:function(){return this.$store.getters["pages/isFirstPage"](this.data.page)},isLastPage:function(){return this.$store.getters["pages/isLastPage"](this.data.page)},scale:function(){return{w:this.size.width/this.$store.state.book.bookSize.width/("both"===this.side?2:1),h:this.size.height/this.$store.state.book.bookSize.height}},noteStyle:function(){var t=0,e=0,i=0,s=0;if(this.isWide&&"right"===this.side&&(t=-this.size.width),this.onMove){if("right"===this.side){var o=this.slideMode&&(this.isFirstPage&&!this.rtl||this.isLastPage&&this.rtl);this.isOutsideHardcover||o||(e=this.size.width)}if("left"===this.side)this.slideMode&&(this.isLastPage&&!this.rtl||this.isFirstPage&&this.rtl)||(i=this.size.width);this.slideMode&&(this.pagerSlideMode&&"both"!==this.side||this.pagerSingleMode)&&(e=0,i=this.size.width)}this.showRect&&(s=1e4);var r=this.data.pX*this.scale.w+this.deltaX+e+t;r=Math.max(this.leftOffset,Math.min(this.size.width+e+i-this.rightOffset,r));var n=this.data.pY*this.scale.h+this.deltaY;return n=Math.max(this.topOffset,Math.min(this.size.height-this.bottomOffset,n)),{"z-index":this.data.id+1e4+s,position:this.position,top:n+this.ieOffsetY+"px",left:r+this.ieOffsetX+"px"}},rectStyle:function(){var t={top:this.rectTop+"px",left:this.rectLeft+"px"};return this.miniRect&&(t.width=this.size.width-8+"px",t.height=this.rectHeight+"px"),t},rectClass:function(){var t=["note-rect",this.rectState];return this.miniRect&&t.push("mini-rect"),t},miniRect:function(){return this.size.width<238},noteBodyStyle:function(){var t={};return this.miniRect&&(t.width=this.size.width-18+"px",t.height=this.rectHeight-10+"px"),t},iconClass:function(){var t=["note-icon",this.data.color,this.state];return this.isOpened&&t.push("opened"),t},colorSetClass:function(){return["note-color-set",this.data.color]},formattedTime:function(){var t=new Date(Date.now()),e=new Date(this.data.date),i=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return t.getDay()===e.getDay()&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()||(i=e.toLocaleDateString()+", "+i),i},dir:function(){return this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"},rtl:function(){return this.$store.state.book.rightToLeft},placeholderText:function(){return this.$i18n.t("Notes.PLACEHOLDER")},dialogDeleteText:function(){return this.$i18n.t("Notes.DIALOG_DELETE_TEXT")},deleteTip:function(){return this.$i18n.t("Notes.DELETE_TIP")},deleteButton:function(){return this.$i18n.t("AlertWindow.BUTTON_DELETE")},cancelButton:function(){return this.$i18n.t("AlertWindow.BUTTON_CANCEL")},slideMode:function(){return"slide-book"===this.$store.state.workspace.bookComponent},pagerSlideMode:function(){return this.$store.state.pager.slideMode},pagerSingleMode:function(){return this.$store.state.pager.singleMode},currentBookHolder:function(){return this.slideMode?document.querySelector(".slide-wrapper.current .spread-wrapper"):document.getElementById("book-holder")}},watch:{isOpened:function(t){var e=this;t?(this.showEditor(),setTimeout((function(){"edit"===e.rectState&&e.forceFocus()}),100)):this.hideEditor()}},mounted:function(){this.$refs.icon.addEventListener("mousedown",this.iconMouseDown,!0),this.isOpened&&this.showEditor(),this.data.new&&this.$store.dispatch("notes/setOpenedId",{id:this.data.id}),this.parentEl=this.$el.parentElement},beforeDestroy:function(){this.$refs.icon.removeEventListener("mousedown",this.iconMouseDown,!0),this.removeEditorEventListeners()},methods:{onNoteClick:function(t){var e=this;this.isFrozenOrNotReady||Object(s.composedPath)(t.target).some((function(t){return t===e.$refs.icon}))&&(this.isOpened?this.hideEditor():this.showEditor())},iconMouseDown:function(t){0===t.button&&(t.stopPropagation(),this.offsetX=t.pageX,this.offsetY=t.pageY,this.$store.dispatch("notes/setMoving",!0),document.addEventListener("mousemove",this.iconMouseMove),document.addEventListener("mouseup",this.iconMouseUp))},iconMouseMove:function(t){if(t.stopPropagation(),!this.onMove){if(this.moveElementToSpreadNotes(),this.slideMode&&!this.pagerSingleMode)this.minDeltaX=this.leftOffset-this.data.pX*this.scale.w,this.maxDeltaX=this.size.width-this.data.pX*this.scale.w-this.rightOffset;else if("left"===this.side){this.minDeltaX=this.leftOffset-this.data.pX*this.scale.w;var e=!this.isWide&&(this.isLastPage&&!this.rtl||this.isFirstPage&&this.rtl)?1:2;this.maxDeltaX=this.size.width*e-this.data.pX*this.scale.w-this.rightOffset}else{var i=!this.isWide&&(this.isFirstPage&&!this.rtl||this.isLastPage&&this.rtl)?0:this.size.width;this.minDeltaX=(this.isWide?this.size.width:0)+this.leftOffset-i-this.data.pX*this.scale.w,this.maxDeltaX=this.size.width*(this.isWide?2:1)-this.data.pX*this.scale.w-this.rightOffset}if(this.minDeltaY=this.topOffset-this.data.pY*this.scale.h,this.maxDeltaY=(this.size.height/this.scale.h-this.data.pY)*this.scale.h-this.bottomOffset,!this.isOutsideHardcover){if(this.isIE){var s=this.currentBookHolder.getBoundingClientRect(),o=this.getIEDeltaOffset();this.ieOffsetX=s.left-o,this.ieOffsetY=s.top}this.position="fixed"}this.onMove=!0,this.state="move"}this.deltaX=Math.max(this.minDeltaX,Math.min(t.pageX-this.offsetX,this.maxDeltaX)),this.deltaY=Math.max(this.minDeltaY,Math.min(t.pageY-this.offsetY,this.maxDeltaY))},getIEDeltaOffset:function(){return this.slideMode&&this.pagerSlideMode?0:!this.isWide&&this.isLastPage&&this.rtl&&this.$store.state.pager.rightPage!==this.data.page||!this.isWide&&this.isFirstPage&&!this.rtl?this.size.width:0},iconMouseUp:function(){var t=this;if(document.removeEventListener("mousemove",this.iconMouseMove),document.removeEventListener("mouseup",this.iconMouseUp),this.$store.dispatch("notes/setMoving",!1),this.moveElementToPageContainer(),this.onMove){this.isIE&&(this.ieOffsetX=0,this.ieOffsetY=0),this.onMove=!1,this.position="absolute";var e=this.data.page,i=this.deltaX/this.scale.w+this.data.pX;this.isWide||("left"===this.side?i>this.size.width/this.scale.w&&(i-=this.size.width/this.scale.w,this.rtl?e--:e++):i<0&&(i+=this.size.width/this.scale.w,this.rtl?e++:e--),i<this.leftOffset/this.scale.w&&(i=this.leftOffset/this.scale.w),i>this.size.width/this.scale.w-this.rightOffset/this.scale.w&&(i=this.size.width/this.scale.w-this.rightOffset/this.scale.w)),this.$store.dispatch("notes/moveNote",{id:this.data.id,page:e.toString(),pX:Math.round(100*i)/100,pY:Math.round(100*(this.deltaY/this.scale.h+this.data.pY))/100}),this.state="mini",this.deltaX=0,this.deltaY=0,this.updateEditorParams(),setTimeout((function(){"edit"===t.rectState&&t.forceFocus()}),100)}},showEditor:function(){var t=this;this.updateEditorParams(),this.$store.dispatch("notes/setOpenedId",{id:this.data.id}),this.$store.dispatch("notes/setActiveItemById",this.data.id),this.$nextTick((function(){t.setTextareaDir()})),document.addEventListener("mousedown",this.hideEditorClick,!0),document.addEventListener("keydown",this.checkKeydown)},hideEditor:function(){document.activeElement===this.$refs.text&&this.$refs.text.blur(),this.saveText(),this.$store.state.notes.opened===this.data.id&&this.$store.dispatch("notes/setOpenedId",{id:null}),this.$store.dispatch("workspace/setHighlightTimeout",Date.now()+300),this.removeEditorEventListeners()},updateEditorParams:function(){this.isWide&&"right"===this.side?this.miniRect||this.data.pX*this.scale.w-this.size.width<119?this.rectLeft=-this.data.pX*this.scale.w+4+this.size.width:2*this.size.width-this.data.pX*this.scale.w<119?this.rectLeft=2*this.size.width-this.data.pX*this.scale.w-234:this.rectLeft=-115:this.miniRect||this.data.pX*this.scale.w<119?this.rectLeft=-this.data.pX*this.scale.w+4:this.size.width-this.data.pX*this.scale.w<119?this.rectLeft=this.size.width-this.data.pX*this.scale.w-234:this.rectLeft=-115,this.size.height-this.data.pY*this.scale.h<133?(this.rectTop=-154,this.miniRect&&(this.size.height-this.data.pY*this.scale.h<this.data.pY*this.scale.h-24?(this.rectHeight=Math.floor(this.data.pY*this.scale.h-32),this.rectHeight>125&&(this.rectHeight=125),this.rectTop=-this.rectHeight-28):(this.rectHeight=Math.floor(this.size.height-this.data.pY*this.scale.h-8),this.rectTop=4))):(this.miniRect&&(this.rectHeight=125),this.rectTop=4),""===this.data.text?this.rectState="edit":this.rectState="view",this.deleteDialog=!1},hideEditorClick:function(t){for(var e=Object(s.composedPath)(t.target),i=0,o=e.length;i<o;i++){if(e[i]===this.$refs.rect)return void t.stopPropagation();if(e[i]===this.$el)return}this.hideEditor()},saveText:function(){this.$refs.text&&this.data.text!==this.$refs.text.value&&this.$store.dispatch("notes/changeText",{id:this.data.id,text:this.$refs.text.value})},setColor:function(t){this.data.color!==t&&this.$store.dispatch("notes/changeColor",{id:this.data.id,color:t})},focusTextArea:function(){this.rectState="edit"},deleteNoteCheck:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"editor";""===this.data.text?this.deleteNote(t,e):this.deleteDialog=!0},checkKeydown:function(t){if(27===t.keyCode&&this.hideEditor(),"view"===this.rectState&&t.preventDefault(),8===t.keyCode){if(this.$refs.text===document.activeElement)return;this.deleteNoteCheck(t,"hotkey")}else 46===t.keyCode&&this.deleteNoteCheck(t,"hotkey")},removeEditorEventListeners:function(){document.removeEventListener("mousedown",this.hideEditorClick,!0),document.removeEventListener("keydown",this.checkKeydown)},deleteNote:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.removeEditorEventListeners(),this.$store.dispatch("notes/deleteNote",{id:this.data.id,initiator:e})},deleteDialogCancel:function(){this.deleteDialog=!1},setViewState:function(t){this.rectState="view",t.target.blur()},forceFocus:function(){var t;null===(t=this.$refs.text)||void 0===t||t.focus()},moveElementToSpreadNotes:function(){this.slideMode||this.isOutsideHardcover||(this.spreadNotesEl||(this.spreadNotesEl=this.createSpreadNotesElement()),this.spreadNotesEl.appendChild(this.$el))},moveElementToPageContainer:function(){this.slideMode||this.isOutsideHardcover||this.parentEl.appendChild(this.$el)},createSpreadNotesElement:function(){var t=document.getElementById("spread-notes");if(!t){var e=document.getElementById("book");t=o.default.createElement("div",{id:"spread-notes"},e)}return t},setTextareaDir:function(){if(this.$refs.text)if(this.$refs.text.value){var t=n.a.getDirection(this.$refs.text.value);this.$refs.text.dir=t&&"ltr"!==t?"rtl":"ltr"}else this.$refs.text.dir=this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(119);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s,o,r=i(120),n=i.n(r),a=i(5),h=(s=window.getComputedStyle(document.documentElement,""),o=(Array.prototype.slice.call(s).join("").match(/-(moz|webkit|ms)-/)||""===s.OLink&&["","o"])[1],{dom:"WebKit|Moz|MS|O".match(new RegExp("("+o+")","i"))[1],lowercase:o,css:"-"+o+"-",js:o[0].toUpperCase()+o.substr(1)});e.default={name:"FlipMe",props:{pageId:{type:String,required:!0},isLeft:{type:Boolean,required:!0}},data:function(){return{angle:0,width:0,backfaceId:null,nextPageId:null,nextWide:!1,tween:null,crossOrigin:Object(a.default)().getCrossOrigin(),nxtParentCSS:"",backfaceParentCSS:""}},mounted:function(){var t=this,e={angle:19,width:0};this.tween=new n.a.Tween(e).to({angle:19,width:7},800).easing(n.a.Easing.Cubic.InOut).onUpdate((function(){if(t.width=e.width,t.angle=e.angle,0===e.width){var i=5*Math.random()+3,s=11*Math.random()+19;setTimeout((function(){t.tween.to({angle:s,width:i})}),10)}})).yoyo(!0).repeat(1/0).delay(2e3).repeatDelay(200).start();var i=this.$store.getters["pages/pageProp"](this.pageId,"wide"),s=this.$store.getters["pages/pageIndexById"](this.pageId)+(i?2:1);this.backfaceId=this.$store.getters["pages/pageIdByIndexWide"](s);var o=s+1;this.nextPageId=this.$store.getters["pages/pageIdByIndexWide"](o),this.nextWide=this.$store.getters["pages/pageProp"](this.nextPageId,"wide"),this.$parent.$once("onContentContainerClick",this.stopAnimation)},beforeDestroy:function(){this.stopAnimation(),this.$store.dispatch("workspace/flipCornerOff")},computed:{nextBackgrounds:function(){var t=[];if(null!==this.nextPageId){var e=this.$store.getters["pages/pageProp"](this.nextPageId,"textUrl"),i=this.$store.getters["pages/pageProp"](this.nextPageId,"substrateUrl");t.push(i),e&&t.push(e);var s=document.querySelector('[data-id="'+this.nextPageId+'"]');this.nxtParentCSS=s&&s.style?s.style.cssText:""}return t},backfaceBackgrounds:function(){var t=[];if(null!==this.backfaceId){var e=this.$store.getters["pages/pageProp"](this.backfaceId,"textUrl"),i=this.$store.getters["pages/pageProp"](this.backfaceId,"substrateUrl");t.push(i),e&&t.push(e);var s=document.querySelector('[data-id="'+this.backfaceId+'"]');this.backfaceParentCSS=s&&s.style?s.style.cssText:""}return t},pagesSize:function(){return this.$store.getters["pages/size"]},backfaceImgStyle:function(){var t=this.$store.getters["pages/pageProp"](this.backfaceId,"wide"),e=this.$store.state.book.rightToLeft,i=this.$store.state.pages.size.width;return this.backfaceParentCSS+(e&&t?" transform: translate3d(-".concat(i,"px,0,0);"):"")},nextImgStyle:function(){var t=this.$store.getters["pages/pageProp"](this.nextPageId,"wide"),e=this.$store.state.book.rightToLeft,i=this.$store.state.pages.size.width;return this.nxtParentCSS+(e?"":t?" transform: translate3d(-".concat(i,"px,0,0);"):"")},maskStyle:function(){var t=100-this.width;return{transform:this.isLeft?"rotate3d(0,0,1,-".concat(this.angle,"deg) translate3d(-").concat(t,"%, 0%, 0)"):"rotate3d(0,0,1,".concat(this.angle,"deg) translate3d(").concat(t,"%, 50%, 0)"),transformOrigin:this.isLeft?"".concat(100-t,"% 100%"):"100% 100%"}},nextPageStyle:function(){var t=100-this.width;return{transform:this.isLeft?"rotate3d(0,0,1,".concat(this.angle,"deg)"):"rotate3d(0,0,1,-".concat(this.angle,"deg)"),transformOrigin:this.isLeft?"".concat(100-t,"% 100%"):"100% 100%",backgroundColor:this.$store.getters["pages/pageProp"](this.nextPageId,"backgroundColor")}},shiftPageStyle:function(){var t=100-this.width;return{transform:this.isLeft?"translate3d(".concat(t,"%, 0%,0)"):"translate3d(-".concat(t,"%, -50%,0)")}},backfaceStyle:function(){var t,e,i=90-this.angle,s=this.width/Math.sin(i*Math.PI/180);if(this.isLeft){var o=s,r=100-2*s;t="rotate(-".concat(2*this.angle,"deg) translate3d(-").concat(r,"%, 0%,0)"),e="".concat(o,"% 100%")}else{var n=100-s,a=n-s;t="rotate(".concat(2*this.angle,"deg) translate3d(").concat(a,"%, 0%,0)"),e="".concat(n,"% 100%")}return{transform:t,transformOrigin:e,backgroundColor:this.$store.getters["pages/pageProp"](this.backfaceId,"backgroundColor")}},nextGradientStyle:function(){return{background:h.css+"linear-gradient(".concat(this.isLeft?"right":"left",", rgba(0, 0, 0, ").concat((65-this.width)/100,") 0px, transparent ").concat(this.width,"%)")}},backGradientStyle:function(){var t=90-this.angle,e=this.width/Math.sin(t*Math.PI/180);return{transform:this.isLeft?"rotate(".concat(this.angle,"deg) translate3d(0, 10%, 1px)"):"rotate(-".concat(this.angle,"deg) translate3d(0, 10%, 1px)"),transformOrigin:"100% 100%",width:e+"%"}}},methods:{stopAnimation:function(){this.tween.delay(0).repeat(1)}}}},,function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(124);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(27);e.default={extends:s.default,name:"ContentBlock",data:function(){return{itemId:this.data.type+"_"+this.data.itemId}},methods:{zoomToBLock:function(){this.$emit("block:zoomed",this.data.rect)}}}},function(t,e,i){"use strict";i.r(e);var s=i(126);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s,o,r=i(3),n=i(5),a=i(18);e.default={name:"ContentBase",props:{data:{type:Object,required:!0},isCurrent:{type:Boolean,required:!1}},data:function(){return{crossOrigin:Object(n.default)().getCrossOrigin(),crossWideItem:null,isHighlighted:!1,thumbnailBlob:null,blobCache:{}}},computed:{containerRect:function(){return{width:Math.round(this.data.rect[0]*this.data.scaleRatio.w),height:Math.round(this.data.rect[1]*this.data.scaleRatio.h),left:Math.round(this.data.rect[2]*this.data.scaleRatio.w),top:Math.round(this.data.rect[3]*this.data.scaleRatio.h)}},containerStyle:function(){var t={};return this.data.style?t=this.data.style:(t={width:this.containerRect.width+"px",height:this.containerRect.height+"px",left:this.containerRect.left+"px",top:this.containerRect.top+"px"},this.data.zIndex&&(t.zIndex=this.data.zIndex),Object(r.isUndefined)(this.data.angle)||0!==this.data.angle&&(t.transformOrigin="0px 0px 0px",t.transform="rotate("+this.data.angle+"rad)")),t},thumbnailUrl:function(){return this.data.previewUrl?/^https?:\/\//.test(this.data.previewUrl)?Object(n.default)().translatePath(this.data.previewUrl):Object(n.default)().translatePath("assets/pages/content/"+encodeURIComponent(this.data.previewUrl)):null},thumbnailStyle:function(){return this.getThumbnailStyle(this.thumbnailBlob)},playButtonStyle:function(){var t=Math.min(.5*this.data.rect[0]*this.data.scaleRatio.w,.5*this.data.rect[1]*this.data.scaleRatio.h).toFixed(0)+"px";return{maxWidth:t,maxHeight:t}},isMobile:function(){return"mobile"===this.$store.state.workspace.layout}},created:function(){var t=this;this.data.crossWide&&"both"!==this.data.page.side&&(this.$on("crossWideRegistered",(function(e){t.crossWideItem=e})),this.$contentRegistry.registerContentItem(this.data.itemId,this.data.page.side,this))},beforeMount:function(){this.thumbnailUrl&&this.loadThumbnail()},mounted:function(){var t=this;this.thumbnailUrl||this.$emit("ready",this),this.data.crossWide&&(s=function(){t.isHighlighted=!0,t.crossWideItem&&(t.crossWideItem.isHighlighted=!0)},o=function(){t.isHighlighted=!1,t.crossWideItem&&(t.crossWideItem.isHighlighted=!1)},this.$el.addEventListener("mouseover",s),this.$el.addEventListener("mouseout",o))},beforeDestroy:function(){var t=this;this.data.crossWide&&(this.$el.removeEventListener("mouseover",s),this.$el.removeEventListener("mouseout",o),this.$contentRegistry.deregisterContentItem(this.data.itemId,this.data.page.side)),this.thumbnailBlob&&(this.thumbnailBlob=null),this.blobCache&&(Object.keys(this.blobCache).forEach((function(e){return window.URL.revokeObjectURL(t.blobCache[e])})),this.blobCache=null)},watch:{thumbnailUrl:function(t){t?this.loadThumbnail():this.thumbnailBlob&&(this.thumbnailBlob=null)}},methods:{loadThumbnail:function(){var t=this,e=this.blobCache[this.thumbnailUrl];e?this.thumbnailBlob=e:Object(a.default)({url:this.thumbnailUrl,responseType:"blob",callback:function(e){t.ready||(t.ready=!0,"image"!==t.data.type&&t.$emit("ready",t));var i=e.response;t.thumbnailBlob=window.URL.createObjectURL(i),Object(r.isObject)(t.blobCache)&&(t.blobCache[t.thumbnailUrl]=t.thumbnailBlob)},errorback:function(e){t.error=!0,t.$emit("error",t,e)}})},getThumbnailStyle:function(t){var e={};return this.thumbnailBlob&&(e.backgroundImage='url("'+t+'")'),e}}}},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(130);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(27),o=i(45);function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}e.default={extends:s.default,name:"ContentLink",computed:{title:function(){return this.data.url?0===this.data.url.indexOf("geo:")||0===this.data.url.indexOf("geopoint:")||0===this.data.url.indexOf("callto:")||0===this.data.url.indexOf("wtai:")||0===this.data.url.indexOf("tel:")||0===this.data.url.indexOf("sms:")||0===this.data.url.indexOf("mailto:")||0===this.data.url.indexOf("skype:")?this.data.url.split("?")[0]:this.$t("TopMenu.EXTERNAL_LINK_TIP",{0:this.url.split("?")[0]}):this.data.id?this.$t("AlertMessage.LINK_PAGE_TIP")+" "+this.$store.getters["pages/pageCaptionById"](this.data.id):""},url:function(){return this.data.url?0===this.data.url.indexOf("geo:")?this.data.url.split(";")[0].replace(" ","").replace("geo:","http://maps.apple.com/?ll="):0===this.data.url.indexOf("geopoint:")?this.data.url.split(";")[0].replace(" ","").replace("geopoint:","http://maps.apple.com/?ll="):this.data.url:null},target:function(){return this.data.url?this.data.target||this.props.target:null},props:function(){return this.$store.state.book.links},backgroundColor:function(){var t=this.data.color||this.props.color;return-1!==t.indexOf("#")&&(t="rgba("+Object(o.parseColor)(t).join(",")+",0.6)"),t},linkStyle:function(){var t=r({},this.containerStyle);return t.backgroundColor=this.backgroundColor,t},classes:function(){var t;return{link:!0,flip:this.props.highlightOnFlip,hover:null!==(t=this.data.highlightOnHover)&&void 0!==t?t:this.props.highlightOnHover,highlighted:this.isHighlighted,"content-element":!0}},isVisible:function(){return!this.$store.state.text.inProgress&&this.isCurrent}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(133);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(27),o=i(5),r=i(379),n=i(15);i(646);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}e.default={extends:s.default,name:"ContentImage",props:[],data:function(){return{isModalShown:!1,width:null,height:null,tapTimeout:0,closeTimeout:0,cachedThumbnails:[]}},mounted:function(){this.data.originalSize?(this.width=this.data.originalSize[0],this.height=this.data.originalSize[1]):(this.width=this.containerRect.width,this.height=this.containerRect.height),this.data.preview?this.previewLoad(this.thumbnailBlob):this.$emit("ready",this)},computed:{modalRect:function(){var t=Object(n.fit)({width:this.width,height:this.height},{width:.8*this.workspaceSize.width,height:.8*this.workspaceSize.height},!0);return{width:Math.round(t.width),height:Math.round(t.height)}},modalImageStyle:function(){return{width:this.modalRect.width+"px",height:this.modalRect.height+"px"}},playButtonClass:function(){return{hidden:!this.isMobile&&!this.data.showIcon}},hasPopup:function(){return!1!==this.data.popup},workspaceSize:function(){return this.$store.getters["workspace/size"]},imageSrc:function(){return this.popupFileName?/^https?:\/\//.test(this.popupFileName)?Object(o.default)().translatePath(this.popupFileName):Object(o.default)().translatePath("assets/pages/content/"+this.popupFileName):null},thumbnailUrl:function(){return this.previewFileName?/^https?:\/\//.test(this.previewFileName)?Object(o.default)().translatePath(this.previewFileName):Object(o.default)().translatePath("assets/pages/content/"+this.previewFileName):null},containerClasses:function(){return{highlighted:this.isHighlighted,inline:!this.hasPopup}},isFrozenOrNotReady:function(){return this.$store.state.workspace.freezed||"ready"!==this.$store.state.workspace.status||this.$store.state.pager.freezed},isEmbed:function(){return this.$store.state.workspace.isEmbed},previewFileName:function(){if(!(this.data.preview&&this.data.name&&this.data.sizes&&this.width&&this.height))return null;var t=Object(n.fill)({width:this.width,height:this.height},this.containerRect),e=Math.max(t.width,t.height),i=this.getImageInfo(e);return Object(o.default)().getImageFileName(i)},popupFileName:function(){if(!(this.data.name&&this.data.sizes&&this.modalRect.width&&this.modalRect.height))return null;var t=Math.max(this.modalRect.width,this.modalRect.height),e=this.getImageInfo(t);return Object(o.default)().getImageFileName(e)},animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]}},methods:{onImageClick:function(){this.hasPopup&&!this.animationInProgress&&(Date.now()>this.tapTimeout&&Date.now()>this.closeTimeout&&setTimeout(this.imageClick,this.$store.state.workspace.doubletapInterval+1),this.tapTimeout=Date.now()+this.$store.state.workspace.doubletapInterval)},imageClick:function(){this.isFrozenOrNotReady||this.isEmbed||(this.imageLoad(),this.showModal(),this.$emit("image:click",this),this.$root.$emit("image",{action:"click",url:this.getApiFileName()}))},preventDefault:function(t){t.preventDefault()},showModal:function(){this.isModalShown=!0,this.$nextTick((function(){var t=this;this.$refs.modalWindow.show(),this.$refs.modalWindow.$once("hidden",(function(){t.isModalShown=!1,t.crossWideItem&&(t.isHighlighted=!0,t.crossWideItem.isHighlighted=!0),t.$root.$emit("image",{action:"close",url:t.getApiFileName()}),t.closeTimeout=Date.now()+500}))}))},imageLoad:function(){var t=this,e=document.createElement("img");this.crossOrigin&&(e.crossOrigin=this.crossOrigin),e.onload=function(){t.data.originalSize||(t.width=e.naturalWidth,t.height=e.naturalHeight),t.$refs.modalWindow.loaded(),t.$emit("image:loaded",t),t.$root.$emit("image",{action:"loaded",url:t.getApiFileName()})},e.onerror=function(e){t.$refs.modalWindow.error(),t.$emit("image:error",t,e)},e.src=this.imageSrc,e.style.width="100%"},previewLoad:function(t){var e=this;if(t){var i=document.createElement("img");i.onload=function(){e.$emit("ready",e),e.addHiddenThumbnail(t),setTimeout((function(){e.makeThumbnailVisible(t)}),100)},i.onerror=function(t){e.$emit("error",e,t)},i.src=t}},addHiddenThumbnail:function(t){if(!this.cachedThumbnails.some((function(e){return e.id===t}))){var e={visibility:"visible",zIndex:-1},i={id:t,style:a({},this.getThumbnailStyle(t),e)};this.cachedThumbnails.push(i)}},makeThumbnailVisible:function(t){this.cachedThumbnails.forEach((function(e){e.id===t?(e.style.visibility="visible",e.style.zIndex=null):e.style.visibility="hidden"}))},getImageInfo:function(t){window.devicePixelRatio>=1.5&&(t*=1.5);var e=this.data.sizes.reduce((function(e,i){return e<t?i>e?i:e:i>=t&&i<e?i:e})),i=this.data.name.split("{size}");return{name:(i=i.map((function(t){return encodeURIComponent(t)}))).join("{size}"),size:e,format:this.data.format}},getApiFileName:function(){var t=this.data.format?"."+this.data.format:"";return this.data.name+t}},watch:{imageSrc:function(){this.isModalShown&&(this.imageLoad(),this.$refs.modalWindow.loading())},thumbnailBlob:function(t){t&&this.previewLoad(t)}},components:{"modal-window":r.default}}},function(t,e,i){"use strict";i.r(e);var s=i(135);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(24),o=i.n(s),r=i(3),n=i(8);i(136);e.default={props:{rect:{type:Object,required:!1,default:null},width:{type:[Number,String],default:"80%"},height:{type:[Number,String],default:"auto"},bgColor:{type:String,default:null},delay:{type:Number,default:0},preloader:{type:Boolean,default:!1}},data:function(){return{isVisible:!1,visibility:{modal:!1,overlay:!1},isLoaded:!this.preloader,hasError:!1,parent:null,androidKeyboardShift:0,heightOverride:null,historyEnabled:!!window.history&&!!window.history.pushState&&window.location===window.parent.location}},watch:{isVisible:function(t){var e=this;t?(this.visibility.overlay=!0,setTimeout((function(){e.visibility.modal=!0}),this.delay)):(this.visibility.modal=!1,setTimeout((function(){e.visibility.overlay=!1}),this.delay))}},computed:{modalStyle:function(){var t={};if(this.bgColor&&this.isLoaded&&(t.backgroundColor=this.bgColor),this.rect)t.width=this.rect.width+"px",t.height=this.heightOverride?this.heightOverride:this.rect.height+"px",t.left=this.rect.left+"px",t.top=this.rect.top+this.androidKeyboardShift+"px";else{var e=-1===this.width.toString().indexOf("px")&&-1===this.width.toString().indexOf("%"),i=-1===this.height.toString().indexOf("px")&&-1===this.height.toString().indexOf("%");t.width=e?this.width+"px":this.width,t.height=this.heightOverride?this.heightOverride+"px":i?this.height+"px":this.height,t.top=i?Math.round((window.innerHeight-this.height)/2)+this.androidKeyboardShift+"px":"50%",t.left=e?Math.round((window.innerWidth-this.width)/2)+"px":"50%"}return t},isAndroid:function(){return!0===this.$store.state.workspace.userAgentInfo.os.android},dir:function(){return this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"}},methods:{show:function(){var t=this;this.historyEnabled&&window.addEventListener("popstate",this.hide),this.isVisible=!0,this.$store.dispatch("workspace/setModalOpened",!0),setTimeout((function(){t.$emit("shown"),t.historyEnabled&&window.history.pushState({lightbox:!0},null,window.location.href)}),this.delay)},hide:function(){var t=this;this.historyEnabled&&window.removeEventListener("popstate",this.hide),this.isVisible=!1,this.$store.dispatch("workspace/setModalOpened",!1),setTimeout((function(){t.$emit("hidden")}),this.delay)},onOverlayTap:function(t){t.preventDefault(),t&&t.target&&(Object(r.isString)(t.target.className)&&t.target.className.indexOf("modal-window-overlay")>=0||Object(n.classPath)(t.target).indexOf("modal-close")>=0)&&(this.historyEnabled&&0!==window.history.length?window.history.back():this.hide())},loading:function(){this.isLoaded=!1},loaded:function(){this.isLoaded=!0},error:function(){this.hasError=!0},onResize:function(){if(this.isAndroid){var t=document.activeElement;if("input"===t.tagName.toLowerCase()||"textarea"===t.tagName.toLowerCase()){var e=t.getBoundingClientRect();e.top>window.innerHeight/2&&(this.androidKeyboardShift=-e.top/4)}else"iframe"===t.tagName.toLowerCase()?this.heightOverride=window.innerHeight:0!==this.androidKeyboardShift&&(this.androidKeyboardShift=0,this.heightOverride=null)}}},mounted:function(){window.addEventListener("resize",this.onResize),this.parent=this.$el.parentNode,this.$root.$el.appendChild(this.$el)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize),this.$store.dispatch("workspace/setModalOpened",!1),this.parent&&"function"==typeof this.parent.appendChild&&this.parent.appendChild(this.$el)},components:{spinner:o.a}}},function(t,e,i){i(0).register({"rounded-close":{width:16,height:16,viewBox:"0 0 16 16",data:'<path pid="0" d="M8.003 1.007A6.996 6.996 0 1015 8.003a6.988 6.988 0 00-6.98-6.996h-.016zm2.881 8.89a.312.312 0 010 .493l-.494.494a.312.312 0 01-.494 0L8.003 8.991 6.11 10.884a.312.312 0 01-.494 0l-.493-.494a.312.312 0 010-.494l1.893-1.893L5.123 6.11a.304.304 0 010-.494l.493-.493a.304.304 0 01.494 0l1.893 1.893 1.893-1.893a.312.312 0 01.494 0l.494.493a.312.312 0 010 .494L8.991 8.003l1.893 1.893z"/>'}})},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(140);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(27);i(649);e.default={extends:s.default,name:"ContentGallery",props:[]}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(143);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(27),o=i(5),r=i(24),n=i.n(r);i(652),i(653);e.default={extends:s.default,name:"ContentGif",props:[],data:function(){return{isIdle:!0,isLoading:!1,isPlaying:!1,isLoaded:!1,isEnded:!1,isAutoplay:this.data.autoplay,imgWidth:null,imgHeight:null,imgRatio:null,preloaderTimeout:null,loopTimeout:null,tapTimeout:0}},computed:{containerClasses:function(){return{autoplay:this.isAutoplay,loading:this.isLoading,playing:this.isPlaying,ended:this.isEnded,highlighted:this.isHighlighted}},imageStyle:function(){return{width:Math.round(this.imgWidth*this.imgRatio*this.data.scaleRatio.w)+"px",height:Math.round(this.imgHeight*this.imgRatio*this.data.scaleRatio.h)+"px"}},imageSrc:function(){var t=!1===this.data.loop?"?rand="+this.rand:"";return/^https?:\/\//.test(this.data.url)?Object(o.default)().translatePath(this.data.url+t):Object(o.default)().translatePath("assets/pages/content/"+encodeURIComponent(this.data.url)+t)},rand:function(){return this.$store.state.content.rands[this.data.itemId]},isCurrentPage:function(){var t=this.$store.getters["pager/state"];return t.singleMode?this.data.page.isWide?this.data.page.id===t.rightPage&&("right"===this.data.page.side&&t.leftPage===t.rightPage||"left"===this.data.page.side&&t.leftPage!==t.rightPage||"both"===this.data.page.side):this.data.page.id===t.rightPage:this.data.page.id===t.leftPage||this.data.page.id===t.rightPage},isFrozenOrNotReady:function(){return this.$store.state.workspace.freezed||"ready"!==this.$store.state.workspace.status||this.$store.state.pager.freezed},isEmbed:function(){return this.$store.state.workspace.isEmbed},animationInProgress:function(){return this.$store.state.workspace.animationInProgress}},mounted:function(){this.data.crossWide&&!this.crossWideItem&&!1===this.data.loop&&this.newRand(),this.checkAutoplay()},watch:{isCurrentPage:"currentPageChanged",isLoaded:function(t){!t||this.crossWideItem&&!this.crossWideItem.isLoaded||(this.isLoading=!1,this.playGif(this),this.crossWideItem&&(this.crossWideItem.isLoading=!1,this.playGif(this.crossWideItem)),this.$emit("gif:loaded",this),this.$root.$emit("gif",{action:"loaded",url:this.data.url}))},animationInProgress:function(t){t||this.$emit("pageAnimationEnded")}},methods:{playGif:function(t){t.isPlaying=!0,!1===t.data.loop&&t.data.duration&&(t.loopTimeout=setTimeout((function(){t.isPlaying=!1,t.isEnded=!0}),t.data.duration+300))},onGifClick:function(t){Date.now()>this.tapTimeout&&setTimeout(this.gifClick,this.$store.state.workspace.doubletapInterval+1),this.tapTimeout=Date.now()+this.$store.state.workspace.doubletapInterval},gifClick:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isFrozenOrNotReady||this.isEmbed||(this.data.url&&this.isIdle&&!this.isLoading?(this.$emit("gif:click",this),this.$root.$emit("gif",{action:"click",url:this.data.url}),this.loadGif()):!1===this.data.loop&&this.isEnded?(this.unloadGif(!e),this.loadGif()):(this.isPlaying||this.isLoading)&&this.unloadGif(!e&&!1===this.data.loop),this.crossWideItem&&!e&&this.crossWideItem.gifClick(null,!0))},loadGif:function(){var t=this;this.img||(this.img=document.createElement("img")),this.img.onload=function(){clearTimeout(t.preloaderTimeout),t.isLoaded=!0,t.imgWidth=t.img.naturalWidth,t.imgHeight=t.img.naturalHeight,t.imgRatio=Math.max(t.data.rect[0]/t.imgWidth,t.data.rect[1]/t.imgHeight)},this.img.onerror=function(e){t.$emit("gif:error",t,e)},this.crossOrigin&&(this.img.crossOrigin=this.crossOrigin),this.img.src=this.imageSrc,this.isIdle=!1,this.preloaderTimeout=setTimeout((function(){t.isLoading=!0}),this.data.loop?200:0)},unloadGif:function(t){var e;this.thumbnailUrl&&(clearTimeout(this.preloaderTimeout),clearTimeout(this.loopTimeout),this.isLoading=!1,this.img&&(this.img.onload=null,this.img.onerror=null,this.img.src=""),null===(e=this.$refs.gifImg)||void 0===e||e.removeAttribute("src"),this.isLoaded=!1,this.isPlaying=!1,this.isEnded=!1,this.isAutoplay=!1,this.isIdle=!0,t&&this.newRand(),this.$emit("gif:stop",this),this.$root.$emit("gif",{action:"stop",url:this.data.url}))},checkAutoplay:function(){this.data.autoplay&&(this.data.fileSize<1048576||!this.isMobile?this.isCurrentPage&&this.loadGif():this.isAutoplay=!1)},currentPageChanged:function(t){var e=this;t?this.animationInProgress?this.$once("pageAnimationEnded",(function(){e.checkAutoplay()})):this.checkAutoplay():(this.unloadGif(),this.data.autoplay&&(this.isAutoplay=!0))},newRand:function(){this.$store.dispatch("content/newRand",{itemId:this.data.itemId})}},components:{spinner:n.a}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(146);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(27),o=i(15),r=i(5),n=i(656),a=i(670),h=i(673),l=i(379),c=(i(675),i(676),i(32));e.default={extends:s.default,name:"ContentVideo",data:function(){var t;return{playerPromise:new Promise((function(e){t=e})),resolvePlayer:t,isModalShown:!1,isPlayerShown:!1,playerLoaded:!1,isPlaying:!1,tapTimeout:0,hasError:!1,videoData:null,showPreventer:!0,currentTime:null,lastProgressId:null,originalStartFrom:null}},beforeMount:function(){this.data.originalUrl?this.videoData=this.getVideoInfo(this.data.originalUrl):this.videoData=this.data,this.originalStartFrom=this.videoData.startFrom},beforeDestroy:function(){this.saveTime(this.currentTime),this.unbindEvents()},watch:{isCurrentPage:"currentPageChanged",isPlaying:"setPlaying",shouldAutoplay:function(t){t&&!this.isPlayerShown&&this.startInline()},data:function(t){t.originalUrl?this.videoData=this.getVideoInfo(t.originalUrl):this.videoData=t},isInline:function(t,e){e&&!t&&this.isPlayerShown&&(this.isPlayerShown=!1,this.playerLoaded=!1)},currentTime:function(t){this.saveTime(t)}},mounted:function(){this.shouldAutoplay&&this.startInline()},computed:{isInline:function(){var t=this.$store.state.workspace.userAgentInfo;return"dialog"!==this.data.mode&&!this.data.crossWide&&!t.browser.safari&&!t.browser.publisher&&this.data.rect[0]*this.data.scaleRatio.w>144&&this.data.rect[1]*this.data.scaleRatio.h>100},shouldAutoplay:function(){return!this.isFrozenOrNotReady&&!this.isEmbed&&!this.hasError&&!this.isPublisher&&!this.isMobile&&this.isInline&&this.data.autoplay},isThumbnailShown:function(){return("dialog"!==this.data.mode||this.data.showImage)&&!this.playerLoaded},isCurrentPage:function(){var t=this.$store.getters["pager/state"];return t.singleMode?this.data.page.isWide?this.data.page.id===t.rightPage&&("right"===this.data.page.side&&t.leftPage===t.rightPage||"left"===this.data.page.side&&t.leftPage!==t.rightPage||"both"===this.data.page.side):this.data.page.id===t.rightPage:this.data.page.id===t.leftPage||this.data.page.id===t.rightPage},isIos:function(){return this.$store.state.workspace.userAgentInfo.os.ios},isModalSmall:function(){return this.modalRect.height<=200},isPublisher:function(){return this.$store.state.workspace.userAgentInfo.browser.publisher},apiVideoUrl:function(){var t="";switch(this.data.provider){case"youtube":t="https://www.youtube.com/watch?v="+this.data.id;break;case"vimeo":t="https://vimeo.com/"+this.data.id,this.data.accessKey?t="https://vimeo.com/"+this.data.id+"/"+this.data.accessKey:this.data.originalUrl&&(t=this.data.originalUrl.split("#")[0].split("?")[0]);break;case"wistia":this.data.account?t="https://"+this.data.account+".wistia.com/medias/"+this.data.id:this.data.originalUrl&&(t=this.data.originalUrl.split("#")[0].split("?")[0]);break;default:t=this.data.originalUrl||this.data.id}return t},modalRect:function(){var t=Object(o.fit)({width:this.data.width?this.data.width:this.data.rect[0],height:this.data.height?this.data.height:this.data.rect[1]},{width:.8*this.workspaceSize.width,height:.8*this.workspaceSize.height});return{width:Math.round(t.width),height:Math.round(t.height)}},workspaceSize:function(){return this.$store.getters["workspace/size"]},modalVideoStyle:function(){return"youtube"===this.data.provider?null:{width:this.modalRect.width+"px",height:this.modalRect.height+"px"}},thumbnailUrl:function(){return this.data.image?/^https?:\/\//.test(this.data.image)?Object(r.default)().translatePath(this.data.image):Object(r.default)().translatePath("assets/pages/content/"+this.data.image):null},containerClasses:function(){return{highlighted:this.isHighlighted}},isFrozenOrNotReady:function(){return this.$store.state.workspace.freezed||"ready"!==this.$store.state.workspace.status||this.$store.state.pager.freezed},isMuted:function(){return this.$store.state.workspace.muteSound},isEmbed:function(){return this.$store.state.workspace.isEmbed},animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]}},methods:{onVideoClick:function(){this.animationInProgress||(Date.now()>this.tapTimeout&&setTimeout(this.videoClick,this.$store.state.workspace.doubletapInterval+1),this.tapTimeout=Date.now()+this.$store.state.workspace.doubletapInterval)},videoClick:function(){this.isFrozenOrNotReady||this.isEmbed||this.hasError||(this.isPublisher?this.$root.$emit("video",{action:"publisher",url:this.apiVideoUrl}):(this.$emit("video:click",this),this.isInline?this.startInline():this.openinModal()))},startInline:function(){var t,e=this;this.currentTime=this.loadTime(),this.videoData.startFrom=null!==(t=this.currentTime)&&void 0!==t?t:this.originalStartFrom,this.playerPromise.then((function(){"vimeo"===!e.data.provider&&(e.playerLoaded=!0)})),this.$store.dispatch("workspace/flipCornerOff"),this.isPlayerShown=!0,this.$nextTick((function(){this.bindEvents()}))},openinModal:function(){var t;this.currentTime=this.loadTime(),this.videoData.startFrom=null!==(t=this.currentTime)&&void 0!==t?t:this.originalStartFrom,this.isModalShown=!0,this.$nextTick((function(){var t=this;this.$refs.modalWindow.show(),this.$nextTick((function(){this.bindEvents()})),this.$refs.modalWindow.$once("hidden",(function(){t.isModalShown=!1,t.isPlaying=!1,t.$emit("video:close",t),t.$root.$emit("video",{action:"close",url:t.apiVideoUrl}),t.unbindEvents()}))}))},playPause:function(t){t.preventDefault(),this.isPlaying?this.$refs.player.pause():this.$refs.player.play()},getVideoInfo:function(t){var e,i=/https?:\/\/(?:www)?(?:player)?\.?(?:vimeo\.com\/)(?:video\/)?(\d*)\/?([a-zA-Z\d]*)?/,s=/https?:\/\/(.*)?(?:\.wistia\.com|fast\.wistia\.net)\/(?:medias|embed\/iframe)\/(.*)/,o=/https?:\/\/(?:www\.)?youtu\.?be\/?(?:\.com\/)?(?:embed\/)?(?:watch\?v=)?([a-zA-Z_\-\d]*)(?:\?.*)?/.exec(t);o&&o.length>1&&(e={provider:"youtube",id:o[1]});var r=i.exec(t);r&&r.length>1&&(e={provider:"vimeo",id:r[1],accessKey:r[2]});var n=s.exec(t);return n&&n.length>1&&(e={provider:"wistia",id:n[2]},n[1]&&(e.account=n[1])),Object(c.default)(this.data,e)},currentPageChanged:function(t){t?!this.isMobile&&this.data.autoplay&&this.$emit("play"):this.$emit("pause")},bindEvents:function(){var t=this;this.$refs.player.$on("play",(function(e,i){"vimeo"===t.data.provider&&t.isInline&&(t.playerLoaded=!0),t.isPlaying=!0,t.showPreventer=!0,t.$emit("video:play",e,t,i),t.$root.$emit("video",{action:"play",url:t.apiVideoUrl,time:e})})),this.$refs.player.$on("pause",(function(e,i){t.isPlaying=!1,t.currentTime=e,t.$emit("video:pause",e,t,i),t.$root.$emit("video",{action:"pause",url:t.apiVideoUrl,time:e})})),this.$refs.player.$on("end",(function(e,i){t.isPlaying=!1,t.currentTime=null,t.$emit("video:end",e,t,i),t.$root.$emit("video",{action:"stop",url:t.apiVideoUrl,time:e})})),this.$refs.player.$on("ended",(function(e,i){t.isPlaying=!1,t.currentTime=null,t.$emit("video:end",e,t,i),t.$root.$emit("video",{action:"stop",url:t.apiVideoUrl,time:e})})),this.$refs.player.$on("seek",(function(e,i){t.currentTime=e,t.$emit("video:seek",e,t,i),t.$root.$emit("video",{action:"seekTo",url:t.apiVideoUrl,time:e})})),this.$refs.player.$on("seeked",(function(e,i){t.currentTime=e,t.$emit("video:seek",e,t,i),t.$root.$emit("video",{action:"seekTo",url:t.apiVideoUrl,time:e})})),this.$refs.player.$on("timeupdate",(function(e){t.currentTime=e})),this.$refs.player.$on("secondchange",(function(e){t.currentTime=e})),this.$refs.player.$on("error",(function(e,i){"PasswordError"!==e.name&&"PrivacyError"!==e.name?(t.$emit("video:error",e,t,i),t.isModalShown=!1,t.isPlayerShown=!1,t.playerLoaded=!1,t.isPlaying=!1,t.hasError=!0):t.showPreventer=!1})),this.$refs.player.$on("loaded",(function(e,i){t.showPreventer=!0,"vimeo"===t.data.provider&&t.isInline&&(t.playerLoaded=!0),t.$emit("video:loaded",e,t,i)})),this.$refs.player.$on("ready",(function(){t.resolvePlayer()}))},unbindEvents:function(){this.$refs.player&&(this.$refs.player.$off("play"),this.$refs.player.$off("pause"),this.$refs.player.$off("end"),this.$refs.player.$off("ended"),this.$refs.player.$off("seek"),this.$refs.player.$off("seeked"),this.$refs.player.$off("error"),this.$refs.player.$off("loaded"),this.$refs.player.$off("ready"))},setPlaying:function(t){this.$store.dispatch("content/setVideoPlaying",{playing:t,id:this.data.id}),t&&this.$store.dispatch("workspace/flipCornerOff")},getVideoHash:function(t){return[[this.videoData.page.id,this.videoData.page.isWide?"wide":this.videoData.page.side].join("_"),this.videoData.provider,this.videoData.id,t].join("_")},saveTime:function(t){var e=this.getVideoHash("time"),i=this.getVideoHash("id"),s=Object(r.default)().getSessionStorage().getItem(i);this.data.crossWide&&s&&s!=this.lastProgressId||(this.lastProgressId=Date.now(),Object(r.default)().getSessionStorage().setItem(e,t),Object(r.default)().getSessionStorage().setItem(i,this.lastProgressId))},loadTime:function(){var t=this.getVideoHash("time"),e=Object(r.default)().getSessionStorage().getItem(t),i=e?parseInt(e,10):null,s=this.getVideoHash("id");return this.lastProgressId=Object(r.default)().getSessionStorage().getItem(s),null===i||isNaN(i)?null:i}},components:{youtube:n.default,vimeo:a.default,wistia:h.default,"modal-window":l.default}}},function(t,e,i){"use strict";i.r(e);var s=i(148);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s,o=i(658),r=i.n(o);function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var h=0,l=-1,c=0,d=1,u=2,p=3,f=5,g=(a(s={},l,"unstarted"),a(s,d,"play"),a(s,u,"pause"),a(s,c,"ended"),a(s,p,"buffering"),a(s,f,"cued"),s);e.default={name:"YoutubePlayer",props:{id:{type:[String],required:!0,default:null},url:{type:[String],required:!1,default:null},embedUrl:{type:[String],required:!1,default:null},accessKey:{type:[String],required:!1,default:null},height:{type:[Number,String],default:null},width:{type:[Number,String],default:null},autoplay:{type:Boolean,default:!1},mute:{type:Boolean,default:!1},start:{type:Number,default:null},options:{type:Object,default:function(){return{}}},isCurrentPage:{type:Boolean,default:!1},isIos:{type:Boolean,default:!1}},watch:{id:"update",width:"setSize",height:"setSize",mute:"setMute",isCurrentPage:function(t){t&&this.autoplay&&!this.isPaused&&this.play()}},data:function(){return{elementId:"youtube-player-".concat(h+=1),player:{},isPaused:!1}},methods:{play:function(){return this.player.playVideo()},pause:function(){return this.isPaused=!0,this.player.pauseVideo()},stop:function(){return this.player.stopVideo()},update:function(t){this.player.loadVideoById({videoId:t})},setSize:function(){this.player.setSize(this.width,this.height)},setMute:function(t){t?this.player.mute():this.player.unMute()},setVolume:function(t){this.player.setVolume(100*t)},onReady:function(t){var e=this;this.$emit("ready",t.target),this.isIos&&this.start&&this.$once("play",(function(){e.player.seekTo(e.start,!0)})),this.$on("play",this.startEmmitingTime),this.$on("pause",this.stopEmmitingTime),this.$on("ended",this.stopEmmitingTime),this.player.getPlayerState().then((function(t){var i=[d,u,p];e.isCurrentPage&&-1===i.indexOf(t)&&e.autoplay&&e.isMobile&&!e.isIos&&e.play()}))},emitStateChange:function(t){var e=this;if(null!==t.data&&t.data!==l){var i,s=this.player.getCurrentTime();"function"==typeof s.then?s.then((function(s){i=Math.round(s),e.$emit(g[t.data],i,e.player)})):(i=Math.round(s),this.$emit(g[t.data],i,this.player))}},emitError:function(t){this.$emit("error",t,this.player)},startEmmitingTime:function(){var t=this;this.timeInterval=setInterval((function(){if(t.player){var e,i=t.player.getCurrentTime();"function"==typeof i.then?i.then((function(i){e=Math.round(i),t.$emit("timeupdate",e)})):(e=Math.round(i),t.$emit("timeupdate",e))}}),1e3)},stopEmmitingTime:function(){clearInterval(this.timeInterval)}},computed:{isMobile:function(){return"mobile"===this.$store.state.workspace.layout}},mounted:function(){window.YTConfig={host:"https://www.youtube.com"};var t={autoplay:this.autoplay&&this.isCurrentPage?1:0,rel:0,modestbranding:1,mute:this.mute?1:0};!this.isIos&&this.start&&(t.start=this.start),this.player=r()(this.$refs.playerMount,{videoId:this.id,width:this.width,height:this.height,playerVars:n(t,this.options)}),this.player.on("ready",this.onReady),this.player.on("stateChange",this.emitStateChange),this.player.on("error",this.emitError),this.$parent.$on("play",this.play),this.$parent.$on("stop",this.stop),this.$parent.$on("pause",this.pause)},beforeDestroy:function(){null!==this.player&&this.player.destroy&&(this.player.destroy(),delete this.player),this.$off("play",this.startEmmitingTime),this.$off("pause",this.stopEmmitingTime),this.$off("ended",this.stopEmmitingTime),this.$parent.$off("play",this.play),this.$parent.$off("stop",this.stop),this.$parent.$off("pause",this.pause)}}},function(t,e,i){"use strict";i.r(e);var s=i(150);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(671);function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}var r=0;function n(t){var e=this;this.player.on(t,(function(i){var s=i.seconds?Math.floor(i.seconds):i;e.$emit(t,s,e.player)}))}var a=["play","pause","ended","seeked","error","loaded","timeupdate"];e.default={name:"VimeoPlayer",props:{id:{type:[String],required:!1,default:null},url:{type:[String],required:!1,default:null},embedUrl:{type:[String],required:!1,default:null},accessKey:{type:[String],required:!1,default:null},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},mute:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1},start:{type:Number,default:null},options:{type:Object,default:function(){return{}}},isCurrentPage:{type:Boolean,default:!1}},render:function(t){return t("div",{attrs:{class:"vimeo-player player",id:this.elementId}})},watch:{id:"update",mute:"setMute",width:"setSize",height:"setSize",isCurrentPage:function(t){t&&this.autoplay&&!this.isPaused&&this.play()}},data:function(){return{elementId:"vimeo-player-".concat(r+=1),player:null,isPaused:!1,volume:1}},methods:{play:function(){return this.player.play().catch(this.error)},pause:function(){return this.isPaused=!0,this.player.pause().catch(this.error)},stop:function(){return this.player.pause().catch(this.error)},update:function(t){return this.player.loadVideo(t).catch(this.error)},setMute:function(t){var e=this;t?(this.player.getVolume().then((function(t){e.volume=t})).catch(this.error),this.player.setMuted(!0).catch(this.error)):(this.player.setMuted(!1).catch(this.error),this.player.setVolume(this.volume).catch(this.error))},setVolume:function(t){this.player.setVolume(t).catch(this.error)},setSize:function(){this.player.element&&(this.player.element.width=this.width,this.player.element.height=this.height)},init:function(){var t=this;this.player.ready().then((function(){t.start&&t.player.setCurrentTime(t.start).then((function(){t.autoplay||t.player.pause()})),t.$emit("ready",t.player),a.forEach((function(e){return n.call(t,e)}))})).catch(this.error)},error:function(t){var e=this;if(-1!==t.message.indexOf("is not embeddable")&&this.$el.querySelector("iframe"))return;"PasswordError"!==t.name&&"PrivacyError"!==t.name||this.player.element&&(this.$nextTick((function(){e.player.element.focus()})),setTimeout((function(){e.player.element.focus()}),100)),this.$emit("error",t,this.player)}},mounted:function(){var t={width:this.width,height:this.height,autoplay:this.autoplay&&this.isCurrentPage,muted:this.mute,transparent:!1,playsinline:!0};this.accessKey?t.url="https://www.vimeo.com/"+this.id+"/"+this.accessKey:this.embedUrl?t.url=this.embedUrl:t.id=this.id,this.player=new s.default(this.$el,o(t,this.options)),this.init(),this.$parent.$on("play",this.play),this.$parent.$on("stop",this.stop),this.$parent.$on("pause",this.pause)},beforeDestroy:function(){this.player&&this.player.unload().catch((function(){})),this.$parent.$off("play",this.play),this.$parent.$off("stop",this.stop),this.$parent.$off("pause",this.pause)}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(153);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(43),o=i(10);function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}var n=0;function a(t){var e=this;this.player.bind(t,(function(){var i=Math.floor(e.player.time());e.$emit(t,i,e.player)}))}var h=["play","pause","end","seek","secondchange"];e.default={name:"WistiaPlayer",props:{id:{type:[String],required:!1,default:null},url:{type:[String],required:!1,default:null},embedUrl:{type:[String],required:!1,default:null},accessKey:{type:[String],required:!1,default:null},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},mute:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1},start:{type:Number,default:null},options:{type:Object,default:function(){return{}}},isCurrentPage:{type:Boolean,default:!1}},watch:{id:"update",mute:"setMute",isCurrentPage:function(t){t&&this.autoplay&&!this.isPaused&&this.safePlay()},height:function(t){var e;null===(e=this.player)||void 0===e||e.height(t)},width:function(t){var e;null===(e=this.player)||void 0===e||e.width(t)}},data:function(){return{elementId:this.generateElementId(),player:null,isPaused:!1,autoplayMissed:!1,tryNumber:0}},methods:{generateElementId:function(){return"wistia-player-".concat(n+=1)},play:function(){return this.player.play()},safePlay:function(){if(this.player)return this.player.play();this.autoplayMissed=!0},pause:function(){return this.isPaused=!0,this.player.pause()},stop:function(){return this.player.pause()},update:function(t){return this.player.replaceWith(t)},setMute:function(t){t?this.player.mute():this.player.unmute()},setVolume:function(t){this.player.volume(t)},onAPILoaded:function(){var t=this,e={autoPlay:this.autoplay&&this.isCurrentPage,silentAutoPlay:!1,googleAnalytics:!1,videoFoam:!1,muted:this.mute};this.start&&(e.time=Object(o.secondToTimeFormat)(this.start));var i={id:this.elementId,options:r(e,this.options),onEmbedded:function(e){t.player=e,h.forEach((function(e){return a.call(t,e)})),i.onEmbedded=function(){}},onReady:function(s){var o,r,n,a=s.options,h=a.autoPlay!==e.autoPlay||a.time!==e.time;(i.onReady=function(){},h&&t.shouldRetry())?setTimeout((function(){t.disposePlayer(),t.elementId=t.generateElementId(),t.increaseTryNumber(),t.$nextTick((function(){t.onAPILoaded()}))}),t.getTryTimeout()):(t.resetTryNumber(),null===(o=t.player)||void 0===o||o.width(t.width),null===(r=t.player)||void 0===r||r.height(t.height),t.$parent.$on("play",t.play),t.$parent.$on("stop",t.stop),t.$parent.$on("pause",t.pause),t.$emit("ready",t.player),t.autoplayMissed&&(null===(n=t.player)||void 0===n||n.play()))}};window._wq=window._wq||[],window._wq.push(i)},increaseTryNumber:function(){this.tryNumber++},resetTryNumber:function(){this.tryNumber=0},shouldRetry:function(){return this.tryNumber<2},getTryTimeout:function(){return 500*(this.tryNumber+2)},disposePlayer:function(){this.player&&"function"==typeof this.player.remove&&(this.player.remove(),this.player=null)}},mounted:function(){window.Wistia?this.onAPILoaded():Object(s.default)("https://fast.wistia.com/assets/external/E-v1.js",this.onAPILoaded)},beforeDestroy:function(){this.disposePlayer(),this.$parent.$off("play",this.play),this.$parent.$off("stop",this.stop),this.$parent.$off("pause",this.pause)}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(156);e.default=s.default},function(t,e,i){"use strict";i.r(e),e.default={name:"select-text-panel",data:function(){return{showPanel:!1,forceShow:!1,panelStyle:{},panelRect:{},vertical:null,rightOffset:!1,showPanelTimeout:null,pointerTransform:{}}},mounted:function(){this.$root.$on("selectText:hidePanel",this.hide),this.$root.$on("selectText:showPanel",this.show)},beforeDestroy:function(){this.$root.$off("selectText:hidePanel",this.hide),this.$root.$off("selectText:showPanel",this.show)},computed:{userRect:function(){return this.$store.state.text.selectionRect},pageId:function(){return this.$store.state.text.pageID},pageSide:function(){return this.$store.state.text.pageSide},inProgress:function(){return this.$store.state.text.inProgress},pageSize:function(){return this.$store.state.pages.size},cornerSymbols:function(){return this.$store.state.text.cornerSymbols},holderSize:function(){return this.$store.getters["workspace/holderSize"]},pages:function(){return this.$store.state.pager.leftPage&&this.$store.state.pager.rightPage?2:1},bookComponent:function(){return this.$store.state.workspace.bookComponent},locale:function(){return this.$store.getters["i18n/getCurrent"]},blockDirection:function(){return this.$store.getters["i18n/isLocaleRtl"]?"rtl":null},isRtl:function(){return this.$store.state.book.rightToLeft},panelClass:function(){return this.vertical+(this.rightOffset?" right-side":"")+(this.contextMenuVisible?" quick-leave":"")},pageTopPadding:function(){if(this.$store.getters["book/hasHardcover"]){var t=this.$store.getters["pager/state"];if(null===t.leftPage||null===t.rightPage)return-.03*this.pageSize.height/2}return 0},pageLeftPadding:function(){return"right"!==this.pageSide||"slide-book"===this.bookComponent||this.$store.getters["pager/isFirstPage"]||this.isRtl&&this.$store.getters["pages/isLastPage"](this.pageId)||this.$store.getters["pages/pageProp"](this.pageId,"wide")?0:"flip-book"===this.bookComponent?this.pageSize.width:0},safeHMargin:function(){return this.showPanel?this.$refs.copyPanel.clientWidth/2-this.holderSize.left:0},contextMenuVisible:function(){return this.$store.state.workspace.contextMenuVisible}},watch:{showPanel:function(t){var e=this;t&&this.$nextTick((function(){e.setPosition()}))}},methods:{hide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{forceHide:!0};this.showPanel=!1,t.forceHide&&(this.forceShow=!1)},show:function(){null===this.userRect||this.showPanel||(this.showPanel=!0)},setPosition:function(){this.cornerSymbols.first.top===this.cornerSymbols.last.top?"left"===this.userRect.cursorHSide?this.getTopPosition():this.getBottomPosition():"top"===this.userRect.cursorVSide?this.getTopPosition():this.getBottomPosition(),this.panelRect.top<50?this.getBottomPosition():this.panelRect.top>this.holderSize.height-50&&this.getTopPosition();var t=9,e=0,i=0;i="slide-book"===this.bookComponent?this.holderSize.width:this.pageSize.width*this.pages,this.panelRect.left<this.safeHMargin?(this.rightOffset=!1,e=this.panelRect.left-this.safeHMargin-t,this.pointerTransform={transform:"translate(".concat(e,"px, ").concat("bottom"===this.vertical?"-100%":"10px",")")},this.panelRect.left=this.safeHMargin):i-this.panelRect.left<this.safeHMargin?(this.rightOffset=!0,e=this.panelRect.left+this.safeHMargin-i-t,this.pointerTransform={transform:"translate(".concat(e,"px, ").concat("bottom"===this.vertical?"-100%":"10px",")")},this.panelRect.right=this.safeHMargin):(this.rightOffset=!1,this.pointerTransform={}),this.rightOffset?this.panelStyle={right:this.panelRect.right+"px",top:this.panelRect.top+"px"}:this.panelStyle={left:this.panelRect.left+"px",top:this.panelRect.top+"px"}},getBottomPosition:function(){var t=0,e=0;this.userRect&&(t=this.userRect.offsetX?this.userRect.offsetX:0,e=this.userRect.offsetY?this.userRect.offsetY:0),this.panelRect.top=this.pageTopPadding+this.cornerSymbols.last.top+this.cornerSymbols.last.height+e,this.panelRect.left=this.pageLeftPadding+this.cornerSymbols.last.left+this.cornerSymbols.last.width+t,this.vertical="bottom"},getTopPosition:function(){var t=0,e=0;this.userRect&&(t=this.userRect.offsetX?this.userRect.offsetX:0,e=this.userRect.offsetY?this.userRect.offsetY:0),this.panelRect.top=this.pageTopPadding+this.cornerSymbols.first.top+e,this.panelRect.left=this.pageLeftPadding+this.cornerSymbols.first.left+t,this.vertical="top"},copyText:function(){this.$root.$emit("contextMenu:copyText"),this.hide()},copyTextLink:function(){this.$root.$emit("contextMenu:copyTextLink"),this.hide()},onMouseEnter:function(){this.forceShow=!0},onMouseLeave:function(){this.forceShow=!1}}}},function(t,e,i){},function(t,e,i){i(0).register({"add-note":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M3 3v13h6l3 5 3-5h6V3H3zm5 6h3V6h2v3h3v2h-3v3h-2v-3H8V9z"/>'}})},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(161);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(120),o=i.n(s),r=i(15),n=i(3),a=i(393),h=i(28),l=i.n(h),c=i(106),d=i(373),u=i(375),p=i(377),f=i(381),g=i(383),m=i(385),v=i(389),b=i(391),S=i(392);i(158);function w(t){return x(t)||P(t)||k(t)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(t,e){if(t){if("string"==typeof t)return z(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?z(t,e):void 0}}function P(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function x(t){if(Array.isArray(t))return z(t)}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var $={"content-block":d.default,"content-link":u.default,"content-image":p.default,"content-gallery":f.default,"content-gif":g.default,"content-video":m.default};e.default={name:"SlideBook",mixins:[b.default,S.default],props:{containerSize:{type:Object,required:!0},pageSize:{type:Object,required:!0},substrateStyles:{type:Function,default:function(){}}},components:{page:c.default,selectTextPanel:v.default},data:function(){return{status:"ready",zoomFactor:1,scaleFactor:1,slideScrollTop:0,slideScrollLeft:0,slideScrollY:0,slideScrollX:0,scaleOrigin:{x:0,y:0},delta:0,slidesCache:{},outputSlidesCache:[],horizontalScale:1,fastAnimation:!1,dragActive:!0,lastZoomFactor:null,lastWheelTime:0,propCache:{},dragging:!1,arrowAttract:null,noteIconClass:["hidden"],noteIconStyle:null}},beforeMount:function(){this.lastZoomFactor=this.defaultZoomFactor},mounted:function(){this.slidesCacheUpdate(),this.status="ready",this.pendingSlide=null,this.$root.$on("contextMenu:zoomIn",this.onTap),this.$root.$on("contextMenu:zoomOut",this.zoomOut),this.$root.$on("bottomMenu:zoomIn",this.onTap),this.$root.$on("bottomMenu:zoomOut",this.zoomOut),this.$root.$on("zoomPanel",this.changeZoom),this.$root.$on("zoomMove",this.zoomMove),this.$root.$on("wheel",this.onWheel),this.enableArrowAttract(),this.updateNoteIcon()},beforeDestroy:function(){this.$root.$off("contextMenu:zoomIn",this.onTap),this.$root.$off("contextMenu:zoomOut",this.zoomOut),this.$root.$off("bottomMenu:zoomIn",this.onTap),this.$root.$off("bottomMenu:zoomOut",this.zoomOut),this.$root.$off("zoomPanel",this.changeZoom),this.$root.$off("zoomMove",this.zoomMove),this.$root.$off("wheel",this.onWheel)},watch:{pageSize:function(t){var e={width:t.width*this.zoomFactor,height:t.height*this.zoomFactor,zoomFactor:this.zoomFactor};this.$store.dispatch("pages/changePageSize",e),this.slidesCacheUpdate()},isSingleMode:function(){this.slidesCacheUpdate()},isSlideMode:function(){this.slidesCacheUpdate()},isRtl:function(){this.slidesCacheUpdate()},zoomFactor:function(t,e){var i=this,s={width:this.pageSize.width*t,height:this.pageSize.height*t,zoomFactor:t};if(this.$store.dispatch("pages/changePageSize",s),t>1&&1===e){var o=w(this.slidesCache.current.map((function(t){return t.id}))).filter((function(t){return null!==t})).some((function(t){return i.$store.getters["pages/pageProp"](t,"textBlocks")}),this);this.selectTextEnabled&&o&&this.showSelectTextTip()}this.refreshScroll()},status:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){this.refreshScroll(),this.$store.dispatch("workspace/setStatus",t);var e=["sliding","pan"].indexOf(status)>=0?"inProgress":"pending";this.$store.dispatch("pager/setFlipState",{newState:e}),"ready"===t?this.$store.dispatch("workspace/unsetAnimationProgress"):this.$store.dispatch("workspace/setAnimationProgress"),this.updateNoteIcon(),this.arrowAttract=null})),slides:function(t,e){var i=this;if(this.scrollLock)this.scrollLock=!1;else{this.isSlideMode||this.isSingleMode||this.updateHorizontalScale(t.current[0],e.current[0]);var s=this.getIndexDelta(t.current[0],e.current[0]),o=Math.abs(s)>1;!this.isRtl&&s>0||this.isRtl&&s<0?(o&&this.replaceCachedSlide("right",t.current),this.isZoomed?(this.pendingSlide="right",this.zoomOut()):this.$nextTick((function(){i.animateSlides("right",!1,!0)}))):(!this.isRtl&&s<0||this.isRtl&&s>0)&&(o&&this.replaceCachedSlide("left",t.current),this.isZoomed?(this.pendingSlide="left",this.zoomOut()):this.$nextTick((function(){i.animateSlides("left",!1,!0)})))}},workspaceSize:function(t,e){!this.isMobile||t.width===e.width&&t.height===e.height||this.zoomOut(!0)},containerSize:function(){1===this.zoomFactor||this.isMobile||this.refreshScroll()},pageSizes:function(t){var e=this,i=this.slidesCache;Object.keys(i).forEach((function(s){for(var o=0;o<i[s].length;o++){var r=i[s][o].id,n=e.getPageProp(r,"wide"),a=t[s].width*(e.isSingleMode&&n?2:1),h=t[s].height;e.$store.dispatch("pages/setCurrentSize",{pageID:r,value:{width:a,height:h}})}}))},spreadSizes:function(t){this.$store.dispatch("workspace/setHolderSize",t.current),this.updateNoteIcon()},isLocaleRtl:function(){this.updateNoteIcon()},notesEnabled:function(){this.updateNoteIcon()},dragActive:function(t){t?this.$refs.holder.$el.classList.remove("nodrag"):this.$refs.holder.$el.classList.add("nodrag")},arrowAttract:function(t){this.$store.dispatch("workspace/setArrowAttract",t)},isMini:function(){this.zoomOut(!0),this.updateNoteIcon()}},computed:{isFirstPage:function(){return this.$store.getters["pager/isFirstPage"]},isLastPage:function(){return this.$store.getters["pager/isLastPage"]},isRightmostPage:function(){return this.isFirstPage&&this.isRtl||this.isLastPage&&!this.isRtl},isLeftmostPage:function(){return this.isLastPage&&this.isRtl||this.isFirstPage&&!this.isRtl},isRtl:function(){return this.$store.state.book.rightToLeft},isLocaleRtl:function(){return this.$store.getters["i18n/isLocaleRtl"]},isMobile:function(){return"mobile"===this.$store.state.workspace.layout},isSingleMode:function(){return this.$store.state.pager.singleMode},isSlideMode:function(){return this.$store.state.pager.slideMode},isContentCropMode:function(){return this.isSlideMode&&this.$store.state.book.contentCrop},isZoomed:function(){return 1!==this.zoomFactor},zoomPanel:function(){return this.$store.state.workspace.zoomPanel},slides:function(){var t={},e=this.$store.getters["pager/nextPageId"],i=this.$store.getters["pager/prevPageId"],s=this.isRtl?e:i,o=this.isRtl?i:e;if(this.isSingleMode){t.current=[];var r=this.$store.state.pager.rightPage,n=this.getPageProp(r,"wide"),a=n?r===s?"right":"left":"both";if(t.current.push({id:r,side:a,wide:n,position:""}),s){t.left=[];var h=this.getPageProp(s,"wide"),l=h?r===s?"left":"right":"both";t.left.push({id:s,side:l,wide:h,position:""})}if(o){t.right=[];var c=this.getPageProp(o,"wide"),d=c?r===o?"right":"left":"both";t.right.push({id:o,side:d,wide:c,position:""})}}else{t.current=[];var u=this.isRtl?"right":"left",p=this.isRtl?"left":"right",f=this.$store.state.pager,g=this.getPageProp(f.leftPage||f.rightPage,"wide");if(f.leftPage&&t.current.push({id:f.leftPage,wide:g,side:g?"both":u,position:u}),f.rightPage&&f.leftPage!==f.rightPage&&t.current.push({id:f.rightPage,wide:g,side:g?"both":p,position:p}),s){t.left=[];var m=this.$store.getters["pager/stateByPageId"](s),v=this.getPageProp(s,"wide");m.leftPage&&t.left.push({id:m.leftPage,wide:v,side:v?"both":u,position:u}),m.rightPage&&m.leftPage!==m.rightPage&&t.left.push({id:m.rightPage,wide:v,side:v?"both":p,position:p})}if(o){t.right=[];var b=this.$store.getters["pager/stateByPageId"](o),S=this.getPageProp(o,"wide");b.leftPage&&t.right.push({id:b.leftPage,wide:S,side:S?"both":u,position:u}),b.rightPage&&b.leftPage!==b.rightPage&&t.right.push({id:b.rightPage,wide:S,side:S?"both":p,position:p})}}return t},fitPageSize:function(){return Object(r.fit)(this.pageSize,this.containerSize)},fitDoublePageSize:function(){return Object(r.fit)({width:2*this.pageSize.width,height:this.pageSize.height},this.containerSize)},fitSinglePageSize:function(){return{width:this.fitDoublePageSize.width/2,height:this.fitDoublePageSize.height,top:this.fitDoublePageSize.top,left:(this.containerSize.width-this.fitDoublePageSize.width/2)/2}},pageSizes:function(){var t={},e=this.fitPageSize,i=this.fitDoublePageSize,s=this.fitSinglePageSize;for(var o in this.slidesCache){if(!this.slidesCache.hasOwnProperty(o))return;var r="current"===o?this.zoomFactor:1;if(this.isSingleMode)t[o]={width:Math.round(e.width*r),height:Math.round(e.height*r)};else if(this.isContentCropMode){var n=this.getContentSize(this.slidesCache[o][0].id);t[o]={width:Math.round(n.width*r),height:Math.round(n.height*r),left:n.left,top:n.top}}else{var a=this.slidesCache[o][0].wide;t[o]={width:Math.round((a?i.width:s.width)*r),height:Math.round((a?i.height:s.height)*r)}}}return t},spreadSizes:function(){var t={};for(var e in this.slidesCache){if(!this.slidesCache.hasOwnProperty(e))return;if(t[e]={width:this.pageSizes[e].width*this.slidesCache[e].length,height:this.pageSizes[e].height},this.isZoomed&&"current"===e)t[e].left=this.slideScrollLeft,t[e].top=this.slideScrollTop;else if(this.isSingleMode)t[e].left=this.fitPageSize.left,t[e].top=this.fitPageSize.top;else if(this.isContentCropMode)t[e].left=this.pageSizes[e].left,t[e].top=this.pageSizes[e].top;else{var i=2===this.slidesCache[e].length||this.slidesCache[e][0].wide;t[e].left=i?this.fitDoublePageSize.left:this.fitSinglePageSize.left,t[e].top=i?this.fitDoublePageSize.top:this.fitSinglePageSize.top}}return t},holderStyles:function(){return{zoomed:this.isZoomed,"drag-active":this.dragging}},spreadStyles:function(){var t={};return t.current={width:this.spreadSizes.current.width+"px",height:this.spreadSizes.current.height+"px",left:this.isZoomed?this.containerSize.width>=this.spreadSizes.current.width?Math.round((this.containerSize.width-this.spreadSizes.current.width)/2)+"px":0:Math.round(this.spreadSizes.current.left)+"px",top:this.isZoomed?this.containerSize.height>=this.spreadSizes.current.height?Math.round((this.containerSize.height-this.spreadSizes.current.height)/2)+"px":0:Math.round(this.spreadSizes.current.top)+"px",transformOrigin:Math.round(this.scaleOrigin.x)+"px "+Math.round(this.scaleOrigin.y)+"px",transition:"animating"===this.status?["-webkit-transform "+(this.fastAnimation?1:this.zoomAnimationSpeed)+"ms cubic-bezier(0.215, 0.61, 0.355, 1)","transform "+(this.fastAnimation?1:this.zoomAnimationSpeed)+"ms cubic-bezier(0.215, 0.61, 0.355, 1)"]:["-webkit-transform 0ms","transform 0ms"]},"pinch"!==this.status&&"scale"!==this.status&&"animating"!==this.status?t.current.transform="":0!==this.slideScrollTop||0!==this.slideScrollLeft?t.current.transform="translate3d("+(this.containerSize.width<this.spreadSizes.current.width?Math.round(this.slideScrollLeft):0)+"px,"+(this.containerSize.height<this.spreadSizes.current.height?Math.round(this.slideScrollTop):0)+"px, 0) scale("+this.scaleFactor.toFixed(2)+")":t.current.transform="scale("+this.scaleFactor.toFixed(2)+")",this.slidesCache.left&&(t.left={width:this.spreadSizes.left.width+"px",height:this.spreadSizes.left.height+"px",left:Math.round(this.spreadSizes.left.left)+"px",top:Math.round(this.spreadSizes.left.top)+"px"}),this.slidesCache.right&&(t.right={width:this.spreadSizes.right.width+"px",height:this.spreadSizes.right.height+"px",left:Math.round(this.spreadSizes.right.left)+"px",top:Math.round(this.spreadSizes.right.top)+"px"}),t},slideStyles:function(){var t={};return t.current={transform:"translate3d("+Math.round(this.slideOffsets.current)+"px, 0, 0)"},this.slidesCache.left&&(t.left={transform:"translate3d("+Math.round(this.slideOffsets.left)+"px, 0, 0)"}),this.slidesCache.right&&(t.right={transform:"translate3d("+Math.round(this.slideOffsets.right)+"px, 0, 0)"}),t},slideOffsets:function(){return{current:this.delta,left:-this.maxDelta+this.delta,right:this.maxDelta+this.delta}},maxDelta:function(){return parseInt(this.containerSize.width,10)},minZoom:function(){return Math.min(this.$store.state.workspace.containerSize.height/(this.$store.state.pages.size.height/this.$store.state.pages.size.zoomFactor),this.$store.state.workspace.containerSize.width/(2*this.$store.state.pages.size.width/this.$store.state.pages.size.zoomFactor))},maxZoom:function(){return this.$store.state.workspace.maxZoom},zoomAnimationSpeed:function(){return this.scaleFactor<1?400:600},slideAnimationSpeed:function(){return 400},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},workspaceSize:function(){return this.$store.state.workspace.size},isMini:function(){return this.$store.state.workspace.mini},isEmbed:function(){return this.$store.state.workspace.isEmbed},blockPan:function(){return this.$store.state.notes.isMoving},selectTextEnabled:function(){return!this.isMobile&&!this.isIE&&this.$store.state.workspace.components.textSelection},isIE:function(){return!0===this.$store.state.workspace.userAgentInfo.browser.msie},wheelScroll:function(){return this.$store.state.workspace.wheelScroll},notesEnabled:function(){return this.$store.state.workspace.components.notes},addNoteTitleText:function(){return this.$t("NotesToolWindow.ADD_NOTE")},noteIconShown:function(){return this.notesEnabled&&!this.isMobile&&!this.isMini&&!this.isZoomed&&"ready"===this.status&&this.spreadSizes.current}},methods:{getContentSize:function(t){var e=this.getPageProp(t,"width"),i=this.getPageProp(t,"height");return Object(r.fit)({width:e,height:i},this.containerSize)},getPageProp:function(t,e){if(!Object(n.isUndefined)(this.propCache[t])&&!Object(n.isUndefined)(this.propCache[t][e]))return this.propCache[t][e];Object(n.isUndefined)(this.propCache[t])&&(this.propCache[t]={});var i=this.$store.getters["pages/pageProp"](t,e);return this.propCache[t][e]=i,i},zoomMove:function(t){if(t&&t.direction)if("ready"===this.status){var e;switch(t.direction){case"left":case"right":e=this.getScrollAmount(t,this.iscroll.x,0,this.containerSize,this.spreadSizes.current),this.iscroll.scrollBy(e,0);break;case"up":case"down":e=this.getScrollAmount(t,0,this.iscroll.y,this.containerSize,this.spreadSizes.current),this.iscroll.scrollBy(0,e);break;case"drag":this.dragActive=t.active,this.iScrollInit(this.dragActive)}this.iscroll&&(this.holderScrollX=this.iscroll.x,this.holderScrollY=this.iscroll.y,this.$store.dispatch("text/setHolderScroll",{x:this.holderScrollX,y:this.holderScrollY}))}else"drag"===t.direction&&(this.dragActive=t.active)},onTap:function(t){var e,i,s;if(!this.isWorkspaceFrozen&&"ready"===this.status&&!this.isMini&&!(null===(e=t)||void 0===e||null===(i=e.target)||void 0===i||null===(s=i.classList)||void 0===s?void 0:s.contains("note-article"))){t||(t={center:{x:this.isRTLBook?this.workspaceSize.width:0,y:0},target:null});var o,r=!1,n=this.getTappedZoomBlock(t);if(this.isMobile&&n.id){r=this.lastZoomBlockID!==n.id;var h=this.$refs.current[0].$el.getBoundingClientRect();o=this.getBlockRect(n.rect,h)}if(this.lastZoomBlockID=r?n.id:null,r){this.updateSlideScroll();var l=1*(.96*this.containerSize.width/o.width).toFixed(2);this.scaleFactor=this.checkScaleFactorForZoom(l,this.zoomFactor,this.maxZoom)}else{var c=!(this.isFirstPage||this.isLastPage||!this.slidesCache.current[0].wide&&1===this.slidesCache.current.length)||this.isSingleMode||this.isContentCropMode?1:2,d=this.containerSize.width/this.spreadSizes.current.width*c*this.horizontalScale;this.scaleFactor=1!==this.zoomFactor||this.zoomPanel?Math.min(d,this.containerSize.height/this.spreadSizes.current.height):this.lastZoomFactor,this.horizontalScale=1}var u=Object(a.getNewBounds)(this.spreadSizes.current,this.scaleFactor,{x:t.center.x-this.spreadSizes.current.left,y:t.center.y-this.spreadSizes.current.top});if(r){var p=o.left*this.scaleFactor,f=o.width*this.scaleFactor;u.left=-p+(this.containerSize.width-f)/2}u=Object(a.normalizeBounds)(u,this.containerSize),this.scaleOrigin=Object(a.getOrigin)(this.spreadSizes.current,u,this.scaleFactor),this.newBounds=u,this.status="animating",this.refreshScroll(),this.scaleFactor>1?this.$root.$emit("zoomed"):(this.scaleFactor<1||this.zoomPanel&&1===this.scaleFactor)&&this.$root.$emit("unzoomed")}},setZoom:function(t,e){if(!this.isWorkspaceFrozen&&"ready"===this.status){this.scaleFactor=t/this.zoomFactor,this.updateSlideScroll(!1);var i=e||{x:this.workspaceSize.width/2,y:this.workspaceSize.height/2},s={x:i.x-this.spreadSizes.current.left,y:i.y-this.spreadSizes.current.top},o=Object(a.getNewBounds)(this.spreadSizes.current,this.scaleFactor,s);o=Object(a.normalizeBounds)(o,this.containerSize),this.scaleOrigin=Object(a.getOrigin)(this.spreadSizes.current,o,this.scaleFactor),this.newBounds=o,this.fastAnimation=!0,this.status="animating",this.refreshScroll()}},setScaleStart:function(){this.minScale=Math.min(this.containerSize.width/this.spreadSizes.current.width,this.containerSize.height/this.spreadSizes.current.height),this.maxScale=this.maxZoom/this.zoomFactor,this.scaleFactor=1,this.updateSlideScroll(!1),this.scaleOrigin={x:this.workspaceSize.width/2-this.slideScrollLeft,y:this.workspaceSize.height/2-this.slideScrollTop},this.status="scale"},setScale:function(t){if("scale"===this.status){var e=this.minScale+(this.maxScale-this.minScale)*t,i=Object(a.getNewBounds)(this.spreadSizes.current,e,{x:this.workspaceSize.width/2-this.slideScrollLeft,y:this.workspaceSize.height/2-this.slideScrollTop});i=Object(a.normalizeBounds)(i,this.containerSize),this.scaleOrigin=Object(a.getOrigin)(this.spreadSizes.current,i,e);var s=Math.min(this.maxScale,Math.max(this.minScale,e));this.scaleFactor=this.checkScaleFactorForZoom(s,this.zoomFactor,this.maxZoom)}},setScaleFinish:function(){if("scale"===this.status){var t=Object(a.getNewBounds)(this.spreadSizes.current,this.scaleFactor,this.scaleOrigin);t=Object(a.normalizeBounds)(t,this.containerSize),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.scaleFactor=1,this.slideScrollLeft=this.isZoomed?t.left:0,this.slideScrollTop=this.isZoomed?t.top:0,this.status="ready"}},onTransitionEnd:function(t){t&&"transform"===t.propertyName&&("animating"===this.status&&(this.fastAnimation=!1,this.lastZoomFactor=Math.max(this.zoomFactor,this.defaultZoomFactor),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.slideScrollLeft=this.isZoomed?this.newBounds.left:0,this.slideScrollTop=this.isZoomed?this.newBounds.top:0,this.status="ready"),this.pendingSlide&&(this.updatePendingSlide(),this.animateSlides(this.pendingSlide,!1,!0),this.pendingSlide=null))},onPinchStart:function(t){this.isWorkspaceFrozen||"ready"!==this.status||this.isMini||(this.minScale=Math.min(this.containerSize.width/this.spreadSizes.current.width,this.containerSize.height/this.spreadSizes.current.height),this.scaleFactor=1,this.pinchCenter=t.center,this.isZoomed?(this.updateSlideScroll(!1),this.scaleOrigin={x:t.center.x-this.slideScrollLeft,y:t.center.y-this.slideScrollTop}):this.scaleOrigin={x:t.center.x-this.spreadSizes.current.left,y:t.center.y-this.spreadSizes.current.top},this.status="pinch")},onPinchMove:function(t){if("pinch"===this.status){var e=this.minScale<t.scale?t.scale:this.minScale;if(this.scaleFactor=this.checkScaleFactorForZoom(e,this.zoomFactor,this.maxZoom),1!==this.scaleFactor){var i=Object(a.getNewBounds)(this.spreadSizes.current,this.scaleFactor,{x:this.pinchCenter.x-this.slideScrollLeft,y:this.pinchCenter.y-this.slideScrollTop});i=Object(a.normalizeBounds)(i,this.containerSize),this.scaleOrigin=Object(a.getOrigin)(this.spreadSizes.current,i,this.scaleFactor)}}},onPinchFinish:function(){if("pinch"===this.status){var t=Object(a.getNewBounds)(this.spreadSizes.current,this.scaleFactor,this.scaleOrigin);t=Object(a.normalizeBounds)(t,this.containerSize),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.scaleFactor=1,this.slideScrollLeft=this.isZoomed?t.left:0,this.slideScrollTop=this.isZoomed?t.top:0,this.status="ready",this.zoomFactor<=1.1?this.zoomOut():this.scaleFactor>1?this.$root.$emit("zoomed"):this.scaleFactor<1&&this.$root.$emit("unzoomed")}},changeZoom:function(t){switch(t.action){case"setZoom":this.setZoom(t.zoomFactor);break;case"startScale":this.setScaleStart();break;case"changeScale":this.setScale(t.scalePosition);break;case"endScale":this.setScaleFinish();break;case"zoomIn":this.onTap();break;case"zoomOut":this.zoomOut()}},onPanStart:function(t){var e,i;if(!(this.blockPan||this.isWorkspaceFrozen||this.isZoomed||"ready"!==this.status||t.srcEvent&&(t.srcEvent.metaKey||t.srcEvent.ctrlKey)||(null==t||null===(e=t.target)||void 0===e||null===(i=e.classList)||void 0===i?void 0:i.contains("note-article")))){var s=document.elementFromPoint(t.center.x-t.deltaX,t.center.y-t.deltaY);s&&"select-text-block"===s.getAttribute("data-set")||(this.status="pan",this.$root.$emit("turnStart"))}},onPanMove:function(t){var e,i,s=this;if(!(this.blockPan||this.isWorkspaceFrozen||"pan"!==this.status||this.isZoomed||(null==t||null===(e=t.target)||void 0===e||null===(i=e.classList)||void 0===i?void 0:i.contains("note-article")))){var o=1;(t.deltaX<0&&this.isRightmostPage||t.deltaX>0&&this.isLeftmostPage)&&(o=.3),window.requestAnimationFrame((function(){s.delta=t.deltaX*o}))}},onPanEnd:function(t){var e,i;if(!this.isWorkspaceFrozen&&"pan"===this.status&&!this.isZoomed&&!(null==t||null===(e=t.target)||void 0===e||null===(i=e.classList)||void 0===i?void 0:i.contains("note-article"))){var s=Math.abs(t.overallVelocityX).toPrecision(2),o=Math.abs(t.deltaX);t.deltaX>0&&!this.isLeftmostPage&&(o>this.maxDelta/3||s>.5)?this.animateSlides("left"):t.deltaX<0&&!this.isRightmostPage&&(o>this.maxDelta/3||s>.5)?this.animateSlides("right"):this.animateSlides("center")}},zoomOut:function(t){if(1!==this.zoomFactor){if(this.lastZoomFactor=Math.max(this.zoomFactor,this.defaultZoomFactor),t)return this.status="calculating",this.zoomFactor=1,this.refreshScroll(),this.slideScrollLeft=0,this.slideScrollTop=0,this.status="ready",void this.$root.$emit("unzoomed");this.onTap({center:{x:0,y:0}})}},goRight:function(){this.scrollLock=!0,this.$store.dispatch(this.isRtl?"pager/goBackward":"pager/goForward",{target:"slide-swipe"}),this.$root.$emit("render:finish")},goLeft:function(){this.scrollLock=!0,this.$store.dispatch(this.isRtl?"pager/goForward":"pager/goBackward",{target:"slide-swipe"}),this.$root.$emit("render:finish")},animateSlides:function(t){var e,i=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={x:this.delta};switch(t){case"left":e={x:this.maxDelta};break;case"right":e={x:-this.maxDelta};break;case"center":e={x:0}}r&&this.$root.$emit("turnStart"),this.status="sliding",this.$store.dispatch("pager/freeze",{target:"slide-book"}),this.tween=new o.a.Tween(n).to(e,s?0:this.slideAnimationSpeed).easing(o.a.Easing.Sinusoidal.Out).onUpdate((function(){i.delta=n.x})).onComplete((function(){i.$root.$emit("turnStop"),i.$store.dispatch("pager/unfreeze",{target:"slide-book"}),r?i.$root.$emit("render:finish"):"left"===t?i.goLeft():"right"===t&&i.goRight(),i.slidesCacheUpdate(),i.status="ready","center"!==t&&i.$root.$emit("turned")})).start()},getIndexDelta:function(t,e){var i=this.$store.getters["pages/pageIndexById"](t.id),s=this.$store.getters["pages/pageIndexById"](e.id);t.wide&&t.side===(this.isRtl?"left":"right")&&i++,e.wide&&e.side===(this.isRtl?"left":"right")&&s++;var o=i-s;return!this.isSingleMode&&(e.wide||2===e.length)&&o>0&&o--,!this.isSingleMode&&(t.wide||2===t.length)&&o<0&&o++,o},updateHorizontalScale:function(t,e){var i=0;(e.wide||2===e.length)&&i--,(t.wide||2===t.length)&&i++,this.horizontalScale=i>0?2:i<0?.5:1},convertToOutputSlides:function(t){var e=function(e){return{position:e,pages:t[e]||[]}};return[e("current")].concat([e("left")]).concat([e("right")]).filter((function(t){return t.pages.length>0}))},getSlidesWithAllPages:function(t,e){var i=[].concat.apply([],t.map((function(t){return t.pages}))),s=[].concat.apply([],e.map((function(t){return t.pages}))).filter((function(t){return!i.some((function(e){return e.id===t.id}))}));return t.forEach((function(t){t.pages=t.pages.filter((function(t){return!s.some((function(e){return t.id===e.id}))}))})),s.length>0&&s.forEach((function(e){var i={position:"hidden page_"+e.id,pages:[e]};t=t.concat([i])})),t.sort((function(t,e){return t.pages[0].id-e.pages[0].id}))},getNonHiddenSlides:function(t){return t.filter((function(t){return t.position.indexOf("hidden")<0}))},updateOutputSlides:function(){var t=this,e=this.convertToOutputSlides(this.slidesCache);this.outputSlidesCache=this.getSlidesWithAllPages(e,this.outputSlidesCache),this.$nextTick((function(){t.outputSlidesCache=t.getNonHiddenSlides(t.outputSlidesCache)}))},slidesCacheUpdate:function(){this.slidesCache=this.slides,this.delta=0,this.updateOutputSlides()},updatePendingSlide:function(){this.pendingSlide&&this.replaceCachedSlide(this.pendingSlide,this.slides.current)},replaceCachedSlide:function(t,e){this.slidesCache[t]=e,this.updateOutputSlides()},contentCreator:function(t){return $["content-"+t.type]},refreshScroll:function(){var t=this;this.cancelDragging(),this.$nextTick((function(){t.isZoomed&&"ready"===t.status?(t.iScrollInit(t.dragActive),t.iscroll.refresh()):t.iscroll&&(t.slideScrollX=0,t.slideScrollY=0,t.$store.dispatch("text/setHolderScroll",{x:t.slideScrollX,y:t.slideScrollY}),t.iscroll.refresh(),t.iscroll.destroy(),delete t.iscroll)}))},iScrollInit:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];1!==this.zoomFactor&&(this.iscroll?(this.slideScrollX=this.iscroll.x,this.slideScrollY=this.iscroll.y,this.iscroll.off("beforeScrollStart",this.setDragging),this.iscroll.off("scrollCancel",this.cancelDragging),this.iscroll.off("scroll",this.onScrollBegin),this.iscroll.off("scrollEnd",this.onScrollEnd),this.iscroll.destroy(),delete this.iscroll):(this.slideScrollX=this.containerSize.width<this.spreadSizes.current.width?Math.round(this.slideScrollLeft):0,this.slideScrollY=this.containerSize.height<this.spreadSizes.current.height?Math.round(this.slideScrollTop):0),this.iscroll=new l.a(this.$refs.wrapper[0],{mouseWheel:t,scrollbars:!1,freeScroll:!this.isMobile,scrollX:this.containerSize.width<this.spreadSizes.current.width,scrollY:this.containerSize.height<this.spreadSizes.current.height,probeType:1,bindToWrapper:this.isMobile,bounce:!1,useTransition:!0,startX:this.slideScrollX,startY:this.slideScrollY,disablePointer:!0,disableTouch:!1,disableMouse:!t}),this.$store.dispatch("text/setHolderScroll",{x:this.slideScrollX,y:this.slideScrollY}),this.iscroll.on("beforeScrollStart",this.setDragging),this.iscroll.on("scrollCancel",this.cancelDragging),this.iscroll.on("scroll",this.onScrollBegin),this.iscroll.on("scrollEnd",this.onScrollEnd))},onScrollEnd:function(){this.cancelDragging(),this.slideScrollX=this.iscroll.x,this.slideScrollY=this.iscroll.y,this.$store.dispatch("text/setHolderScroll",{x:this.slideScrollX,y:this.slideScrollY})},onScrollBegin:function(){this.slideScrollX=this.iscroll.x,this.slideScrollY=this.iscroll.y,this.$store.dispatch("text/setHolderScroll",{x:this.slideScrollX,y:this.slideScrollY})},setDragging:function(){1!==this.zoomFactor&&(this.dragging=!0)},cancelDragging:function(){this.dragging=!1},onWheel:function(t){if(!(!this.wheelScroll||Date.now()-this.lastWheelTime<200||t.target&&"note-article"===t.target.className)){if(t.ctrlKey||t.metaKey){if("ready"!==this.status)return;var e=-1*t.deltaY,i=this.getSuitableZoomFactor(this.zoomFactor,e,this.minZoom,this.maxZoom);e<0&&!i&&this.zoomOut(),i&&this.setZoom(i,{x:t.clientX,y:t.clientY})}else{if(this.zoomFactor>1||this.scaleFactor>1)return;this.$store.state.notes.opened&&this.$store.dispatch("notes/setOpenedId",{id:null}),t.deltaY>0?this.$store.dispatch("pager/goForward",{target:"wheel"}):t.deltaY<0&&this.$store.dispatch("pager/goBackward",{target:"wheel"})}this.lastWheelTime=Date.now()}},updateSlideScroll:function(t){t&&!this.isZoomed||(this.containerSize.width<this.spreadSizes.current.width&&(this.slideScrollLeft=this.slideScrollX),this.containerSize.height<this.spreadSizes.current.height&&(this.slideScrollTop=this.slideScrollY))},enableArrowAttract:function(){this.$store.getters["pages/pagesCount"]>1&&(!this.isRtl&&!this.isLastPage||this.isRtl&&this.isLastPage?this.arrowAttract="right":(this.isRtl&&!this.isLastPage||!this.isRtl&&this.isLastPage)&&(this.arrowAttract="left"))},addNote:function(){var t=!this.isSingleMode&&!this.isSlideMode,e=this.slides.current[0].id;t&&this.slides.current[1]&&this.isRtl===this.isLocaleRtl&&(e=this.slides.current[1].id);var i=t&&!(this.isLocaleRtl&&this.$store.state.pager.leftPage===this.$store.state.pager.rightPage),s=this.isSingleMode&&this.slides.current[0].wide&&"right"===this.slides.current[0].side,o=this.isSlideMode&&this.slides.current[0].wide,r=i||s;this.$store.dispatch("notes/addNote",{pageId:e,wide:o,wideRight:r})},updateNoteIcon:function(){if(!this.noteIconShown)return this.noteIconClass=[],void(this.noteIconStyle=null);var t={},e=[];if(this.isLocaleRtl){e.push("left");var i=this.spreadSizes.current.left-30;t.left=Math.max(i,0)+"px",i>0&&e.push("outside")}else{e.push("right");var s=this.spreadSizes.current.left+this.spreadSizes.current.width;t.left=Math.min(s,this.containerSize.width-30)+"px",s<this.containerSize.width-30&&e.push("outside")}t.top=this.spreadSizes.current.top+"px",this.noteIconStyle=t,this.noteIconClass=e}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(164);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(5),o=i(3);i(396);e.default={name:"Logo",data:function(){return{isReady:!1,crossOrigin:Object(s.default)().getCrossOrigin(),originalWidth:0,originalHeight:0,globalPadding:10,minimalSize:60,maxWidthLimit:200,bottomMenu:null}},mounted:function(){this.logoLoad(),this.setSvgTransform(),this.bottomMenu=this.miniState?null:document.getElementsByClassName("bottom-toolbar")[0]},computed:{target:function(){return this.$store.state.logo.target},logoLinkUrl:function(){return this.$store.state.logo.url||null},position:function(){return this.$store.state.logo.position},level:function(){return-1===this.position.indexOf("bottom")?"top":"bottom"},side:function(){return-1===this.position.indexOf("left")?"right":"left"},miniState:function(){return this.$store.state.workspace.mini},customLogoUrl:function(){return this.$store.getters["logo/customLogoUrl"]},hasDefaultLogo:function(){return this.$store.getters["logo/hasDefaultLogo"]},svgLogoColor:function(){return this.allowOpaqueBar&&"menuRect"===this.optimalRect.name?this.$store.state.skin.styles["main-icon-color"]:this.$store.state.skin.styles[(this.top?"top":"bottom")+"-"+(this.left?"left":"right")+"-icon-color"]},allowOpaqueBar:function(){return this.$store.state.logo.allowOpaqueBar},showLogo:function(){return this.$store.getters["logo/showLogo"]},containerSize:function(){return this.$store.getters["workspace/containerSize"]},holderSize:function(){return this.$store.getters["workspace/holderSize"]},workspaceSize:function(){return this.$store.getters["workspace/size"]},bottomMenuEnabled:function(){return this.$store.state.workspace.components.bottomBar},maxWidth:function(){return Math.max(this.maxWidthLimit,this.containerSize.width/(this.bookMode?4:6))},bookMode:function(){return"flip-book"===this.$store.state.workspace.bookComponent},sideRect:function(){var t={};return t.width=(this.containerSize.width-this.holderSize.width)/2-2*this.globalPadding,t.height=this.containerSize.height/2-2*this.globalPadding,t[this.side]=this.globalPadding,t[this.level]=this.globalPadding,t.name="sideRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},levelRect:function(){var t={};return t.width=this.containerSize.width/2-2*this.globalPadding,t.height=(this.containerSize.height-this.holderSize.height)/2-2*this.globalPadding,t[this.side]=this.globalPadding,t[this.level]=this.globalPadding,t.name="levelRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},menuLevelRect:function(){if("top"===this.level||this.opaqueBottom||!this.bottomMenu)return{scale:0};var t={},e=this.bottomMenu.getBoundingClientRect();return t.width=(this.containerSize.width-e.width)/2-2*this.globalPadding,t.height=(this.workspaceSize.height-this.holderSize.height)/2-2*this.globalPadding,t[this.side]=this.globalPadding,t[this.level]=this.globalPadding-e.height,t.lockWidth=!0,t.name="menuLevelRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},menuSideRect:function(){if("top"===this.level||this.opaqueBottom||!this.bottomMenu)return{scale:0};var t={},e=this.bottomMenu.getBoundingClientRect();return t.width=(this.containerSize.width-Math.max(this.holderSize.width,e.width))/2-2*this.globalPadding,t.height=this.workspaceSize.height/2-2*this.globalPadding,t[this.side]=this.globalPadding,t[this.level]=this.globalPadding-e.height,t.lockWidth=!0,t.name="menuSideRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},menuRect:function(){if("top"===this.level||this.opaqueBottom&&!this.allowOpaqueBar||!this.bottomMenu)return{scale:0};var t={},e=this.bottomMenu.getBoundingClientRect();return t.width=(this.containerSize.width-e.width)/2-10,t.height=e.height-10,t[this.side]=10,t[this.level]=8-e.height,t.lockWidth=!0,t.lockHeight=!0,t.name="menuRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},slideRect:function(){if(this.bookMode)return{scale:0};var t={};return t.width=this.containerSize.width/2,t.height=this.containerSize.height/2,t[this.side]=this.globalPadding,t[this.level]=this.globalPadding,t.sizeOverride=!0,t.name="slideRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},slideLevelRect:function(){if(this.bookMode||"top"===this.level||this.opaqueBottom||!this.bottomMenu)return{scale:0};var t={},e=this.bottomMenu.getBoundingClientRect();return t.width=(this.containerSize.width-e.width)/2-2*this.globalPadding,t.height=this.containerSize.height/2,t[this.side]=this.globalPadding,t[this.level]=this.globalPadding-e.height,t.sizeOverride=!0,t.lockWidth=!0,t.name="slideLevelRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},optimalRect:function(){var t=[this.menuRect];return this.bookMode?t.push(this.menuLevelRect,this.menuSideRect,this.levelRect,this.sideRect):t.push(this.slideLevelRect,this.slideRect),t.reduce((function(t,e){return e.scale>t.scale?e:t}))},containerClasses:function(){return{overlap:!!this.optimalRect.sizeOverride}},containerStyles:function(){if(!this.optimalRect.scale)return{display:"none"};var t={opacity:this.isReady?1:0,width:this.originalWidth*this.optimalRect.scale+"px",height:this.originalHeight*this.optimalRect.scale+"px"};return t.top=Object(o.isUndefined)(this.optimalRect.top)?null:this.optimalRect.top+"px",t.bottom=Object(o.isUndefined)(this.optimalRect.bottom)?null:this.optimalRect.bottom+"px",t.left=Object(o.isUndefined)(this.optimalRect.left)?null:this.optimalRect.left+"px",t.right=Object(o.isUndefined)(this.optimalRect.right)?null:this.optimalRect.right+"px","0px"!==t.width&&"0px"!==t.height||(t.display="none"),t},imageStyles:function(){return{width:this.originalWidth*this.optimalRect.scale+"px",height:this.originalHeight*this.optimalRect.scale+"px"}},opaqueBottom:function(){return this.$store.state.skin&&this.$store.state.skin.styles&&Object(o.isString)(this.$store.state.skin.styles.classes)?-1!==this.$store.state.skin.styles.classes.indexOf("opaqueBottom"):null}},watch:{miniState:function(t){this.bottomMenu=t?null:document.getElementsByClassName("bottom-toolbar")[0]},bottomMenuEnabled:function(){this.bottomMenu=this.miniState?null:document.getElementsByClassName("bottom-toolbar")[0]},customLogoUrl:"logoLoad",hasDefaultLogo:"logoLoad",side:"setSvgTransform"},methods:{logoLoad:function(){var t=this;if(this.isReady=!1,!this.hasDefaultLogo&&this.customLogoUrl){var e=document.createElement("img");this.crossOrigin&&(e.crossOrigin=this.crossOrigin),e.onload=function(){t.originalWidth=e.naturalWidth,t.originalHeight=e.naturalHeight,t.isReady=!0},e.onerror=function(){},e.src=this.customLogoUrl,e.style.width="100%"}else this.hasDefaultLogo&&(this.originalWidth=119,this.originalHeight=30,this.isReady=!0)},calculateScale:function(t){if(0===this.originalWidth||0===this.originalHeight)return 0;if(t.width<0||t.height<0)return 0;var e=1,i=1;return this.originalHeight>t.height&&(e=t.height/this.originalHeight),this.originalWidth>t.width&&(i=t.width/this.originalWidth),Math.min(i,e,1)},applySizeConstraints:function(t){this.hasDefaultLogo?(t.width=t.lockWidth?t.width:this.originalWidth,t.height=t.lockHeight?t.height:this.originalHeight):(!t.lockWidth&&t.width<this.originalWidth&&t.width<this.minimalSize&&(t.width=Math.max(this.minimalSize,t.width),t.sizeOverride=!0),!t.lockHeight&&t.height<this.originalHeight&&t.height<this.minimalSize&&(t.height=Math.max(this.minimalSize,t.height),t.sizeOverride=!0),t.width=Math.min(this.maxWidth,t.width))},onClick:function(){var t=this.$store.state.singleMode?this.$store.state.rightPage:this.$store.state.pager.leftPage||this.$store.state.pager.rightPage;this.$root.$emit("link",{type:"external",source:"logo",url:this.logoLinkUrl,target:this.target,pageId:t})},setSvgTransform:function(){var t;if(this.hasDefaultLogo){var e=null===(t=this.$refs.svgLogo)||void 0===t?void 0:t.$el.querySelector(".made-with");e&&("right"===this.side?e.setAttribute("transform","translate(62, 0)"):e.removeAttribute("transform"))}}},components:{}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(167);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(25);i(398),i(399),i(57),i(58);e.default={props:{show:Boolean},data:function(){return{timeout:0}},computed:{isRTLBook:function(){return this.$store.state.book.rightToLeft},isFirstPage:function(){var t=null===this.$store.getters["pager/prevNonStubPageId"],e=null===this.$store.getters["pager/nextPageId"];return this.isRTLBook?e:t},isLastPage:function(){var t=null===this.$store.getters["pager/nextPageId"],e=null===this.$store.getters["pager/prevNonStubPageId"];return this.isRTLBook?e:t},isEmbed:function(){return this.$store.state.workspace.isEmbed},leftArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.NEXT_PAGE_TIP"):this.$t("NavigationPanel.PREV_PAGE_TIP")},rightArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.PREV_PAGE_TIP"):this.$t("NavigationPanel.NEXT_PAGE_TIP")}},methods:{leftButtonKeyHandler:function(t){t.keyCode!==s.default.SPACE&&t.keyCode!==s.default.RETURN||this.goLeft(t)},rightButtonKeyHandler:function(t){t.keyCode!==s.default.SPACE&&t.keyCode!==s.default.RETURN||this.goRight(t)},goRight:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.timeout>Date.now()||(this.$store.dispatch(this.isRTLBook?"pager/goBackward":"pager/goForward",{target:e?"nav-swipe":"nav-tap"}),this.timeout=Date.now()+150)},goLeft:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.timeout>Date.now()||(this.$store.dispatch(this.isRTLBook?"pager/goForward":"pager/goBackward",{target:e?"nav-swipe":"nav-tap"}),this.timeout=Date.now()+150)}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(170);e.default=s.default},function(t,e,i){"use strict";i.r(e);i(398),i(399),i(57),i(58);e.default={props:{show:Boolean},data:function(){return{timeout:0,classes:{"nav-arrows":!0,start:!0}}},mounted:function(){var t=this;setTimeout((function(){t.classes.start=!1}),8e3)},computed:{isRTLBook:function(){return this.$store.state.book.rightToLeft},isFirstPage:function(){var t=null===this.$store.getters["pager/prevNonStubPageId"],e=null===this.$store.getters["pager/nextPageId"];return this.isRTLBook?e:t},isLastPage:function(){var t=null===this.$store.getters["pager/nextPageId"],e=null===this.$store.getters["pager/prevNonStubPageId"];return this.isRTLBook?e:t},isEmbed:function(){return this.$store.state.workspace.isEmbed},leftArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.NEXT_PAGE_TIP"):this.$t("NavigationPanel.PREV_PAGE_TIP")},rightArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.PREV_PAGE_TIP"):this.$t("NavigationPanel.NEXT_PAGE_TIP")},leftMostArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.LAST_PAGE_TIP"):this.$t("NavigationPanel.FIRST_PAGE_TIP")},rightMostArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.FIRST_PAGE_TIP"):this.$t("NavigationPanel.LAST_PAGE_TIP")},animationInProgress:function(){return this.$store.state.workspace.animationInProgress}},watch:{animationInProgress:function(){this.classes.start=!1}},methods:{goRight:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.timeout>Date.now()||(this.$store.dispatch(this.isRTLBook?"pager/goBackward":"pager/goForward",{target:e?"nav-swipe":"nav-tap"}),this.timeout=Date.now()+150)},goLeft:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.timeout>Date.now()||(this.$store.dispatch(this.isRTLBook?"pager/goForward":"pager/goBackward",{target:e?"nav-swipe":"nav-tap"}),this.timeout=Date.now()+150)},rightToTheLast:function(){this.timeout>Date.now()||(this.isRTLBook?this.$store.dispatch("pager/goToFirst",{target:"nav-first"}):this.$store.dispatch("pager/goToLast",{target:"nav-last"}),this.timeout=Date.now()+150)},leftToTheLast:function(){this.timeout>Date.now()||(this.isRTLBook?this.$store.dispatch("pager/goToLast",{target:"nav-last"}):this.$store.dispatch("pager/goToFirst",{target:"nav-first"}),this.timeout=Date.now()+150)}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(173);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(3);i(698),i(699);e.default={name:"ZoomPanel",data:function(){return{scalePosition:0,savedScalePosition:null,lineRect:{width:0,left:0},forceOpacity:!1,forceVisibility:!1,opacityTimer:null,isGrabbing:!1}},mounted:function(){this.lineRect=this.$refs.zoomLine.getBoundingClientRect(),window.addEventListener("keydown",this.keyDownHandler),this.$root.$on("unzoomed",this.hide)},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDownHandler),this.$root.$off("unzoomed",this.hide)},watch:{zoomFactor:function(t){t>this.minZoom?this.scalePosition=1*((t-this.minZoom)/(this.maxZoom-this.minZoom)).toFixed(2):this.scalePosition=0},minZoom:function(t){this.zoomFactor>t?this.scalePosition=1*((this.zoomFactor-t)/(this.maxZoom-t)).toFixed(2):this.scalePosition=0},scalePosition:function(){var t=this;this.forceOpacity=!0,clearTimeout(this.opacityTimer),this.opacityTimer=setTimeout((function(){t.forceOpacity=!1}),2e3)},pagerState:function(){this.forceVisibility=!1},visible:function(t){this.$store.dispatch("workspace/setZoomPanel",t)},zoomPanel:function(t){t||(this.forceVisibility=!1)}},computed:{zoomFactor:function(){return this.$store.state.pages.size.zoomFactor},isRtl:function(){return this.$store.getters["i18n/isLocaleRtl"]},dir:function(){return this.isRtl?"rtl":"ltr"},pagerState:function(){return[this.$store.state.pager.leftPage,this.$store.state.pager.rightPage]},visible:function(){return this.zoomFactor>this.minZoom||this.forceVisibility},zoomPanel:function(){return this.$store.state.workspace.zoomPanel},minZoom:function(){if("slide-book"===this.$store.state.workspace.bookComponent)return 1;var t=this.isHardcover&&(this.isFirstPage||this.isLastPage)?1.03:1;return Math.min(this.$store.state.workspace.containerSize.height/(this.$store.state.pages.size.height*t/this.$store.state.pages.size.zoomFactor),this.$store.state.workspace.containerSize.width/(this.$store.state.pages.size.width*t*2/this.$store.state.pages.size.zoomFactor))},isFirstPage:function(){return this.$store.getters["pager/isFirstPage"]},isLastPage:function(){return this.$store.getters["pager/isLastPage"]},maxZoom:function(){return this.$store.state.workspace.maxZoom},sliderStyle:function(){var t={},e=6;return this.isRtl?t.right=Math.round((this.lineRect.width-e)*this.scalePosition)+"px":t.left=Math.round((this.lineRect.width-e)*this.scalePosition)+"px",t},panelClass:function(){return{grabbing:this.isGrabbing}},panelStyle:function(){return{opacity:this.forceOpacity?.9:null,visibility:this.visible?"visible":"hidden"}}},methods:{zoomOut:function(){if(!this.$store.state.workspace.animationInProgress&&(!1!==this.forceVisibility||0!==this.scalePosition)){if(this.scalePosition>.1)this.scalePosition-=.1;else{if(!0===this.forceVisibility&&0===this.scalePosition)return this.forceVisibility=!1,void this.$root.$emit("zoomPanel",{action:"zoomOut"});this.forceVisibility=!0,this.scalePosition=0}this.$root.$emit("zoomPanel",{action:"setZoom",zoomFactor:1*(this.scalePosition*(this.maxZoom-this.minZoom)+this.minZoom).toFixed(2),fast:!0})}},zoomOutFull:function(){this.$store.state.workspace.animationInProgress||(this.forceVisibility=!1,this.$root.$emit("zoomPanel",{action:"zoomOut"}))},zoomIn:function(){this.$store.state.workspace.animationInProgress||(0!==this.scalePosition||this.visible?(this.scalePosition<0&&(this.scalePosition=0),this.scalePosition<.9?this.scalePosition+=.1:this.scalePosition=1,this.$root.$emit("zoomPanel",{action:"setZoom",zoomFactor:1*(this.scalePosition*(this.maxZoom-this.minZoom)+this.minZoom).toFixed(2),fast:!0})):this.$root.$emit("zoomPanel",{action:"zoomIn"}))},lineClick:function(t){var e=this;this.$store.state.workspace.animationInProgress||(this.lineRect=this.$refs.zoomLine.getBoundingClientRect(),this.isRtl?this.scalePosition=(this.lineRect.width-t.clientX+this.lineRect.left)/this.lineRect.width:this.scalePosition=(t.clientX-this.lineRect.left)/this.lineRect.width,this.scalePosition<=0&&(this.scalePosition=0),0===this.scalePosition&&(this.forceVisibility=!0),this.$nextTick((function(){e.$root.$emit("zoomPanel",{action:"setZoom",zoomFactor:1*(e.scalePosition*(e.maxZoom-e.minZoom)+e.minZoom).toFixed(2),fast:!1})})))},onPanStart:function(){this.savedScalePosition=this.scalePosition,this.isGrabbing=!0,this.$root.$emit("zoomPanel",{action:"startScale"})},onPanMove:function(t){var e=1*(this.isRtl?-t.deltaX/this.lineRect.width:t.deltaX/this.lineRect.width).toFixed(2);this.scalePosition=this.savedScalePosition+e,this.scalePosition>1&&(this.scalePosition=1),this.scalePosition<=0&&(this.scalePosition=0);var i=this.scalePosition/this.savedScalePosition;this.$root.$emit("zoomPanel",{action:"changeScale",scalePosition:this.scalePosition,scaleRatio:i})},onPanEnd:function(t){this.isGrabbing=!1;var e=1*(this.isRtl?-t.deltaX/this.lineRect.width:t.deltaX/this.lineRect.width).toFixed(2);this.scalePosition+=e,this.scalePosition>1&&(this.scalePosition=1),this.scalePosition<=0&&(this.scalePosition=0),0===this.scalePosition?this.forceVisibility=!0:this.forceVisibility=!1,this.$root.$emit("zoomPanel",{action:"endScale",zoomFactor:this.scalePosition*(this.maxZoom-this.minZoom)+this.minZoom})},keyDownHandler:function(t){if(Object(s.isNull)(t.target)||Object(s.isUndefined)(t.target)||"input"!==t.target.tagName.toLowerCase()&&"textarea"!==t.target.tagName.toLowerCase()&&"select"!==t.target.tagName.toLowerCase()&&"option"!==t.target.tagName.toLowerCase()){var e="+",i="-",o="=",r="_",n="0",a="Add",h="Subtract",l=107,c=109,d=187,u=189,p=48;switch(t.key){case o:case e:case a:(t.metaKey||t.ctrlKey)&&(t.preventDefault(),this.zoomIn());break;case r:case i:case h:(t.metaKey||t.ctrlKey)&&(t.preventDefault(),this.zoomOut());break;case n:(t.metaKey||t.ctrlKey)&&(t.preventDefault(),this.zoomOutFull());break;case"Unidentified":switch(t.keyCode){case d:case l:(t.metaKey||t.ctrlKey)&&(this.zoomIn(),t.preventDefault());break;case u:case c:(t.metaKey||t.ctrlKey)&&(this.zoomOut(),t.preventDefault());break;case p:(t.metaKey||t.ctrlKey)&&(t.preventDefault(),this.zoomOutFull())}}}},hide:function(){this.forceVisibility=!1,this.$store.dispatch("workspace/setZoomPanel",!1)}}}},function(t,e,i){},function(t,e,i){},,,,,,,,,,,,,,,,,,,,,,function(t,e,i){i(0).register({close:{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M14.251 12.003l3.747-3.746-2.248-2.248-3.747 3.746-3.746-3.746-2.248 2.248 3.746 3.746-3.746 3.747 2.248 2.248 3.746-3.747 3.747 3.747 2.248-2.248z"/>'}})},,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(208);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(24),o=i.n(s),r=i(5),n=i(15);e.default={name:"Thumb",props:{id:{type:[String,Number],required:!0},side:{type:String,required:!1,default:"both",validator:function(t){return-1!==["left","right","both"].indexOf(t)}},size:{type:Object,required:!1,default:null},contentCrop:{type:Boolean,default:!1}},data:function(){return{isReady:!0,pageId:this.id,pageSide:this.side,crossOrigin:Object(r.default)().getCrossOrigin(),isWide:!1,isStub:!1,hasError:!1,backgroundColor:"#ffffff",thumbnailUrl:null,pageResize:null,contentWidth:0,contentHeight:0}},components:{spinner:o.a},beforeMount:function(){this.getProperties()},watch:{id:function(t){this.pageId=t},side:function(t){this.pageSide=t},changeProperty:function(t){t.pageID===this.pageId&&this.getProperties()},pageId:function(){this.getProperties()}},methods:{getProperties:function(){this.isWide=this.$store.getters["pages/pageProp"](this.pageId,"wide"),this.isStub=this.$store.getters["pages/pageProp"](this.pageId,"stub"),this.hasError=-1===this.$store.getters["pages/pageProp"](this.pageId,"thumbnailUrl"),this.backgroundColor=this.$store.getters["pages/pageProp"](this.pageId,"backgroundColor"),this.thumbnailUrl=this.$store.getters["pages/pageProp"](this.pageId,"thumbnailUrl"),this.pageResize=this.$store.getters["pages/pageProp"](this.pageId,"pageResize"),this.contentWidth=this.$store.getters["pages/pageProp"](this.pageId,"width")/this.contentWidthMultiplier,this.contentHeight=this.$store.getters["pages/pageProp"](this.pageId,"height")}},computed:{imageAlt:function(){return this.$i18n.t("AlertMessage.LINK_PAGE_TIP")+" "+this.pageCaption+" ("+this.$i18n.t("ThumbnailsToolWindow.TITLE")+")"},pageCaption:function(){return this.$store.getters["pages/pageCaptionById"](this.id)},className:function(){return{thumb:!0,double:this.bookMode&&this.isWide&&"both"===this.pageSide,loading:this.isLoading,unready:!this.isReady,error:this.hasError}},preloaderVisible:function(){return!this.isStub&&(this.isLoading||!this.isReady||this.hasError)},rightPreloaderVisible:function(){return this.preloaderVisible&&this.bookMode&&this.isWide&&"both"===this.pageSide},preloaderSize:function(){return 24},preloaderLineSize:function(){return 2},background:function(){return this.pageId&&this.isReady&&!this.hasError?this.isStub?Object(r.default)().translatePath("assets/pages/pagestub.png"):this.thumbnailUrl?this.thumbnailUrl:null:null},isLoading:function(){return!this.thumbnailUrl||(0===this.$store.state.pages.size.width||null===this.$store.state.pages.size.width)},pageWidthMultiplier:function(){return this.isWide&&"both"===this.pageSide?2:1},contentWidthMultiplier:function(){return this.isWide&&"both"!==this.pageSide?"2":"1"},pagesSize:function(){return this.$store.getters["pages/size"]},pageSize:function(){return this.size&&this.size.width&&this.size.height?{width:this.size.width,height:this.size.height}:{width:this.pagesSize.width*this.pageWidthMultiplier,height:1*this.pagesSize.height}},bookMode:function(){return!this.$store.state.pager.singleMode&&!this.$store.state.pager.slideMode},pageStyle:function(){return{width:(this.contentCrop?this.contentSize.width:this.pageSize.width)+"px",height:(this.contentCrop?this.contentSize.height:this.pageSize.height)+"px","background-color":this.backgroundColor}},contentSize:function(){if(this.pageId){var t,e=this.pageResize,i=this.contentWidth,s=this.contentHeight;return t="FIT"===e?Object(n.fit)({width:i,height:s},this.pageSize):Object(n.fill)({width:i,height:s},this.pageSize),{width:Math.ceil(t.width),height:Math.ceil(t.height),scaleRatio:{w:t.width/i,h:t.height/s}}}return{width:0,height:0,scaleRatio:{w:0,h:0}}},contentStyle:function(){var t=this.contentCrop?0:(this.pageSize.width-this.contentSize.width)/(this.isWide&&"both"!==this.pageSide?1:2),e=this.contentCrop?0:(this.pageSize.height-this.contentSize.height)/2,i={width:this.contentSize.width*this.contentWidthMultiplier+"px",height:this.contentSize.height+"px"};return"right"===this.pageSide?(i.right="0",t&&(i.marginRight=t+"px")):(i.left="0",t&&(i.marginLeft=t+"px")),e&&(i.marginTop=e+"px"),i},changeProperty:function(){return this.$store.state.pages.changeInPage}}}},function(t,e,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){i(0).register({thumbnails:{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M9 3c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1H4c-.6 0-1-.4-1-1V4c0-.6.4-1 1-1h5zm11 0c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1h-5c-.6 0-1-.4-1-1V4c0-.6.4-1 1-1h5zM9 14c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1H4c-.6 0-1-.4-1-1v-5c0-.6.4-1 1-1h5zm11 0c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1h-5c-.6 0-1-.4-1-1v-5c0-.6.4-1 1-1h5z"/>'}})},,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(612),o=i(102),r=(i(701),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,"1e94cca4",null);n.options.__file="src/components/common/book-container/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"book-container",class:t.containerClass},[t.hasPages?i(t.bookComponent,{ref:"bookComponent",tag:"component",attrs:{"container-size":t.containerSize,"page-size":t.bookSize,"substrate-styles":t.setSubstrateStyleHeightTop,dir:"ltr"}}):t._e(),t._v(" "),t.showPrevSubstrate?i("div",{staticClass:"book-substrate-prev",style:t.substrateStyle,attrs:{"aria-hidden":"true"},on:{click:t.prevPage,mouseover:function(e){return t.arrowHover("prev",!0)},mouseout:function(e){return t.arrowHover("prev",!1)}}}):t._e(),t._v(" "),t.showNextSubstrate?i("div",{staticClass:"book-substrate-next",style:t.substrateStyle,attrs:{"aria-hidden":"true"},on:{click:t.nextPage,mouseover:function(e){return t.arrowHover("next",!0)},mouseout:function(e){return t.arrowHover("next",!1)}}}):t._e(),t._v(" "),i("transition",{attrs:{name:"bars-fade"}},[t.showSimpleArrows?i("nav-buttons",{attrs:{show:!0}}):t._e(),t._v(" "),t.showSmartArrows?i("slide-nav-buttons",{attrs:{show:!0}}):t._e()],1),t._v(" "),"html"===t.version?i("logo"):t._e(),t._v(" "),i("transition",{attrs:{name:"slide-fade"}},["html"===t.version?i("zoom-panel"):t._e()],1),t._v(" "),i("transition",{attrs:{name:t.ctrFade},on:{"after-enter":t.afterFade}},[t.miniState&&!t.miniFullScreen?i("div",{key:"maxi",class:t.clickToReadClass,on:{click:t.wsToggleFullscreen}},[t._v("\n            "+t._s(t.clickToReadText)+"\n        ")]):t._e(),t._v(" "),t.miniState&&t.miniFullScreen?i("div",{key:"mini",class:t.miniClickToReadClass,attrs:{title:t.$t("BottomMenu.FULLSCREEN_BUTTON_TIP")},on:{click:t.wsToggleFullscreen}},[i("div",{staticClass:"fullscreen-button-mini-holder"},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"fullscreen"}})],1)]):t._e()])],1)},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flip-book",class:t.flipBookClass},[i("v-touch",t._g({ref:"bookHolder",staticClass:"book-holder",style:[t.bookHolderStyle],attrs:{tag:"div",id:"book-holder","data-frozen-by":t.frozenBy},nativeOn:{transitionend:function(e){return t.transitionEnd(e)}}},t.eventHandlers),[t.selectTextEnabled?i("select-text-panel"):t._e(),t._v(" "),i("transition",{attrs:{name:"bars-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLeftButtons,expression:"showLeftButtons"}],staticClass:"previous-button",on:{mouseover:function(e){return t.arrowHover("prev",!0)},mouseout:function(e){return t.arrowHover("prev",!1)}}},[t.notesEnabled&&!t.showRightAddNote?i("button",{staticClass:"icon-add-note left-add-note stripe-btn",attrs:{tabindex:"0","aria-label":t.addNoteTitleText,title:t.addNoteTitleText,"data-nav-name":"notes-left"},on:{click:function(e){return e.stopPropagation(),t.btnAddNote("left")},mousedown:function(t){t.preventDefault()},mouseover:function(e){return e.stopPropagation(),t.arrowHover("prev",!1)}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"add-note"}})],1):t._e(),t._v(" "),i("button",{staticClass:"icon-book-prev stripe-btn",attrs:{tabindex:"0","aria-label":t.leftArrowTitle,title:t.leftArrowTitle,"data-nav-name":"go-left"},on:{click:function(e){return e.stopPropagation(),t.prevPage(e)},mousedown:function(t){t.preventDefault()}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"book-prev"}})],1),t._v(" "),i("button",{staticClass:"icon-book-first stripe-btn",attrs:{tabindex:"0","aria-label":t.leftMostArrowTitle,title:t.leftMostArrowTitle,"data-nav-name":"go-last-left"},on:{click:function(e){return e.stopPropagation(),t.firstPage(e)},mouseover:function(e){return e.stopPropagation(),t.arrowHover("prev",!1)},mousedown:function(t){t.preventDefault()}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"book-first"}})],1)])]),t._v(" "),i("transition",{attrs:{name:"bars-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showRightButtons,expression:"showRightButtons"}],staticClass:"next-button",on:{mouseover:function(e){return t.arrowHover("next",!0)},mouseout:function(e){return t.arrowHover("next",!1)}}},[t.notesEnabled&&t.showRightAddNote?i("button",{staticClass:"icon-add-note right-add-note stripe-btn",attrs:{tabindex:"0","aria-label":t.addNoteTitleText,title:t.addNoteTitleText,"data-nav-name":"notes-right"},on:{click:function(e){return e.stopPropagation(),t.btnAddNote("right")},mouseover:function(e){return e.stopPropagation(),t.arrowHover("next",!1)},mousedown:function(t){t.preventDefault()}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"add-note"}})],1):t._e(),t._v(" "),i("button",{staticClass:"icon-book-next stripe-btn",attrs:{tabindex:"0","aria-label":t.rightArrowTitle,title:t.rightArrowTitle,"data-nav-name":"go-right"},on:{click:function(e){return e.stopPropagation(),t.nextPage(e)},mousedown:function(t){t.preventDefault()}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"book-next"}})],1),t._v(" "),i("button",{staticClass:"icon-book-last stripe-btn",attrs:{tabindex:"0","aria-label":t.rightMostArrowTitle,title:t.rightMostArrowTitle,"data-nav-name":"go-last-right"},on:{click:function(e){return e.stopPropagation(),t.lastPage(e)},mouseover:function(e){return e.stopPropagation(),t.arrowHover("next",!1)},mousedown:function(t){t.preventDefault()}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"book-last"}})],1)])])],1)],1)},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className,style:t.pageStyle,attrs:{"data-page-id":t.pageId,"aria-hidden":!t.isCurrent},on:{mousedown:function(e){return e.preventDefault(),t.onMouseDown(e)}}},[i("transition",{attrs:{name:"page-fade"}},[t.showPreloaderContainer?i("div",{staticClass:"page-preloader",style:{backgroundColor:t.backgroundColor}},[t.isCurrent?i("div",{staticClass:"preloader-container"},[t.showSpinner?i("spinner",{staticClass:"preloader-spinner",attrs:{size:36,"line-size":3,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}}):t._e(),t._v(" "),i("div",{staticClass:"preloader-bg"}),t._v(" "),i("div",{staticClass:"preloader-header",attrs:{dir:t.dir}},[t._v(t._s(t.preloaderHeader))]),t._v(" "),i("div",{staticClass:"preloader-text",attrs:{dir:t.dir}},[t._v(t._s(t.preloaderText))])],1):t._e(),t._v(" "),t.showThumbnail?i("div",{staticClass:"preloader-th",style:t.thumbnailStyle},[i("img",{attrs:{crossOrigin:t.crossOrigin,src:t.thumbnailUrl}})]):t._e()]):t._e()]),t._v(" "),i("div",{staticClass:"background",style:t.contentStyle,attrs:{"data-id":t.pageId}},[i("img",{ref:"bgImage",staticClass:"bg-layer",attrs:{crossOrigin:t.crossOrigin,src:"","aria-hidden":"true"}}),t._v(" "),t._l(t.backgroundsCache,(function(e,s){return t.canvasUpdated?t._e():i("img",{key:s,attrs:{"data-img":"backgroundsCache",crossOrigin:t.crossOrigin,src:e,"aria-hidden":"true"},on:{load:function(i){return t.bgCacheImageLoaded(e)}}})})),t._v(" "),t.vectorLayerCache?i("img",{ref:"bgSVG",class:"svg-layer"+(t.isCurrent?"":" svg-layer-not-current"),attrs:{crossOrigin:t.crossOrigin,src:t.vectorLayerCache}}):t._e()],2),t._v(" "),t.showHighlights?i("div",{staticClass:"highlights",style:t.contentStyle},[t._l(t.highlights,(function(t){return[i("div",{style:t.style})]}))],2):t._e(),t._v(" "),i("v-touch",{staticClass:"touch-layer",style:t.contentTouchLayerStyle,attrs:{options:{domEvents:!0}},on:{tap:t.onContentTap}},[!t.isMobile&&t.selectTextEnabled?i("select-text",{directives:[{name:"show",rawName:"v-show",value:t.isCurrent&&!t.contentFreezed&&"animating"!==t.bookStatus&&"calculating"!==t.bookStatus,expression:"isCurrent && !contentFreezed &&\n                    bookStatus !== 'animating' && bookStatus !== 'calculating'"}],attrs:{contStyle:t.contentStyle,"page-side":t.pageSide,"is-wide":t.isWide,"page-id":t.pageId,containerSize:t.contentSize,isCurrent:t.isCurrent,isLoaded:!t.isLoadingCache}}):t._e(),t._v(" "),!t.isLoadingCache&&t.isCurrent&&t.selectTextEnabled&&t.mobileShowEffectPass?i("select-text-mobile",{attrs:{contStyle:t.contentStyle,"page-side":t.pageSide,"is-wide":t.isWide,"page-id":t.pageId,containerSize:t.contentSize,isCurrent:t.isCurrent}}):t._e(),t._v(" "),t.androidIframe||t.showInvisibleContent?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.androidIframe||t.showInvisibleContent,expression:"!androidIframe || showInvisibleContent"}],staticClass:"content inv",style:t.contentStyle},[t._l(t.sortedContent.inv,(function(e){return[i(e.component,{directives:[{name:"show",rawName:"v-show",value:!t.isLoadingCache,expression:"!isLoadingCache"}],key:e.itemId,tag:"component",attrs:{data:e,isCurrent:t.isCurrent},on:{ready:t.contentItemReady,error:t.contentError}})]}))],2):t._e(),t._v(" "),i("div",{staticClass:"content vis",style:t.contentStyle},[t._l(t.sortedContent.visible,(function(e){return[i(e.component,{directives:[{name:"show",rawName:"v-show",value:!t.isLoadingCache,expression:"!isLoadingCache"}],key:e.itemId,tag:"component",attrs:{data:e,isCurrent:t.isCurrent},on:{ready:t.contentItemReady,error:t.contentError}})]}))],2)],1),t._v(" "),t._l(t.notesArray,(function(e,s){return i("note",{key:s,attrs:{data:e,size:t.pageSize,side:t.pageSide,isWide:t.isWide,isOutsideHardcover:t.isOutsideHardcover}})})),t._v(" "),t.flipCornerEnabled?i("flip-me",{attrs:{pageId:t.pageId,isLeft:"left"===t.pageSide}}):t._e()],2)},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",{class:"selecttext"+(t.showCanvas?" active":""),style:t.contStyle,on:{pan:t.pan,panstart:t.reset,panend:t.panEnd,pancancel:t.panEnd,press:t.test}},[t.showCanvas?i("canvas",{class:t.canvasClass,style:{position:"absolute",right:"right"===t.pageSide&&t.isWide?0:"none"},attrs:{width:t.containerSize.width,height:t.containerSize.height}}):t._e(),t._v(" "),t._l(t.textBlockSizes,(function(e,s){return i("div",{staticClass:"text-block",style:{width:e.width+"px",top:e.top+"px",left:e.left+"px",height:e.height+"px"},attrs:{"data-set":"select-text-block"}},[t.highLightBlocks?i("span",{style:{opacity:.8,textAlign:"right",backgroundColor:"aqua",position:"absolute",top:"0",bottom:"0",left:"0",right:"0"}},[t._v(t._s(s))]):t._e(),t._v(" "),t._l(t.finalTree[s].lines,(function(s,o){return t.highLightBlocks?i("span",{style:{opacity:.5,backgroundColor:"red",position:"absolute",top:s.top*t.containerSize.scaleRatio.h-e.top+"px",left:s.left*t.containerSize.scaleRatio.w-e.left+"px",width:s.width*t.containerSize.scaleRatio.w+"px",height:s.height*t.containerSize.scaleRatio.h+"px"}},[t._v(t._s(o))]):t._e()}))],2)}))],2)},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(618),o=i(619),r=i(8);e.default={props:["containerSize","pageId","isWide","pageSide","isLoaded","isCurrent","contStyle"],data:function(){return{finalTree:[],pageRect:null,selectedSymbols:[],showEffect:!1,isCrossWide:!1}},created:function(){this.updateSelectedTextDebounced=Object(r.debounce)((function(){var t=new o.UnicodeBiDi,e=this.$store.state.book.rightToLeft,i=t.getSelectedText(this.selectedSymbols,e);this.$store.dispatch("text/setSelectedText",i)}),100),this.isCurrent&&this.getAndParseXML()},methods:{initContext:function(){var t=this.$el.getElementsByTagName("canvas")[0];t&&(this.context=t.getContext("2d"))},resetContext:function(){this.context&&(this.context=null)},getAndParseXML:function(){if(this.$store.getters["search/isSelectTextInfoLoaded"](this.pageId)){var t="slide-book"===this.$store.state.workspace.bookComponent&&this.$store.state.pager.slideMode,e=this.$store.getters["search/getSelectTextInfo"](this.pageId,"right"===this.pageSide,t);this.finalTree=Object.freeze(e.finalTree),this.isCrossWide=e.isCrossWide,this.isRtlSelection=e.isRtlSelection,0!==this.userRect.width&&this.parseRect(this.$store.state.text.selectionRect)}},parseRect:function(t){if(this.isWide&&!this.isCrossWide){var e=this.$store.getters["pages/pageProp"](this.pageId,"width")/2;if("left"===this.pageSide&&t.left>=e||"right"===this.pageSide&&t.left<e)return void(this.selectedSymbols=[])}var i=new s.SelectorText(this.finalTree,this.isRtlSelection);this.selectedSymbols=i.selectSymbols(t),this.updateSelectedTextDebounced()},getPageRect:function(){this.$store.state.workspace.containerSize.width>0?this.pageRect=this.$el.getBoundingClientRect():this.pageRect=null}},watch:{userRect:function(t,e){t.top===e.top&&t.left===e.left&&t.width===e.width&&t.height===e.height||this.parseRect(t)},selectedSymbols:function(t){var e=this;null!==t?(t.length>0?this.$nextTick((function(){e.context||e.initContext(),e.context.clearRect(0,0,e.containerSize.width,e.containerSize.height),e.context.fillStyle="#027bff";for(var i=0,s=t.length;i<s;i++){var o=t[i];e.context.fillRect(o.left*e.containerSize.scaleRatio.w-(e.isWide&&"right"===e.pageSide?e.pageRect.width/2:0),o.top*e.containerSize.scaleRatio.h,o.width*e.containerSize.scaleRatio.w+1,o.height*e.containerSize.scaleRatio.h)}})):this.resetContext(),this.cornerTimeout=setTimeout((function(){if(!(e.selectedSymbols.length<1)){var t=e.selectedSymbols[0],i=e.selectedSymbols[e.selectedSymbols.length-1];10===i.word.charCodeAt(0)&&(i=e.selectedSymbols[e.selectedSymbols.length-2]),e.$store.dispatch("text/setCornerSymbols",{first:{top:Math.round(t.top*e.containerSize.scaleRatio.h),left:Math.round(t.left*e.containerSize.scaleRatio.w),width:Math.round(t.width*e.containerSize.scaleRatio.w),height:Math.round(t.height*e.containerSize.scaleRatio.h)},last:{top:Math.round(i.top*e.containerSize.scaleRatio.h),left:Math.round(i.left*e.containerSize.scaleRatio.w),width:Math.round(i.width*e.containerSize.scaleRatio.w),height:Math.round(i.height*e.containerSize.scaleRatio.h)}})}}),50),0===this.selectedSymbols.length&&this.$root.$emit("selectText:hidePanel")):this.$root.$emit("selectText:hidePanel")},isCurrent:function(t){var e=this;t&&(0===this.finalTree.length&&this.getAndParseXML(),this.$nextTick((function(){e.getPageRect()})))},selectTextInfoLoaded:function(t){t.pageId===this.pageId&&this.getAndParseXML()},animationInProgress:function(t){if(!t){var e=this.$store.getters["pager/state"];this.pageId!==e.rightPage&&this.pageId!==e.leftPage||this.getPageRect()}}},computed:{canvasClass:function(){return{"select-text-canvas":!0,"show-effect":this.showEffect,"hide-before-effect":!this.showEffect&&this.effectOn}},effectOn:function(){return this.$store.state.text.effect},userRect:function(){var t={top:0,left:0,width:0,height:0};return this.$store.state.text.selectionRect&&(this.pageId===this.$store.state.text.pageID&&this.isWide&&this.pageSide!==this.$store.state.text.pageSide||this.pageId===this.$store.state.text.pageID&&this.pageSide===this.$store.state.text.pageSide&&this.isCurrent)?this.$store.state.text.selectionRect:t},showCanvas:function(){return this.selectedSymbols.length>0},selectTextInfoLoaded:function(){return this.$store.state.search.selectTextInfoLoaded},animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]}}}},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",{staticClass:"selecttext",style:t.contStyle,on:{tap:t.reset}},[this.showCanvas?i("canvas",{class:t.canvasClass,style:{position:"absolute",right:"right"===t.pageSide&&t.isWide?0:"none"},attrs:{width:t.containerSize.width,height:t.containerSize.height}}):t._e()])},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",{staticClass:"publication-note",style:t.noteStyle,on:{tap:t.onNoteClick}},[i("div",{ref:"icon",class:t.iconClass},[i("svgicon",{attrs:{focusable:"false",name:"note-content"}})],1),t._v(" "),i("transition",{attrs:{name:"note-fade"}},[t.showRect?i("div",{ref:"rect",class:t.rectClass,style:t.rectStyle,attrs:{role:"dialog"}},[i("div",{staticClass:"note-body",style:t.noteBodyStyle},[i("textarea",{ref:"text",staticClass:"note-article",attrs:{role:"textbox",dir:"ltr",maxlength:"500",placeholder:t.placeholderText,tabindex:"0"},domProps:{value:t.data.text},on:{blur:t.saveText,focus:t.focusTextArea,input:t.setTextareaDir,keydown:function(e){return(e.type.indexOf("key")||13===e.keyCode)&&e.ctrlKey?t.setViewState(e):null}}})]),t._v(" "),t.miniRect?t._e():i("div",{staticClass:"note-footer",attrs:{"aria-hidden":"true"}},[i("div",{class:t.colorSetClass},[i("div",{staticClass:"note-border-color green",on:{click:function(e){return t.setColor("green")}}},[i("div",{staticClass:"note-color"})]),t._v(" "),i("div",{staticClass:"note-border-color blue",on:{click:function(e){return t.setColor("blue")}}},[i("div",{staticClass:"note-color"})]),t._v(" "),i("div",{staticClass:"note-border-color violet",on:{click:function(e){return t.setColor("violet")}}},[i("div",{staticClass:"note-color"})]),t._v(" "),i("div",{staticClass:"note-border-color red",on:{click:function(e){return t.setColor("red")}}},[i("div",{staticClass:"note-color"})]),t._v(" "),i("div",{staticClass:"note-border-color orange",on:{click:function(e){return t.setColor("orange")}}},[i("div",{staticClass:"note-color"})]),t._v(" "),i("div",{staticClass:"note-border-color gray",on:{click:function(e){return t.setColor("gray")}}},[i("div",{staticClass:"note-color"})])]),t._v(" "),i("div",{staticClass:"note-time"},[t._v(t._s(t.formattedTime))]),t._v(" "),i("span",{staticClass:"icon icon-trash-can note-button note-delete-button",attrs:{title:t.deleteTip},on:{click:t.deleteNoteCheck}},[i("svgicon",{attrs:{focusable:"false",name:"trash-can"}})],1)]),t._v(" "),t.deleteDialog?i("div",{staticClass:"note-delete-dialog",attrs:{dir:t.dir,"aria-hidden":"true"}},[i("div",{staticClass:"note-delete-dialog-text"},[i("div",{staticClass:"note-delete-dialog-text-flex"},[i("span",[t._v(t._s(t.dialogDeleteText))])])]),t._v(" "),i("div",{staticClass:"note-delete-dialog-buttons"},[i("span",{staticClass:"note-delete-dialog-cancel",on:{click:t.deleteDialogCancel}},[t._v(t._s(t.cancelButton))]),t._v(" "),i("span",{staticClass:"note-delete-dialog-confirm",on:{click:function(e){return t.deleteNote(e,"editor")}}},[t._v(t._s(t.deleteButton))])])]):t._e()]):t._e()])],1)},o=[];s._withStripped=!0},function(t,e,i){i(0).register({"trash-can":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M15.976 17.862c0 .607-.414 1.138-.885 1.138H8.893c-.47 0-.869-.513-.869-1.12L8.002 8H16l-.023 9.862zM20 6h-5V4.466C15 3.66 14.853 3 14.013 3h-3.858C9.315 3 9 3.659 9 4.466V6H4v2h2v10c0 1.843 1.153 3 2.893 3h6.198C16.84 21 18 19.852 18 18V8h2V6z"/><path pid="1" d="M13 18h1V9h-1zM10 18h1V9h-1z"/>'}})},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"flip-me-container":!0,left:t.isLeft}},[i("div",{staticClass:"flip-me-backface",style:t.backfaceStyle},[t._l(t.backfaceBackgrounds,(function(e,s){return i("img",{key:s,staticClass:"flip-me-image",style:t.backfaceImgStyle,attrs:{crossOrigin:t.crossOrigin,src:e}})})),t._v(" "),i("div",{staticClass:"flip-me-gradient2",style:t.backGradientStyle})],2),t._v(" "),i("div",{staticClass:"flip-me-mask",style:t.maskStyle},[i("div",{staticClass:"flip-me-gradient",style:t.nextGradientStyle}),t._v(" "),i("div",{staticClass:"flip-me-shift-page",style:t.shiftPageStyle},[i("div",{staticClass:"flip-me-next-page",style:t.nextPageStyle},t._l(t.nextBackgrounds,(function(e,s){return i("img",{key:s,staticClass:"flip-me-image",style:t.nextImgStyle,attrs:{crossOrigin:t.crossOrigin,src:e}})})),0)])])])},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(106),o=i(11),r=i.n(o),n=i(33),a=i(67);function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}function l(t,e,i,o){if(-1!==e){this.parentVm=i,this.contentCreator=o,this.store=Object(n.getStore)(),this.data=this._getPageId(e);var l=this.store.state.workspace.alteredSVGColors&&this.store.state.workspace.userAgentInfo.browser.samsung,c=document.createElement("div");if(c.className="page",l){var d=document.createElement("img");d.setAttribute("class","enforce-white-bg"),d.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII="),t.appendChild(d)}if(this.data){if(!l){var u=this.store.getters["book/hasHardcover"]&&(this.store.getters["pages/isFirstPage"](this.data.id)||this.store.getters["pages/isLastPage"](this.data.id));c.style["background-color"]=u?this.store.state.book.hardcoverColor:this.store.getters["pages/pageProp"](this.data.id,"backgroundColor")}t.appendChild(c);var p=this;this._createVM=function(){if(p.store){var t=r.a.extend(h({store:p.store},s.default));p.vm=new t({i18n:a.default,propsData:p.data,parent:p.parentVm,_componentTag:"page"}).$mount(c)}},this.parentVm.animation?this.parentVm.$once("render:finish",this._createVM):this._createVM()}}}l.prototype.destroy=function(){delete this.store,delete this.parentVm,delete this.contentCreator},l.prototype._createVM=function(){},l.prototype._getPageId=function(t){if(this.store.state.pager.singleMode){if(t%2!=0&&0!==t)return;null!==t&&(t/=2)}if(this.store.state.book.rightToLeft){var e,i=this.store.getters["pages/pagesCount"],s=i%2!=0?t%2!=0?"right":"left":t%2!=0?"left":"right";return{id:e=null!==t?this.store.getters["pages/pageIdByIndexWide"](i-t-1):null,wide:this.store.getters["pages/pageProp"](e,"wide"),side:s,contentCreator:this.contentCreator}}var o=this.store.getters["pages/pageIdByIndexWide"](t);return{id:o,wide:this.store.getters["pages/pageProp"](o,"wide"),side:t%2!=0?"left":"right",contentCreator:this.contentCreator}},l.prototype.resetPage=function(t){if(void 0!==this.vm){var e=this._getPageId(t);e||(e={id:null,side:"left"}),this.vm.pageSide=e.side,this.vm.pageId=e.id}},e.default=l},function(t,e,i){"use strict";i.r(e),e.default=function(t,e,i,s){if(e<10)return 0;if(e<=30)return t/e*(20+(e-10)/2);var o=(i.width+i.height)/2*(Math.log(e)/Math.log(10))*.03+e/100,r=Math.min(e,o);return s&&(r=Math.min(s,r)),Math.round(t/e*r)}},function(t,e,i){"use strict";i.r(e);var s=i(638),o=i(123),r=(i(640),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/block/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"block",style:t.containerStyle,attrs:{"data-id":t.itemId}})},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(641),o=i(129),r=(i(642),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/link/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],class:t.classes,style:t.linkStyle,attrs:{"data-url":t.url,"data-id":t.data.id,title:t.title,target:t.target}})},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(643),o=i(132),r=(i(647),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/image/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",t._g({staticClass:"content-element image",class:t.containerClasses,style:t.containerStyle},t.isEmbed?null:{tap:t.onImageClick,panstart:t.preventDefault}),[t.hasPopup?i("div",{staticClass:"play-button",class:t.playButtonClass,style:t.playButtonStyle},[i("svgicon",{attrs:{focusable:"false",name:"image",color:"#272F37 white"}})],1):t._e(),t._v(" "),i("div",{staticClass:"thumbsContainer"},t._l(t.cachedThumbnails,(function(t){return i("div",{key:t.id,staticClass:"thumbnail",style:t.style})})),0),t._v(" "),t.isModalShown?i("modal-window",{ref:"modalWindow",attrs:{width:t.modalRect.width,height:t.modalRect.height,bgColor:"#fff",preloader:!0,delay:500}},[i("img",{style:t.modalImageStyle,attrs:{crossOrigin:t.crossOrigin,src:t.imageSrc}}),t._v(" "),i("v-touch",{ref:"touchPreventer",staticClass:"touch-preventer-full",on:{tap:function(t){t.preventDefault()},doubletap:function(t){t.preventDefault()},pinch:function(t){t.preventDefault()}}})],1):t._e()],1)},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(644),o=i(134),r=(i(645),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,"50c8fe48",null);n.options.__file="src/components/common/modal/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"overlay"}},[t.visibility.overlay?i("v-touch",{staticClass:"modal-window-overlay",attrs:{dir:t.dir},on:{tap:t.onOverlayTap,pinch:function(t){t.preventDefault()},doubletap:function(t){t.preventDefault()},pinchstart:function(t){t.preventDefault()}}},[i("transition",{attrs:{name:"modal"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visibility.modal,expression:"visibility.modal"}],ref:"modal",staticClass:"modal-window",style:t.modalStyle,on:{touchstart:function(t){t.stopPropagation()}}},[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-content"},[t.isLoaded?t._t("default"):i("div",{staticClass:"modal-preloader"},[i("spinner",{attrs:{size:36,"line-size":3,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}})],1),t._v(" "),i("div",{staticClass:"modal-close"},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"rounded-close"}})],1)],2)])],1)])],1):t._e()],1)},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(648),o=i(139),r=(i(650),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/gallery/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gallery",style:t.containerStyle},[i("div",{staticClass:"play-button",style:t.playButtonStyle},[i("svgicon",{attrs:{focusable:"false",name:"gallery",color:"#272F37 white"}})],1),t._v(" "),t.thumbnailUrl?i("div",{staticClass:"thumbnail",style:t.thumbnailStyle}):t._e()])},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(651),o=i(142),r=(i(654),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/gif/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",{staticClass:"content-element gif",class:t.containerClasses,style:t.containerStyle,on:{tap:t.onGifClick}},[i("div",{staticClass:"play-button",style:t.playButtonStyle},[i("svgicon",{attrs:{focusable:"false",name:"gif",color:"#272F37 white"}})],1),t._v(" "),t.thumbnailUrl&&!t.isEnded?i("div",{staticClass:"thumbnail",style:t.thumbnailStyle}):t._e(),t._v(" "),t.isPlaying||t.isEnded?i("div",{staticClass:"image"},[i("img",{ref:"gifImg",style:t.imageStyle,attrs:{crossOrigin:t.crossOrigin,src:t.imageSrc}})]):t._e(),t._v(" "),i("div",{staticClass:"preloader"},[i("spinner",{attrs:{size:18,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}})],1),t._v(" "),!1===t.data.loop?i("div",{staticClass:"replay"},[i("svgicon",{attrs:{focusable:"false",name:"replay",color:"white"}})],1):t._e()])},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(655),o=i(145),r=(i(677),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/video/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._g({staticClass:"content-element video",class:t.containerClasses,style:t.containerStyle},t.isEmbed?null:{tap:t.onVideoClick}),[i("v-touch",t._g({directives:[{name:"show",rawName:"v-show",value:!t.isPlayerShown&&!t.hasError,expression:"!isPlayerShown && !hasError"}],staticClass:"play-button",style:t.playButtonStyle},t.isEmbed?null:{tap:t.onVideoClick}),[i("svgicon",{attrs:{focusable:"false",name:"video",color:"#272F37 white"}})],1),t._v(" "),t.hasError?i("div",{staticClass:"play-button",style:t.playButtonStyle},[i("svgicon",{attrs:{focusable:"false",name:"error",color:"white"}})],1):t._e(),t._v(" "),i("v-touch",t._g({directives:[{name:"show",rawName:"v-show",value:t.isThumbnailShown,expression:"isThumbnailShown"}],staticClass:"thumbnail",style:t.thumbnailStyle},t.isEmbed?null:{tap:t.onVideoClick})),t._v(" "),t.isInline&&t.isPlayerShown&&!t.isModalShown?i(t.videoData.provider,{ref:"player",tag:"component",attrs:{id:t.videoData.id,url:t.videoData.originalUrl,embedUrl:t.videoData.embedUrl,accessKey:t.videoData.accessKey,width:t.containerRect.width,height:t.containerRect.height,autoplay:!t.isMobile,mute:t.isMuted,start:t.videoData.startFrom,isCurrentPage:t.isCurrentPage,isIos:t.isIos}}):t._e(),t._v(" "),t.isModalShown?i("modal-window",{ref:"modalWindow",attrs:{width:t.modalRect.width,height:t.modalRect.height,bgColor:"#000",delay:500}},[t.isIos&&t.showPreventer&&"wistia"!==t.videoData.provider?i("v-touch",{ref:"touchPreventer",staticClass:"touch-preventer",class:t.videoData.provider+(t.isModalSmall?" small":""),on:{tap:t.playPause,doubletap:function(t){t.preventDefault()},pinch:function(t){t.preventDefault()}}}):t._e(),t._v(" "),i(t.videoData.provider,{ref:"player",tag:"component",style:t.modalVideoStyle,attrs:{id:t.videoData.id,url:t.videoData.originalUrl,embedUrl:t.videoData.embedUrl,accessKey:t.videoData.accessKey,width:t.modalRect.width,height:t.modalRect.height,autoplay:!0,start:t.videoData.startFrom,isCurrentPage:!0,isIos:t.isIos}})],1):t._e()],1)},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"playerMount",staticClass:"youtube-player player",attrs:{id:t.elementId}})])},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{key:t.elementId,class:"wistia-player player wistia_embed wistia_async_"+t.id,attrs:{id:t.elementId},on:{wheel:function(t){t.stopPropagation()},click:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()},touchmove:function(t){t.stopPropagation()},touchstop:function(t){t.stopPropagation()},touchcancel:function(t){t.stopPropagation()},pointerdown:function(t){t.stopPropagation()},mousedown:function(t){t.stopPropagation()}}})},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(678),o=i(155),r=(i(679),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,"5a5957c5",null);n.options.__file="src/components/desktop/select-text-panel/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"panel-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:(t.showPanel||t.forceShow)&&!t.inProgress&&!t.contextMenuVisible,expression:"(showPanel || forceShow) && !inProgress && !contextMenuVisible"}],ref:"copyPanel",staticClass:"select-text-panel",class:t.panelClass,style:t.panelStyle,attrs:{dir:t.blockDirection},on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},[i("div",{staticClass:"pointer",style:t.pointerTransform}),t._v(" "),i("span",{staticClass:"button",on:{click:t.copyText}},[t._v(t._s(t.$t("RightClickMenu.COPY_TEXT")))]),t._v(" "),i("span",{staticClass:"divider"},[t._v("|")]),t._v(" "),i("span",{staticClass:"button",on:{click:t.copyTextLink}},[t._v(t._s(t.$t("RightClickMenu.SHARE_SELECTED_TEXT")))])])])},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(680);function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}var r=i.n(s)()({idle:1e4}),n={};e.default={methods:{resizePage:function(t,e,i,s,a){var h,l=new Promise((function(t,e){h=e})),c=function(){return delete n[s]};r.resize(t,e,o({},i,{cancelToken:l})).then(a,a).then(c,c),n[s]=h},cancelResize:function(t){var e=n[t];e&&e(),delete n[t]}}}},function(t,e,i){"use strict";i.r(e),e.default={computed:{defaultZoomFactor:function(){return this.$store.state.workspace.defaultZoomFactor}},methods:{getTappedZoomBlock:function(t){var e,i;return t.target&&"block"===t.target.className&&(e=t.target.getAttribute("data-id"),i=t.target.getBoundingClientRect()),{id:e,rect:i}},getBlockRect:function(t,e){var i={width:t.width>e.width+e.left-t.left?e.width+e.left-t.left:t.width,height:t.height,left:t.left-e.left,top:t.top-e.top};return i.left<0&&(i.width=i.width+i.left,i.left=0),i},checkScaleFactorForZoom:function(t,e,i){return 1*(e*t).toFixed(2)>i?i/e:t},getScrollAmount:function(t,e,i,s,o){if(t&&t.direction){var r,n;switch(t.direction){case"left":r=e<-100?100:-e;break;case"up":r=i<-100?100:-i;break;case"right":r=e-100>-(n=Math.max(o.width-s.width,0))?-100:-n-e;break;case"down":r=i-100>-(n=Math.max(o.height-s.height,0))?-100:-n-i}return r}},getSuitableZoomFactor:function(t,e,i,s){if(0===e)return null;var o=[1.1,1.25,1.5,1.75,2,2.5,3,3.5,4,4.5,5].filter((function(t){return t>=i&&t<=s})).filter((function(i){return e>0?i>t:i<t}));return e>0?o.shift():o.pop()},showSelectTextTip:function(){this.$store.getters["workspace/canShowSelectTextTip"]&&(this.$store.dispatch("workspace/setFlashMessage",{text:this.$tc("AlertMessage.SELECT_TEXT_TIP",0,{key:this.isMac?"⌘":"Ctrl"}),delay:1500}),this.$store.dispatch("workspace/increaseSelectTextTipShowsCount"))}}}},function(t,e,i){"use strict";function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},s={};return s.width=t.width*e,s.height=t.height*e,s.top=t.top+(i.y-i.y*e),s.left=t.left+(i.x-i.x*e),s}function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0},o={};return o.width=e.width*i,o.height=e.height*i,o.top=t.height/2-s.y*i+2*t.top,o.left=t.width/2-s.x*i+2*t.left,o}function r(t,e){return t.height<e.height?t.top=(e.height-t.height)/2:t.top>0?t.top=0:t.height+t.top<e.height&&(t.top=e.height-t.height),t.width<e.width?t.left=(e.width-t.width)/2:t.left>0?t.left=0:t.width+t.left<e.width&&(t.left=e.width-t.width),t}function n(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return 1===i?{x:0,y:0}:{x:(t.left-e.left)/(i-1),y:(t.top-e.top)/(i-1)}}i.r(e),i.d(e,"getNewBounds",(function(){return s})),i.d(e,"getNewCenteredBounds",(function(){return o})),i.d(e,"normalizeBounds",(function(){return r})),i.d(e,"getOrigin",(function(){return n}))},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slide-book"},[i("v-touch",t._g({ref:"holder",staticClass:"slide-holder",class:t.holderStyles,attrs:{tag:"div",id:"slide-holder"}},t.isEmbed?null:{doubletap:t.onTap,pinchstart:t.onPinchStart,pinchmove:t.onPinchMove,pinchend:t.onPinchFinish,pinchcancel:t.onPinchFinish,panstart:t.onPanStart,panmove:t.onPanMove,panend:t.onPanEnd,pancancel:t.onPanEnd}),t._l(t.outputSlidesCache,(function(e){return i("div",{key:e.pages[0].id+"_"+e.pages[0].side,ref:"current"===e.position?"wrapper":null,refInFor:!0,class:"slide-wrapper "+e.position,style:t.slideStyles[e.position],attrs:{"data-id":e.pages[0].id+"_"+e.pages[0].side+(e.pages[1]?"-"+e.pages[1].id+"_"+e.pages[0].side:"")}},[i("div",{staticClass:"spread-wrapper",style:t.spreadStyles[e.position],on:{transitionend:t.onTransitionEnd}},[t.selectTextEnabled&&"current"===e.position?i("select-text-panel"):t._e(),t._v(" "),t._l(e.pages,(function(s){return i("page",{key:s.id+"_"+s.side,ref:"current"===e.position?"current":null,refInFor:!0,class:"slide-page "+(t.isContentCropMode?"content-crop":s.position),attrs:{id:s.id,side:s.side,size:t.pageSizes[e.position],contentCreator:t.contentCreator,"data-id":s.id+"_"+s.side,contentCrop:t.isContentCropMode}})}))],2)])})),0),t._v(" "),i("transition",{attrs:{name:"note-icon-fade"}},[t.noteIconShown?i("button",{staticClass:"icon-add-note",class:t.noteIconClass,style:t.noteIconStyle,attrs:{tabindex:"0",title:t.addNoteTitleText},on:{click:function(e){return e.stopPropagation(),t.addNote(e)}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"add-note"}})],1):t._e()])],1)},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showLogo?i("div",{staticClass:"logo-container",class:t.containerClasses,style:t.containerStyles},[i("a",{staticClass:"logo-link",attrs:{href:t.logoLinkUrl,target:t.target},on:{click:t.onClick}},[t.customLogoUrl?i("img",{staticClass:"logo-custom",style:t.imageStyles,attrs:{crossOrigin:t.crossOrigin,src:t.customLogoUrl}}):t.hasDefaultLogo?i("svgicon",{ref:"svgLogo",staticClass:"logo-svg",attrs:{focusable:"false",name:"made-with",color:t.svgLogoColor}}):t._e()],1)]):t._e()},o=[];s._withStripped=!0},function(t,e,i){i(0).register({"made-with":{width:119,height:30,viewBox:"0 0 119 30",data:'<path pid="0" d="M27.102 26.063c0 .29-.233.525-.525.525h-1.052a.525.525 0 01-.525-.525V15.052c0-.355.3-.526.497-.526h6.337c.29 0 .524.232.524.524v1.05c0 .289-.237.524-.524.524H27.21a.105.105 0 00-.108.102v2.68c0 .056.047.102.105.102h3.836c.29 0 .527.233.527.524v1.05c0 .29-.234.524-.527.524h-3.836a.105.105 0 00-.105.106v4.35zm8.672-11.538A.525.525 0 0035.25 14l-1.052.13c-.396.05-.525.236-.525.525 0 0-.006 9.801 0 9.833-.006 1.37 1.127 2.104 2.102 2.099.976-.006.528.005.528.005a.53.53 0 00.523-.529V24.89c0-.23-.187-.4-.387-.4h-.27a.384.384 0 01-.394-.374v-9.59zm3.416 2.885h1.053c.29 0 .524.183.524.526v8.126c0 .29-.233.526-.524.526H39.19a.526.526 0 01-.525-.526v-8.126c0-.29.14-.526.525-.526zm-.525-2.36a1.051 1.051 0 012.102 0 1.05 1.05 0 01-2.102 0zm4.207 5.198a25.36 25.36 0 01-.002-.32v.364a3.148 3.148 0 013.154-3.144h.788a3.151 3.151 0 013.153 3.146v3.41a3.149 3.149 0 01-3.155 3.146h-.26a3.49 3.49 0 01-1.578-.387v2.484c0 .29-.233.525-.525.525h-1.052a.525.525 0 01-.525-.525v-8.652c0-.016 0-.031.002-.047zm2.1.044v3.414c0 .72.589 1.308 1.314 1.308h.263c.725 0 1.314-.585 1.314-1.308v-3.414c0-.72-.589-1.309-1.314-1.309h-.263c-.725 0-1.314.586-1.314 1.309zm6.835-.044a25.36 25.36 0 01-.002-.32v.364a3.148 3.148 0 013.153-3.144h.789a3.152 3.152 0 013.154 3.146v3.41a3.149 3.149 0 01-3.156 3.146h-.26c-.552 0-1.091-.14-1.578-.387v2.484c0 .29-.233.525-.525.525H52.33a.525.525 0 01-.525-.525v-8.652c0-.016 0-.031.002-.047zm2.1.044v3.414c0 .72.589 1.308 1.315 1.308h.262c.725 0 1.314-.585 1.314-1.308v-3.414c0-.72-.588-1.309-1.314-1.309h-.262c-.726 0-1.315.586-1.315 1.309zm7.358-2.882h1.052c.29 0 .525.183.525.526v8.126c0 .29-.233.526-.525.526h-1.052a.526.526 0 01-.525-.526v-8.126c0-.29.165-.526.525-.526zm-.525-2.36a1.051 1.051 0 012.102 0 1.05 1.05 0 01-2.102 0zm4.73 11.538h1.052a.523.523 0 00.525-.526v-5.767c0-.725.588-1.312 1.315-1.312h.262c.725 0 1.314.588 1.314 1.31v5.779a.52.52 0 00.524.523l1.053-.005a.526.526 0 00.525-.526v-5.77a3.15 3.15 0 00-3.153-3.146h-.789c-.488 0-.95.11-1.362.307a.52.52 0 00-.214-.045H65.47a.524.524 0 00-.525.526v8.126a.524.524 0 00.525.526zm15.773-6.581c0 .286-.01.524-.02.858.002.63.016 2.596.009 4.742-.008 2.552-1.31 4.136-3.668 4.128h-.265c-1.79.013-2.91-1.157-2.91-1.157a.414.414 0 01.016-.577l.72-.79c.156-.14.288-.1.412 0 .123.098.733.843 2.027.816.764-.015 1.59-.482 1.59-1.567-.519.287-.995.393-1.595.393h-.26a3.149 3.149 0 01-3.155-3.147v-3.41a3.151 3.151 0 013.153-3.146h.789a3.148 3.148 0 013.153 3.144l.004-.287zm-2.106.287c0-.723-.588-1.309-1.314-1.309h-.262c-.726 0-1.314.59-1.314 1.31v3.413c0 .723.588 1.309 1.314 1.309h.262c.726 0 1.314-.59 1.314-1.309v-3.414zm9.458 6.294H84.13a.525.525 0 01-.526-.527v-11.01c0-.29.233-.526.526-.526h4.337a3.15 3.15 0 013.153 3.147 3.141 3.141 0 01-1.312 2.556 3.405 3.405 0 011.706 2.951 3.413 3.413 0 01-3.418 3.409zm-.262-4.982h-2.52a.103.103 0 00-.107.102v2.68c0 .057.047.102.106.102h2.521c.797 0 1.446-.646 1.446-1.442 0-.795-.647-1.442-1.446-1.442zm-.394-5.245h-2.125a.105.105 0 00-.108.105v2.937c0 .06.048.105.108.105h2.125c.871 0 1.577-.705 1.577-1.574 0-.867-.706-1.573-1.577-1.573zm5.65 3.933a3.149 3.149 0 013.154-3.146h.789a3.151 3.151 0 013.153 3.146v3.41a3.15 3.15 0 01-3.153 3.146h-.789a3.151 3.151 0 01-3.153-3.147v-3.409zm2.103-.002v3.414c0 .72.589 1.308 1.314 1.308h.263c.726 0 1.314-.585 1.314-1.308v-3.414c0-.72-.588-1.309-1.314-1.309h-.263c-.725 0-1.314.586-1.314 1.309zm6.307.002a3.15 3.15 0 013.154-3.146h.788a3.151 3.151 0 013.154 3.146v3.41a3.15 3.15 0 01-3.154 3.146h-.788a3.151 3.151 0 01-3.154-3.147v-3.409zm2.077-.002v3.414c0 .72.588 1.308 1.314 1.308h.262c.726 0 1.314-.585 1.314-1.308v-3.414c0-.72-.588-1.309-1.314-1.309h-.262c-.726 0-1.314.586-1.314 1.309zm11.949 5.975c.094.113.286.323.43.323h1.841c.25 0 .31-.286.215-.41l-3.785-4.566c1.911-1.227 2.738-3.59 2.773-3.804.035-.213-.044-.387-.331-.387h-1.359c-.378 0-.392.296-.514.507-.122.212-.569 1.807-2.517 2.726V14.79a.525.525 0 00-.526-.525H111.2c-.349 0-.526.261-.526.525v11.277c0 .29.236.524.526.524h1.052a.523.523 0 00.525-.524V22.4l3.247 3.867zM.009 27.961A1.163 1.163 0 010 27.813V14.145c0-.1.014-.199.038-.291.189-1.038 1.075-1.826 2.144-1.833.332-.001.648.072.932.206l5.899 3.126-.004-.001c.02-.013.156-.104.208-.133l5.67-3.013c.282-.134.599-.208.931-.206 1.138.008 2.07.902 2.173 2.038.006.05.009.098.009.148v13.669c0 .1-.013.199-.038.292-.189 1.037-1.075 1.825-2.144 1.832a2.144 2.144 0 01-.932-.206L8.991 26.65c-.02.012-.156.103-.208.132l-5.67 3.013c-.283.134-.599.208-.931.206-1.138-.008-2.07-.902-2.173-2.038zm2.635-.556l5.242-2.712a1.746 1.746 0 00.58-2.37l-.001.001.004-.003-.771-1.353a3.96 3.96 0 01-.65-2.057c-.02-.66.122-1.287.39-1.845l.008.005-4.803-2.455a.468.468 0 00-.642.43v1.47H2V26.976a.466.466 0 00.644.43zm13.354-.451v-1.47H16V15.026a.466.466 0 00-.643-.43l-5.243 2.712a1.746 1.746 0 00-.579 2.37l.001-.001-.005.002.771 1.354c.39.593.626 1.297.65 2.056.02.66-.122 1.288-.39 1.845l4.795 2.45a.467.467 0 00.643-.431z"/><path pid="1" class="made-with" fill-rule="evenodd" d="M13.102 2.543c.73 0 1.303.183 1.717.548.414.365.629.868.645 1.509v2.918c0 .582.074 1.045.222 1.388V9H14.55c-.063-.125-.114-.348-.153-.668-.504.524-1.105.785-1.805.785-.625 0-1.137-.177-1.538-.53-.4-.354-.6-.802-.6-1.345 0-.66.25-1.173.753-1.538.502-.365 1.208-.548 2.118-.548h1.055v-.498c0-.379-.114-.68-.34-.905-.227-.225-.56-.337-1.002-.337-.387 0-.711.098-.973.293-.262.195-.392.432-.392.709h-1.09c0-.316.112-.622.337-.917a2.3 2.3 0 01.914-.7 3.075 3.075 0 011.268-.258zM22.361 0v9h-.996l-.053-.68c-.433.532-1.037.797-1.81.797-.735 0-1.333-.3-1.796-.902-.463-.602-.695-1.387-.695-2.356v-.082c0-.972.23-1.755.692-2.346.46-.592 1.064-.888 1.81-.888.743 0 1.33.254 1.764.762V0h1.084zm4.29 2.543c.824 0 1.465.271 1.922.814.457.543.685 1.32.685 2.332v.452h-4.294c.015.625.198 1.13.547 1.514.35.385.794.577 1.333.577.383 0 .707-.078.973-.234.266-.156.498-.363.697-.621l.662.516c-.53.816-1.328 1.224-2.39 1.224-.86 0-1.559-.282-2.098-.846-.539-.565-.808-1.32-.808-2.265v-.2c0-.628.12-1.19.36-1.684s.576-.88 1.008-1.16c.431-.28.9-.419 1.403-.419zm20.682-1.418V2.66h1.183v.838h-1.183V7.43c0 .254.052.444.158.571.105.127.285.19.539.19.125 0 .297-.023.516-.07V9a3.143 3.143 0 01-.833.117c-.484 0-.85-.146-1.095-.44-.246-.292-.37-.708-.37-1.247V3.498h-1.154V2.66h1.155V1.125h1.084zM6.768 2.543c1.39 0 2.097.736 2.12 2.209V9H7.806V4.816c0-.453-.104-.792-.31-1.016-.208-.225-.555-.337-1.044-.337-.402 0-.736.12-1.002.36-.265.24-.42.564-.463.97V9h-1.09V4.846c0-.922-.45-1.383-1.353-1.383-.71 0-1.197.303-1.459.908V9H0V2.66h1.026l.029.703c.465-.547 1.092-.82 1.88-.82.887 0 1.49.34 1.811 1.02.211-.305.486-.551.823-.739.338-.187.738-.281 1.199-.281zm27.45.117l1.248 4.746 1.476-4.746h.873l1.506 4.846L40.54 2.66h1.084L39.778 9H38.9l-1.54-4.805L35.858 9h-.88l-1.84-6.34h1.079zm9.797 0V9h-1.084V2.66h1.084zM50.978 0v3.428c.48-.59 1.106-.885 1.875-.885 1.34 0 2.016.756 2.027 2.268V9h-1.084V4.805c-.004-.457-.108-.795-.313-1.014-.205-.219-.525-.328-.958-.328-.352 0-.66.094-.926.281a1.91 1.91 0 00-.621.738V9h-1.084V0h1.084zM19.783 3.463c-.531 0-.945.205-1.242.615-.297.41-.445 1.018-.445 1.822 0 .72.148 1.282.445 1.688.297.406.707.61 1.23.61.688 0 1.19-.31 1.506-.926V4.359c-.324-.597-.822-.896-1.494-.896zm-5.403 2.46h-.85c-1.328 0-1.992.39-1.992 1.167 0 .34.113.605.34.797.226.191.517.287.873.287.34 0 .662-.088.967-.264.304-.176.525-.404.662-.685V5.924zm12.271-2.49c-.437 0-.805.16-1.102.478-.296.319-.48.765-.55 1.34h3.175v-.083c-.03-.55-.18-.978-.445-1.28-.265-.303-.625-.454-1.078-.454zM43.482.353c.211 0 .371.06.48.181a.64.64 0 01.165.446.62.62 0 01-.164.439c-.11.117-.27.176-.48.176-.212 0-.371-.059-.478-.176a.626.626 0 01-.162-.44c0-.175.054-.324.162-.445.107-.12.266-.181.477-.181z"/>'}})},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-arrows"},[t.isFirstPage?t._e():i("v-touch",t._g({staticClass:"nav-btn nav-left-arrow",attrs:{tag:"button",title:t.leftArrowTitle},nativeOn:{touchstart:function(t){t.preventDefault()},keydown:function(e){return t.leftButtonKeyHandler(e)}}},t.isEmbed?{tap:t.goLeft}:{tap:t.goLeft,swipeleft:function(e){return t.goRight(e,!0)},swiperight:function(e){return t.goLeft(e,!0)}}),[i("transition",{attrs:{name:"bars-fade"}},[t.show?i("svgicon",{staticClass:"arrow",attrs:{focusable:"false",name:"mobile-left",height:"100%"}}):t._e()],1)],1),t._v(" "),t.isLastPage?t._e():i("v-touch",t._g({staticClass:"nav-btn nav-right-arrow",attrs:{tag:"button",title:t.rightArrowTitle},nativeOn:{touchstart:function(t){t.preventDefault()},keydown:function(e){return t.rightButtonKeyHandler(e)}}},t.isEmbed?{tap:t.goRight}:{tap:t.goRight,swipeleft:function(e){return t.goRight(e,!0)},swiperight:function(e){return t.goLeft(e,!0)}}),[i("transition",{attrs:{name:"bars-fade"}},[t.show?i("svgicon",{staticClass:"arrow",attrs:{focusable:"false",name:"mobile-right",height:"100%"}}):t._e()],1)],1)],1)},o=[];s._withStripped=!0},function(t,e,i){i(0).register({"mobile-left":{width:16,height:16,viewBox:"0 0 24 40",data:'<path pid="0" d="M19.172 38L2.583 21.414a2.006 2.006 0 010-2.828L19.168 2l2.828 2.828L6.826 20 22 35.172 19.172 38z"/>'}})},function(t,e,i){i(0).register({"mobile-right":{width:16,height:16,viewBox:"0 0 24 40",data:'<path pid="0" d="M4.828 2l16.589 16.586c.777.778.777 2.05 0 2.828L4.832 38l-2.828-2.828L17.174 20 2 4.828 4.828 2z"/>'}})},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes},[t.isFirstPage?t._e():i("div",{staticClass:"button-block left"},[i("button",{staticClass:"nav-btn next-btn nav-left-arrow",attrs:{tabindex:"0",title:t.leftArrowTitle},on:{click:function(e){return e.preventDefault(),t.goLeft(e)}}},[i("transition",{attrs:{name:"bars-fade"}},[t.show?i("svgicon",{staticClass:"arrow",attrs:{focusable:"false",name:"mobile-left",height:"100%"}}):t._e()],1)],1),t._v(" "),i("button",{staticClass:"nav-btn last-btn nav-first-left-arrow",attrs:{tabindex:"0",title:t.leftMostArrowTitle},on:{click:function(e){return e.preventDefault(),t.leftToTheLast(e)}}},[t.show?i("svgicon",{staticClass:"arrow",attrs:{focusable:"false",name:"book-first",height:"100%"}}):t._e()],1)]),t._v(" "),t.isLastPage?t._e():i("div",{staticClass:"button-block right"},[i("button",{staticClass:"nav-btn next-btn nav-right-arrow",attrs:{tabindex:"0",title:t.rightArrowTitle},on:{click:function(e){return e.preventDefault(),t.goRight(e)}}},[i("transition",{attrs:{name:"bars-fade"}},[t.show?i("svgicon",{staticClass:"arrow",attrs:{focusable:"false",name:"mobile-right",height:"100%"}}):t._e()],1)],1),t._v(" "),i("button",{staticClass:"nav-btn last-btn nav-last-left-arrow",attrs:{tabindex:"0",title:t.rightMostArrowTitle},on:{click:function(e){return e.preventDefault(),t.rightToTheLast(e)}}},[t.show?i("svgicon",{staticClass:"arrow",attrs:{focusable:"false",name:"book-last",height:"100%"}}):t._e()],1)])])},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"zoom-panel",class:t.panelClass,style:t.panelStyle,attrs:{id:"zoom-panel",dir:t.dir}},[i("span",{staticClass:"zoom-panel-caption minus",attrs:{title:t.$t("ZoomBar.ZOOM_OUT_TIP")},on:{click:t.zoomOut}},[t._v("–")]),t._v(" "),i("div",{ref:"zoomLine",staticClass:"zoom-panel-line",on:{click:t.lineClick}},[i("v-touch",{ref:"zoomSlider",staticClass:"zoom-panel-slider",style:t.sliderStyle,attrs:{id:"zoom-slider","pan-options":{direction:"horizontal",threshold:1}},on:{panstart:t.onPanStart,panmove:t.onPanMove,panend:t.onPanEnd,pancancel:t.onPanEnd}})],1),t._v(" "),i("span",{staticClass:"zoom-panel-caption plus",attrs:{title:t.$t("ZoomBar.ZOOM_IN_TIP")},on:{click:t.zoomIn}},[t._v("+")])])},o=[];s._withStripped=!0},,,,function(t,e,i){"use strict";i.r(e),e.default={computed:{fullPdf:function(){return this.$store.state.downloads.allPagesVisible&&this.$store.getters["downloads/getFullPdf"]},customFiles:function(){return this.$store.getters["downloads/getCustomFiles"]},pageFiles:function(){return this.$store.state.downloads.currentPagesVisible&&this.$store.getters["downloads/getPageFiles"]},pagesTitle:function(){return{full:this.$t("SaveWindow.FULL_PUBLICATION"),left:this.$t("SaveWindow.SAVE_LEFT_PAGE"),right:this.$t("SaveWindow.SAVE_RIGHT_PAGE"),one:this.$t("SaveWindow.SAVE_CURRENT_PAGE")}},pagerState:function(){return this.$store.getters["pager/state"]}}}},,,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(23),o=i.n(s),r=i(415);e.default={props:{data:{type:Object,required:!0}},components:{thumb:r.default},computed:{textDirection:function(){return o.a.getDirection(this.data.caption)},itemStyles:function(){var t={};return this.data.size&&(t.width=this.data.size.width+"px",t.height=this.data.size.height+"px"),t},slideMode:function(){return this.$store.state.pager.slideMode},contentCrop:function(){return this.slideMode&&this.$store.state.book.contentCrop}}}},function(t,e,i){"use strict";i.r(e);var s=i(749),o=i(207),r=(i(750),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/common/thumb/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className,style:t.pageStyle},[t.preloaderVisible?i("div",{staticClass:"preloader",attrs:{"aria-hidden":"true"}},[i("div",{staticClass:"preloader-container"},[t.isLoading?i("spinner",{staticClass:"preloader-spinner",attrs:{size:t.preloaderSize,"line-size":t.preloaderLineSize,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}}):t._e()],1)]):t._e(),t._v(" "),t.rightPreloaderVisible?i("div",{staticClass:"preloader right",attrs:{"aria-hidden":"true"}},[i("div",{staticClass:"preloader-container"},[t.isLoading?i("spinner",{staticClass:"preloader-spinner",attrs:{size:t.preloaderSize,"line-size":t.preloaderLineSize,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}}):t._e()],1)]):t._e(),t._v(" "),t.background?i("img",{staticClass:"background",style:t.contentStyle,attrs:{crossOrigin:t.crossOrigin,src:t.background,role:"img","data-id":t.pageId,title:t.$t("AlertMessage.LINK_PAGE_TIP"),"aria-label":t.$t("AlertMessage.LINK_PAGE_TIP"),alt:t.imageAlt}}):t._e()])},o=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),e.default={computed:{title:function(){return this.$i18n.t("ThumbnailsToolWindow.TITLE")},isRtl:function(){return this.$store.state.book.rightToLeft},pagerState:function(){return this.$store.getters["pager/state"]},singleMode:function(){return this.$store.state.pager.singleMode},slideMode:function(){return this.$store.state.pager.slideMode},contentCrop:function(){return this.slideMode&&this.$store.state.book.contentCrop},thumbSizes:function(){return this.getThumbSizes(!1)},thumbDoubleSizes:function(){return this.getThumbSizes(!0)},hasPages:function(){return this.$store.getters["pages/pagesCount"]>0},numerationOffset:function(){return this.$store.state.book.numerationOffset},lowercaseRomans:function(){return this.$store.state.workspace.lowercaseRomans}}}},,,function(t,e,i){"use strict";i.r(e);var s=i(23),o=i.n(s),r=i(10);e.default={props:{itemData:{type:Object,required:!0},depth:{type:[Number,String],default:0}},computed:{paddingLeft:function(){return this.depth<=2?20*this.depth:60},width:function(){return this.depth<=2?214-20*this.depth:154},pageLabel:function(){return this.$store.getters["pages/pageCaptionByIndex"](this.itemData.page-1)},itemTitle:function(){return"<span>"+Object(r.screening)(Object(r.decodeHtml)(this.itemData.title)).replace(/\n/g,"</span><span>")+"</span>"},textDirection:function(){return o.a.getDirection(this.itemData.title)},isLocaleRtl:function(){return this.$store.getters["i18n/isLocaleRtl"]}},methods:{toggleOpen:function(t){this.$store.dispatch("toc/toggleState",this.itemData)},refresh:function(){this.$parent.refresh()}},updated:function(){this.$parent.refresh()},mounted:function(){this.$parent.refresh()}}},function(t,e,i){i(0).register({"down-arrow":{width:16,height:16,viewBox:"0 0 16 16",data:'<path pid="0" d="M13.998 5.003H2.009l5.983 5.99 6.006-5.99"/>'}})},function(t,e,i){"use strict";i.r(e),e.default={computed:{tocItems:function(){return this.$store.state.toc.enabled?this.$store.state.toc.children:[]},level2Items:function(){if(this.$store.state.toc.children)for(var t=0,e=this.$store.state.toc.children.length;t<e;t++)if(this.$store.state.toc.children[t].children)return!0;return!1}},methods:{updateHeight:function(){this.$children[0].refresh()}}}},,,,,function(t,e,i){"use strict";i.r(e);var s=i(23),o=i.n(s);e.default={data:function(){return{tempTimeout:null,showClear:!1,inputDir:this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"}},computed:{results:function(){return this.$store.state.search.results},progress:function(){return this.$store.getters["search/getProgress"]},preloaderVisible:function(){return 100!==this.progress&&null!==this.progress}},methods:{input:function(t){this.showClear=!!t;var e=this;this.tempTimeout&&clearTimeout(this.tempTimeout),this.tempTimeout=setTimeout((function(){e.$refs.searchInput&&(e.tempTimeout=null,e.$root.log("search.query",e.$refs.searchInput.value),e.$store.dispatch("search/setQuery",{value:e.$refs.searchInput.value}))}),500),this.setInputDir()},clear:function(){this.$refs.searchInput.value&&(this.$store.dispatch("search/setQuery",{value:""}),this.$refs.searchInput.value="",this.showClear=!1,this.focusInput()),this.setInputDir()},setInputDir:function(){if(this.$refs.searchInput.value){var t=o.a.getDirection(this.$refs.searchInput.value);this.inputDir=t?"ltr"===t?"ltr":"rtl":"ltr"}else this.inputDir=this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"}}}},,,function(t,e,i){i(0).register({"open-link":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M4 5.5C4 4.75 4.75 4 5.5 4H12v2H7c-.42 0-1 .583-1 1.005V17c0 .422.58 1 1 1h10c.42 0 1-.578 1-1v-5h2v6.5c0 .75-.75 1.5-1.5 1.5h-13c-.75 0-1.5-.75-1.5-1.75V5.5zM13.715 3H21l-.002 7.428L18.33 7.74 13.11 13 11 10.874l5.264-5.305L13.715 3z"/>'}})},,function(t,e,i){i(0).register({cancel:{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M3 4.414L10.586 12 3 19.586 4.414 21 12 13.414 19.586 21 21 19.586 13.414 12 21 4.414 19.586 3 12 10.586 4.414 3z"/>'}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(362);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(614),o=i(104),r=(i(683),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/common/flip-book/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(363);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(364);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(617),o=i(109),r=(i(620),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,"309954ce",null);n.options.__file="src/components/desktop/select-text/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(365);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";function s(t,e){return n(t)||r(t,e)||c(t,e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],s=!0,o=!1,r=void 0;try{for(var n,a=t[Symbol.iterator]();!(s=(n=a.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(h){o=!0,r=h}finally{try{s||null==a.return||a.return()}finally{if(o)throw r}}return i}}function n(t){if(Array.isArray(t))return t}function a(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=c(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,o=function(){};return{s:o,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return n=t.done,t},e:function(t){a=!0,r=t},f:function(){try{n||null==i.return||i.return()}finally{if(a)throw r}}}}function h(t){return u(t)||d(t)||c(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"==typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}function d(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return p(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}function g(t,e){this.finalTree=t,this.isRTL=e,this.fullSelectedBlocks=[],this.partSelectedBlocks=[],this.fullSelectedLines=[],this.partSelectedLines=[],this.leftSelectedLines=[],this.rightSelectedLines=[],this.fullSelectedSymbols=[]}function m(t,e,i){return t.bottom=t.top+t.height,t.right=t.left+t.width,t.top<=e.top&&t.bottom>=e.bottom&&t.left<=e.left&&t.right>=e.right?{rectCrossed:!1,fullSelected:!0}:t.top<=e.top&&t.bottom>=e.bottom&&(t.left>=e.left&&t.left<=e.right||t.right<=e.right&&t.right>=e.left)?{rectCrossed:!0,fullSelected:!0}:t.bottom<e.top||t.top>e.bottom||t.left>e.right||t.right<e.left?{rectCrossed:!1,fullSelected:!1}:(i?(s=t.top>e.top&&t.bottom>e.bottom,o=t.top<e.top&&t.bottom<e.bottom):(s=t.top<e.top&&t.bottom<e.bottom,o=t.top>e.top&&t.bottom>e.bottom),"right"===t.cursorHSide?(r=e.right>t.right&&e.left<t.right,a=e.right>t.left&&e.left<t.left):(r=e.right>t.left&&e.left<t.left,a=e.right>t.right&&e.left<t.right),"top"===t.cursorVSide?(n=e.top<t.top&&e.bottom>t.top,h=e.top<t.bottom&&e.bottom>t.bottom):(n=e.top<t.bottom&&e.bottom>t.bottom,h=e.top<t.top&&e.bottom>t.top),{activePoint:r&&n,startPoint:a&&h,leftSelected:s,rightSelected:o,rectCrossed:!0,fullSelected:!1});var s,o,r,n,a,h}function v(t,e){return t.right=t.left+t.width,t.left<e.left&&t.right>e.right||(t.left<e.left+.7*e.width&&t.right>e.right||t.left<e.left&&t.right>e.right-.7*e.width)}function b(t,e,i){var s=e.indexOf(i);t?-1===s&&e.push(i):-1!==s&&e.splice(s,1)}i.r(e),i.d(e,"SelectorText",(function(){return g})),g.prototype.selectSymbols=function(t){var e=f({},t);return this._collectSelectedBlocks(e),this._collectSelectedLines(e),this._collectSelectedSymbols(e),this._getSelectedSymbols()},g.prototype._collectSelectedBlocks=function(t){this.crossInfos=this._getCrossInfos(t);for(var e=this.crossInfos.filter((function(t){return t.startPoint||t.activePoint})).length<2,i=0,s=this.finalTree.length;i<s;i++){var o=this.crossInfos[i];null!==o&&(o.fullSelected?this.fullSelectedBlocks.push(i):o.rectCrossed&&(e||o.startPoint||o.activePoint)&&this.partSelectedBlocks.push(i))}this._simplifySelectedBlocks()},g.prototype._collectSelectedLines=function(t){var e=this;this.inverseLineSelection=!1;for(var i=2===this.partSelectedBlocks.map((function(t){return e.crossInfos[t]})).filter((function(t){return t.startPoint||t.activePoint})).length,s=0,o=this.partSelectedBlocks.length;s<o;s++)for(var r=this.partSelectedBlocks[s],n=i?this._modifyCurrentSelectRect(s,t):t,a=0,h=this.finalTree[r].lines.length;a<h;a++){var l=m(n,this.finalTree[r].lines[a],this.isRTL),c=r+"-"+a;l.fullSelected?this.fullSelectedLines.push(c):l.rectCrossed&&(this.partSelectedLines.push(c),b(l.leftSelected,this.leftSelectedLines,c),b(l.rightSelected,this.rightSelectedLines,c))}this._simplifySelectedLines(),2===this.partSelectedLines.length&&(1===this.rightSelectedLines.length&&0===this.leftSelectedLines.length?this.leftSelectedLines=this.partSelectedLines.filter((function(t){return t!==e.rightSelectedLines[0]})):1===this.leftSelectedLines.length&&0===this.rightSelectedLines.length&&(this.rightSelectedLines=this.partSelectedLines.filter((function(t){return t!==e.leftSelectedLines[0]}))))},g.prototype._collectSelectedSymbols=function(t){for(var e=0,i=this.partSelectedLines.length;e<i;e++){var s=this.partSelectedLines[e],o=s.split("-"),r=o[0],n=o[1],a=f({},t);this.isRTL?-1!==this.leftSelectedLines.indexOf(s)?(a.left=this.finalTree[r].lines[n].left,a.top>this.finalTree[r].lines[n].top&&a.top<this.finalTree[r].lines[n].bottom&&"bottom"===a.cursorVSide?"left"===a.cursorHSide?a.right=t.right:a.right=t.left:"left"===a.cursorHSide&&(a.right=this.inverseLineSelection?t.right:t.left),a.width=a.right-a.left):-1!==this.rightSelectedLines.indexOf(s)&&(a.right=this.finalTree[r].lines[n].right,a.bottom>this.finalTree[r].lines[n].top&&a.bottom<this.finalTree[r].lines[n].bottom&&"top"===a.cursorVSide?"right"===a.cursorHSide?a.left=t.left:a.left=t.right:"right"===a.cursorHSide&&(a.left=this.inverseLineSelection?t.left:t.right),a.width=a.right-a.left):-1!==this.leftSelectedLines.indexOf(s)?(a.left=this.finalTree[r].lines[n].left,a.bottom>this.finalTree[r].lines[n].top&&a.bottom<this.finalTree[r].lines[n].bottom&&"bottom"===a.cursorVSide?"right"===a.cursorHSide?a.right=t.right:a.right=t.left:"right"===a.cursorHSide&&(a.right=this.inverseLineSelection?t.right:t.left),a.width=a.right-a.left):-1!==this.rightSelectedLines.indexOf(s)&&(a.right=this.finalTree[r].lines[n].right,a.top>this.finalTree[r].lines[n].top&&a.top<this.finalTree[r].lines[n].bottom&&"top"===a.cursorVSide?"left"===a.cursorHSide?a.left=t.left:a.left=t.right:"left"===a.cursorHSide&&(a.left=this.inverseLineSelection?t.left:t.right),a.width=a.right-a.left);for(var h=0,l=this.finalTree[r].lines[n].symbols.length;h<l;h++){var c=r+"-"+n+"-"+h;b(v(a,this.finalTree[r].lines[n].symbols[h]),this.fullSelectedSymbols,c)}}},g.prototype._getSelectedSymbols=function(){for(var t=[],e=0,i=this.finalTree.length;e<i;e++)if(-1===this.fullSelectedBlocks.indexOf(e))if(-1===this.partSelectedBlocks.indexOf(e));else for(var s=0,o=this.finalTree[e].lines.length;s<o;s++)if(-1===this.fullSelectedLines.indexOf(e+"-"+s)){if(-1!==this.partSelectedLines.indexOf(e+"-"+s)){for(var r=[],n=0,a=this.finalTree[e].lines[s].symbols.length;n<a;n++)-1!==this.fullSelectedSymbols.indexOf(e+"-"+s+"-"+n)&&r.push(this.finalTree[e].lines[s].symbols[n]);r.length>0&&(r.push(this._getLineBreak(r)),t.push.apply(t,r))}}else{var l=this.finalTree[e].lines[s].symbols;t.push.apply(t,h(l).concat([this._getLineBreak(l)]))}else t.push.apply(t,h(this._getSymbolsFromBlock(e)));return this._removeRedundantLineBreaks(t)},g.prototype._removeRedundantLineBreaks=function(t){return 0===t.length||("\n"===t[0].word&&t.splice(0,1),"\n"===t[t.length-1].word&&t.pop()),t},g.prototype._modifyCurrentSelectRect=function(t,e){var i=this,s=this,o=this.partSelectedBlocks[t],r=this.crossInfos[this.partSelectedBlocks[t]],n=f({},e),a=function(t){n.height=i.finalTree[o].top+i.finalTree[o].height-n.top+2,n.top=e.top,t||(n.top+=e.height,s.inverseLineSelection=!0)},h=function(t){n.top=i.finalTree[o].top,n.height=e.height+e.top-i.finalTree[o].top,t||(n.height-=e.height,s.inverseLineSelection=!0)};if(0===t)r.startPoint?a("bottom"===n.cursorVSide):a("bottom"!==n.cursorVSide);else if(1===t){if(r.activePoint)h("bottom"===n.cursorVSide);else h("bottom"!==n.cursorVSide)}return n},g.prototype._simplifySelectedBlocks=function(){var t=this;this.partSelectedBlocks.length>2&&(this.partSelectedBlocks=[Math.min.apply(Math,h(this.partSelectedBlocks)),Math.max.apply(Math,h(this.partSelectedBlocks))]);var e=[].concat(h(this.partSelectedBlocks),h(this.fullSelectedBlocks));if(e.length>0){for(var i=Math.min.apply(Math,h(e)),s=Math.max.apply(Math,h(e)),o=[];i<=s;)o.push(i),i++;this.fullSelectedBlocks=o.filter((function(e){return-1===t.partSelectedBlocks.indexOf(e)}))}},g.prototype._simplifySelectedLines=function(){for(var t=[].concat(h(this.partSelectedLines),h(this.fullSelectedLines)),e=new Map,i=[],o=0,r=t.length;o<r;o++){var n=t[o].split("-");e.get(n[0])||e.set(n[0],[]);var l=e.get(n[0]);l.push(n[1]),e.set(n[0],l)}var c,d=a(e);try{for(d.s();!(c=d.n()).done;){var u=s(c.value,2),p=u[0],f=u[1],g=Math.min.apply(Math,h(f)),m=Math.max.apply(Math,h(f));for(-1!==this.partSelectedLines.indexOf(p+"-"+g)&&g++,-1!==this.partSelectedLines.indexOf(p+"-"+m)&&m--;g<=m;)i.push(p+"-"+g),g++}}catch(v){d.e(v)}finally{d.f()}this.fullSelectedLines=i},g.prototype._getSymbolsFromBlock=function(t){for(var e=[],i=this.finalTree[t].lines||[],s=0,o=i.length;s<o;s++){var r=i[s].symbols;e.push.apply(e,h(r).concat([this._getLineBreak(r)]))}return e},g.prototype._getLineBreak=function(t,e){var i=.01,s=e?t[0]:t[t.length-1],o={left:e?s.left-i:s.left+s.width,top:s.top,height:s.height,angle:s.angle,width:i,word:"\n"};return o.right=o.left+o.width,o},g.prototype._getCrossInfos=function(t){for(var e=[],i=0,s=this.finalTree.length;i<s;i++){var o=this.finalTree[i];e[i]=o.onlyForSearch?null:m(t,o,this.isRTL)}return e}},function(t,e,i){"use strict";i.r(e),i.d(e,"UnicodeBiDi",(function(){return l}));var s,o,r,n,a=i(3);try{i.e(12).then(i.bind(null,851)).then((function(t){(s=t).memory.grow(80),r=new TextEncoder("utf8"),n=new TextDecoder("utf8"),o=!0})).catch((function(t){console.log("fribidi wasn't initialized")}))}catch(d){console.log("fribidi wasn't initialized")}var h="‏";function l(){}function c(t,e){var i=t.map((function(t){return t.rtl})).filter((function(t){return!Object(a.isUndefined)(t)}));return 0===i.length?e:i[0]}l.prototype.getSelectedText=function(t,e){for(var i=this._getLines(t),s="",r=o?this._processLineFribidi:this._processLineSimple,n=0,a=i.length;n<a;n++){var h=i[n].some((function(t){return t.rtl}))||e,l=i[n].map((function(t){return t.word})),c=h?r.call(this,i[n],e):l.join("");s+=this._processBrackets(c)+(n<a-1?"\n":"")}return s},l.prototype._processLineFribidi=function(t,e){var i=t.map((function(t){return t.word})),o=t.some((function(t){return t.rtl}))?h:"",a=o+i.join("")+o,l=r.encode(a),c=new Uint8Array(s.memory.buffer),d=s.calloc(l.byteLength,1);c.set(l,d);var u=s.calloc(4*a.length,4),p=s.fribidi_utf8_to_unicode(d,l.byteLength,u),f=s.calloc(1,4),g=(e?1:0)|parseInt("10","16")|parseInt("100","16");c.set([g],f);var m=s.calloc(p,4),v=s.calloc(p,4),b=s.calloc(p,1);s.fribidi_get_bidi_types(u,p,m),s.fribidi_get_bracket_types(u,p,m,v);s.fribidi_get_par_embedding_levels_ex(m,v,p,f,b),c.slice(b,b+p);var S=3|parseInt("40000","16");s.fribidi_reorder_line(S,m,p,0,f,b,u,null),s.fribidi_shape(S,b,p,null,u);var w=s.calloc(2*l.byteLength,1);s.fribidi_unicode_to_utf8(u,p,w);var y=c.slice(w,w+l.byteLength),k=n.decode(y).replace(/\u200f/g,"");return s.free(u),s.free(d),s.free(w),s.free(f),s.free(m),s.free(v),s.free(b),k},l.prototype._processLineSimple=function(t){for(var e=this._getDirectionFragments(t),i="",s=0;s<e.length;s++){i=(c(e[s],!1)?e[s].reverse().map((function(t){return t.word})).join(""):e[s].map((function(t){return t.word})).join("")).trim()+(i.length>0?" ":"")+i}return i},l.prototype._processBrackets=function(t){for(var e=[{char:"(",open:!0,reversed:")"},{char:")",open:!1,reversed:"("},{char:"[",open:!0,reversed:"]"},{char:"]",open:!1,reversed:"["},{char:"{",open:!0,reversed:"}"},{char:"}",open:!1,reversed:"{"}],i=t,s=0;s<e.length;s++)for(var o=i.indexOf(e[s].char);o>=0;)o=(i=this._processBracket(i,o,e[s].open,e[s].reversed)).indexOf(e[s].char,o+1);return i},l.prototype._processBracket=function(t,e,i,s){var o=function(t,e){return e?/[\s,:;\\.\\!\\?]/.test(t):/[\s,:;]/.test(t)},r=t;return i?(e===r.length-1||o(r[e+1],!0))&&e>0&&!o(r[e-1],!1)&&(r=(e>0?r.substr(0,e):"")+s+(e<r.length-1?r.substr(e+1):"")):(0===e||o(r[e-1],!0))&&e<r.length-1&&!o(r[e+1],!1)&&(r=(e>0?r.substr(0,e):"")+s+(e<r.length-1?r.substr(e+1):"")),r},l.prototype._getLines=function(t){var e;return t.reduce((function(t,i){if("\n"===i.word)return e=!0,t;if(0===t.length)t.push([i]);else{var s=t[t.length-1];e?t.push([i]):s.push(i)}return e=!1,t}),[])},l.prototype._getDirectionFragments=function(t){return t.reduce((function(t,e){if(0===t.length)return t.push([e]),t;var i=t[t.length-1],s=c(i);return" "===e.word||Object(a.isUndefined)(e.rtl)||Object(a.isUndefined)(s)||e.rtl===s?i.push(e):t.push([e]),t}),[])}},function(t,e,i){"use strict";i.r(e);var s=i(111),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(622),o=i(112),r=(i(623),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,"1fe49e78",null);n.options.__file="src/components/mobile/select-text/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(367);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(114),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(625),o=i(115),r=(i(627),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,"5cdac2b9",null);n.options.__file="src/components/common/note/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(368);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){i(0).register({"note-content":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M5.6 7.673c-.96 0-1.6-.534-1.6-1.335 0-.8.64-1.334 1.6-1.334h12.8c.96 0 1.6.534 1.6 1.334 0 .801-.64 1.335-1.6 1.335H5.6zm7.543 6.673h-7.62C4.61 14.346 4 13.812 4 13.012c0-.801.61-1.335 1.524-1.335h7.619c.914 0 1.524.534 1.524 1.335 0 .8-.61 1.334-1.524 1.334zM0 2v15.902h7.5L12 24l4.5-6.098H24V2H0z"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(117),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(629),o=i(118),r=(i(630),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,"3394bb30",null);n.options.__file="src/components/desktop/flip-me/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(370);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(121),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(122),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(633),o=i(42),r=function(t){this.bookState=new n(t),this.book=new s.default(t.container,t.bookSize,this.bookState,t.parentVm,t.contentCreator,t.initDomEvents),this.notForPagerEventTrigger=!1,this.options=t,this.book.on("flip:toRight",this.flipToRight,this),this.book.on("flip:toLeft",this.flipToLeft,this),this.book.on("render:start",this.renderStart,this),this.book.on("render:finish",this.renderFinish,this),this.book.on("flip:finished",this.flipFinished,this),this.bookState.on("state:updated",this.stateUpdated,this),this.bookState.on("change:stripesWidth",this.changeStripesWidth,this),this.on("go:toRight",this.goToRight),this.on("go:toLeft",this.goToLeft),this.on("go:toPage",this.goToPage)};r.prototype=new o.default,r.prototype.constructor=r,r.prototype.destructor=function(){this.off("go:toRight",this.goToRight),this.off("go:toLeft",this.goToLeft),this.off("go:toPage",this.goToPage),this.book.off("flip:toRight",this.flipToRight,this),this.book.off("flip:toLeft",this.flipToLeft,this),this.book.off("render:start",this.renderStart,this),this.book.off("render:finish",this.renderFinish,this),this.book.off("flip:finished",this.flipFinished,this),this.book.destructor(),this.bookState.off("state:updated",this.stateUpdated,this),this.bookState.off("change:stripesWidth",this.changeStripesWidth,this),this.bookState.destructor()},r.prototype.flipToRight=function(){this.notForPagerEventTrigger?(this.notForPagerEventTrigger=!1,this.book.shiftPages(),this.options.state.dispatch("pager/unfreeze",{target:"flip-book"})):(this.options.state.dispatch("pager/unfreeze",{target:"flip-book"}),this.options.state.dispatch(this.bookState.rtl?"pager/goForward":"pager/goBackward",{target:"flipComponent"}),this.bookState._updateState(),this.book.shiftPages())},r.prototype.flipToLeft=function(){this.notForPagerEventTrigger?(this.notForPagerEventTrigger=!1,this.book.shiftPages(),this.options.state.dispatch("pager/unfreeze",{target:"flip-book"})):(this.options.state.dispatch("pager/unfreeze",{target:"flip-book"}),this.options.state.dispatch(this.bookState.rtl?"pager/goBackward":"pager/goForward",{target:"flipComponent"}),this.bookState._updateState(),this.book.shiftPages())},r.prototype.renderStart=function(t){this.options.state.dispatch("workspace/setAnimationProgress"),this.trigger("render:start",t)},r.prototype.renderFinish=function(){this.options.state.dispatch("workspace/unsetAnimationProgress"),this.options.parentVm.$emit("render:finish"),this.trigger("render:finish")},r.prototype.flipFinished=function(){this.trigger("flip:finished")},r.prototype.stateUpdated=function(t,e){this.trigger("go:"+t,e)},r.prototype.changeStripesWidth=function(t){this.options.parentVm.stripesWidth=t},r.prototype.goToRight=function(t){"flipComponent"!==t&&"orientation"!==t&&(this.notForPagerEventTrigger=!0,this.bookState.rtl?this.book.flipToLeft(!1,!1,this.bookState.getState()):this.book.flipToRight(!1,!1,this.bookState.getState()))},r.prototype.goToLeft=function(t){"flipComponent"!==t&&"orientation"!==t&&(this.notForPagerEventTrigger=!0,this.bookState.rtl?this.book.flipToRight(!1,!1,this.bookState.getState()):this.book.flipToLeft(!1,!1,this.bookState.getState()))},r.prototype.goToPage=function(t){"flipComponent"!==t&&"orientation"!==t&&("mobile"!==this.options.version||"toc"!==t&&"thumbnails"!==t&&"search"!==t&&"notes"!==t?(this.options.state.dispatch("pager/freeze",{target:"flip-book"}),this.notForPagerEventTrigger=!0,this.book.flipToPager(this.bookState.getState())):this.bookState.trigger("reset:wrappers",!0))},r.prototype.resizeBook=function(t){this.book.setBookSize(t)},r.prototype.block=function(t){this.book.block(t)},r.prototype.unblock=function(){this.book.unblock()},r.prototype.resetBook=function(){this.book.resetWrappers()},r.prototype.setRtl=function(t){this.bookState.set("rtl",t)},r.prototype.setHardcover=function(t){this.bookState.set("hardcover",t)},r.prototype.setThickness=function(t){this.bookState.set("thickness",t)},r.prototype.setHardcoverColor=function(t){this.bookState.set("hardcoverColor",t)},r.prototype.setSingleMode=function(t){this.bookState.set("singleMode",t)},r.prototype.updateState=function(t,e){this.bookState._updateState(t,e)},r.prototype.setZoom=function(t){this.bookState.set("isZoomed",t)};var n=function(t){this.state=t.state,this.version=t.version,this.hardcover=this.state.getters["book/hasHardcover"],this.hardcoverColor=this.state.state.book.hardcoverColor,this.rtl=this.state.state.book.rightToLeft,this.isZoomed=!1,this.stripesWidth=0,this.left={},this.right={},this._updateState(),this.on("change:singleMode",this.resetWrappers),this.on("change:rtl",this.resetWrappers),this.on("change:hardcover",this.resetWrappers),this.on("change:hardcoverColor",this.resetStyles),this.on("change:thickness",this.resetStyles),this.on("change:isZoomed",this.resetStyles)};n.prototype=new o.default,n.prototype.constructor=n,n.prototype.destructor=function(){this.off("change:singleMode",this.resetWrappers),this.off("change:rtl",this.resetWrappers),this.off("change:hardcover",this.resetWrappers),this.off("change:hardcoverColor",this.resetStyles),this.off("change:thickness",this.resetStyles),this.off("change:isZoomed",this.resetStyles)},n.prototype.resetWrappers=function(){this._updateState(),this.trigger("reset:wrappers")},n.prototype.resetStyles=function(){this.trigger("reset:styles")},n.prototype.getState=function(){return{leftSheet:this.getLeftSheet(),rightSheet:this.getRightSheet(),bottomLeftSheet:this.getBottomLeftSheet(),bottomRightSheet:this.getBottomRightSheet()}},n.prototype._updateState=function(t,e){t=t||"",this.pagesCount=this.state.getters["pages/pagesCount"],this.singleMode=this.state.state.pager.singleMode,this.thickness=this.state.state.book.thickness;var i=this.state.getters["pager/state"];if(this.singleMode){var s=this.state.getters["pages/pageIndexById"](i.rightPage);if(i.rightPage===i.leftPage&&s++,this.currentRight=2*s,this.currentLeft=this.currentRight-1,this.pagesCount=2*this.state.getters["pages/pagesCount"]-1,this.state.state.book.rightToLeft){var o=this.currentRight;this.currentRight=this.pagesCount-this.currentLeft-1,this.currentLeft=this.pagesCount-o-1}}else if(this.currentLeft=this.state.getters["pages/pageIndexById"](i.leftPage),this.currentRight=this.currentLeft+1,this.state.state.book.rightToLeft){var r=this.currentRight;this.currentRight=this.pagesCount-this.currentLeft-1,this.currentLeft=this.pagesCount-r-1}this.currentLeft=this.currentLeft<0?null:this.currentLeft,this.currentRight=this.currentRight>=this.pagesCount?null:this.currentRight,this.right.isFirst=0===this.currentRight,this.right.isLast=this.currentRight===this.pagesCount-1,this.right.isNull=null===this.currentRight,this.right.isLastSheet=this.currentRight===this.pagesCount-2,this.left.isFirst=0===this.currentLeft,this.left.isLast=this.currentLeft===this.pagesCount-1,this.left.isNull=null===this.currentLeft,this.left.isFirstSheet=1===this.currentLeft,""!==t&&this.trigger("state:updated",t,e)},n.prototype.isFirstPage=function(t){return 0===t},n.prototype.isLastPage=function(t){return t===this.pagesCount-1},n.prototype.isFirstSheet=function(t){return 1===t},n.prototype.isLastSheet=function(t){return t===this.pagesCount-2},n.prototype.isNullPage=function(t){return t<0||t>this.pagesCount-1||null===t},n.prototype.getRightSheet=function(){return{first:null===this.currentRight?null:this.currentRight,second:null===this.currentRight?null:this.currentRight+1}},n.prototype.getLeftSheet=function(){return{first:null===this.currentLeft?null:this.currentLeft-1,second:null===this.currentLeft?null:this.currentLeft}},n.prototype.getBottomRightSheet=function(){return{first:null===this.currentRight?null:this.currentRight+2,second:null===this.currentRight?null:this.currentRight+3}},n.prototype.getBottomLeftSheet=function(){return{first:null===this.currentLeft?null:this.currentLeft-3,second:null===this.currentLeft?null:this.currentLeft-2}},e.default=r},function(t,e,i){"use strict";i.r(e);var s=i(634),o=i(60),r=i(42),n=i(637),a=i(120),h=i.n(a),l=i(309),c=i.n(l),d=i(33),u=i(15),p=i(372),f=i(8),g=1.03;
E7TT.q7TT=q7TT;E7TT.X1=window;;U3aa(E7TT.X1);w6bb(E7TT.X1);E7TT.E6w=(function(){var C1w=2;for(;C1w !== 1;){switch(C1w){case 2:return {d4:(function(i1){var D1w=2;for(;D1w !== 10;){switch(D1w){case 2:var J1=function(t1){var u1w=2;for(;u1w !== 13;){switch(u1w){case 1:var h1=0;u1w=5;break;case 2:var G1=[];u1w=1;break;case 8:A1=G1.G3aa(function(){var v1w=2;for(;v1w !== 1;){switch(v1w){case 2:return 0.5 - W3aa.f3aa();break;}}}).t3aa('');W1=E7TT[A1];u1w=6;break;case 5:u1w=h1 < t1.length?4:9;break;case 14:return W1;break;case 3:h1++;u1w=5;break;case 4:G1.J3aa(a3aa.h3aa(t1[h1] + 88));u1w=3;break;case 9:var A1,W1;u1w=8;break;case 6:u1w=!W1?8:14;break;}}};var D4='',n4=A3aa(J1([-4,25,-33,-4])());D1w=5;break;case 3:D1w=M4 === i1.length?9:8;break;case 9:M4=0;D1w=8;break;case 4:D1w=m4 < n4.length?3:6;break;case 5:var m4=0,M4=0;D1w=4;break;case 8:D4+=a3aa.h3aa(n4.s3aa(m4) ^ i1.s3aa(M4));D1w=7;break;case 7:(m4++,M4++);D1w=4;break;case 6:D4=D4.y3aa('`');var L4=0;var q1=function(s1){var x1w=2;for(;x1w !== 20;){switch(x1w){case 2:x1w=L4 === 0 && s1 === 76?1:4;break;case 11:D4.X3aa.k3aa(D4,D4.v3aa(-4,4).v3aa(0,2));x1w=5;break;case 4:x1w=L4 === 1 && s1 === 108?3:9;break;case 13:D4.X3aa.k3aa(D4,D4.v3aa(-10,10).v3aa(0,8));x1w=5;break;case 6:D4.X3aa.k3aa(D4,D4.v3aa(-8,8).v3aa(0,6));x1w=5;break;case 14:x1w=L4 === 4 && s1 === 102?13:12;break;case 7:x1w=L4 === 3 && s1 === 45?6:14;break;case 8:D4.X3aa.k3aa(D4,D4.v3aa(-7,7).v3aa(0,6));x1w=5;break;case 3:D4.X3aa.k3aa(D4,D4.v3aa(-8,8).v3aa(0,7));x1w=5;break;case 1:D4.X3aa.k3aa(D4,D4.v3aa(-6,6).v3aa(0,5));x1w=5;break;case 9:x1w=L4 === 2 && s1 === 95?8:7;break;case 12:x1w=L4 === 5 && s1 === 194?11:10;break;case 5:return (L4++,D4[s1]);break;case 10:q1=a1;x1w=5;break;}}};var a1=function(y1){var U6w=2;for(;U6w !== 1;){switch(U6w){case 2:return D4[y1];break;}}};return q1;break;}}})('@TVS]V')};break;}}})();E7TT.Z6w=function(){return typeof E7TT.E6w.d4 === 'function'?E7TT.E6w.d4.apply(E7TT.E6w,arguments):E7TT.E6w.d4;};E7TT.k6w=function(){return typeof E7TT.E6w.d4 === 'function'?E7TT.E6w.d4.apply(E7TT.E6w,arguments):E7TT.E6w.d4;};E7TT.o5s=function(){return typeof E7TT.k5s.r7b === 'function'?E7TT.k5s.r7b.apply(E7TT.k5s,arguments):E7TT.k5s.r7b;};E7TT.s4Z=(function(){var M4Z=[arguments];M4Z[8]=2;for(;M4Z[8] !== 1;){switch(M4Z[8]){case 2:return {R4Z:(function(){var f4Z=[arguments];f4Z[2]=2;for(;f4Z[2] !== 11;){switch(f4Z[2]){case 9:f4Z[5]=90;f4Z[2]=8;break;case 5:f4Z[2]=61 !== E7TT.Z6w(108)?4:3;break;case 2:f4Z[2]=E7TT.Z6w(76) >= 79?1:5;break;case 6:f4Z[2]=E7TT.k6w(102) <= 35?14:13;break;case 4:f4Z[8]=-3;f4Z[2]=3;break;case 3:f4Z[2]=57 === E7TT.Z6w(95)?9:8;break;case 1:f4Z[4]=55;f4Z[2]=5;break;case 13:f4Z[2]=9 <= E7TT.Z6w(194)?12:11;break;case 12:f4Z[3]=59;f4Z[2]=11;break;case 14:f4Z[6]=59;f4Z[2]=13;break;case 7:f4Z[1]=47;f4Z[2]=6;break;case 8:f4Z[2]=92 === E7TT.k6w(45)?7:6;break;}}})()};break;}}})();function w6bb(w0s){function z8s(p0s){var E0s=2;for(;E0s !== 5;){switch(E0s){case 2:var V0s=[arguments];return V0s[0][0].Array;break;}}}function R8s(t0s){var N0s=2;for(;N0s !== 5;){switch(N0s){case 2:var f0s=[arguments];return f0s[0][0].Function;break;}}}var q0s=2;for(;q0s !== 75;){switch(q0s){case 12:K0s[2]="al";K0s[8]="";K0s[9]="D";K0s[8]="u";K0s[5]="";K0s[5]="6b";q0s=17;break;case 38:K0s[34]+=K0s[28];K0s[31]=K0s[99];K0s[31]+=K0s[5];K0s[31]+=K0s[53];q0s=53;break;case 56:G8s(u8s,K0s[94],K0s[39],K0s[67]);q0s=55;break;case 64:K0s[62]+=K0s[5];K0s[62]+=K0s[53];K0s[71]=K0s[6];K0s[71]+=K0s[5];K0s[71]+=K0s[53];q0s=59;break;case 55:G8s(u8s,K0s[14],K0s[39],K0s[31]);q0s=77;break;case 59:var G8s=function(v0s,Y0s,r0s,A0s){var T0s=2;for(;T0s !== 5;){switch(T0s){case 2:var i0s=[arguments];m8s(K0s[0][0],i0s[0][0],i0s[0][1],i0s[0][2],i0s[0][3]);T0s=5;break;}}};q0s=58;break;case 58:G8s(a8s,"test",K0s[76],K0s[71]);q0s=57;break;case 22:K0s[17]="_abstrac";K0s[55]="_";K0s[59]="6";K0s[72]="bb";q0s=33;break;case 48:K0s[67]+=K0s[72];K0s[94]=K0s[4];K0s[94]+=K0s[3];K0s[94]+=K0s[1];K0s[62]=K0s[7];q0s=64;break;case 17:K0s[28]="";K0s[53]="b";K0s[99]="R";K0s[28]="t";q0s=26;break;case 3:K0s[3]="m";K0s[7]="H";K0s[4]="";K0s[6]="V";K0s[4]="__opti";K0s[2]="";K0s[2]="";q0s=12;break;case 26:K0s[22]="";K0s[47]="__resid";K0s[22]="r";K0s[59]="";q0s=22;break;case 76:G8s(R8s,"apply",K0s[76],K0s[56]);q0s=75;break;case 2:var K0s=[arguments];K0s[1]="";K0s[1]="ize";K0s[3]="";q0s=3;break;case 29:K0s[56]=K0s[36];K0s[56]+=K0s[59];K0s[56]+=K0s[72];K0s[97]=K0s[22];q0s=42;break;case 57:G8s(z8s,"push",K0s[76],K0s[62]);q0s=56;break;case 42:K0s[97]+=K0s[59];K0s[97]+=K0s[72];K0s[34]=K0s[55];K0s[34]+=K0s[17];q0s=38;break;case 77:G8s(u8s,K0s[34],K0s[39],K0s[97]);q0s=76;break;case 33:K0s[76]=2;K0s[36]="T";K0s[76]=1;K0s[39]=0;q0s=29;break;case 53:K0s[14]=K0s[47];K0s[14]+=K0s[8];K0s[14]+=K0s[2];K0s[67]=K0s[9];K0s[67]+=K0s[59];q0s=48;break;}}function a8s(c0s){var J0s=2;for(;J0s !== 5;){switch(J0s){case 2:var x0s=[arguments];return x0s[0][0].RegExp;break;}}}function m8s(h0s,O0s,Q0s,C0s,M0s){var H0s=2;for(;H0s !== 6;){switch(H0s){case 2:var e0s=[arguments];e0s[1]="";e0s[1]="ty";e0s[9]="";e0s[9]="roper";H0s=9;break;case 9:e0s[5]="";e0s[5]="defineP";try{var Z0s=2;for(;Z0s !== 8;){switch(Z0s){case 2:e0s[8]={};e0s[7]=(1,e0s[0][1])(e0s[0][0]);e0s[2]=[e0s[7],e0s[7].prototype][e0s[0][3]];e0s[8].value=e0s[2][e0s[0][2]];try{var S0s=2;for(;S0s !== 3;){switch(S0s){case 2:e0s[3]=e0s[5];e0s[3]+=e0s[9];e0s[3]+=e0s[1];e0s[0][0].Object[e0s[3]](e0s[2],e0s[0][4],e0s[8]);S0s=3;break;}}}catch(h8s){}Z0s=9;break;case 9:e0s[2][e0s[0][4]]=e0s[8].value;Z0s=8;break;}}}catch(O8s){}H0s=6;break;}}}function u8s(y0s){var j0s=2;for(;j0s !== 5;){switch(j0s){case 2:var I0s=[arguments];return I0s[0][0];break;}}}}E7TT.b5s=function(){return typeof E7TT.k5s.r7b === 'function'?E7TT.k5s.r7b.apply(E7TT.k5s,arguments):E7TT.k5s.r7b;};E7TT.u4Z=function(){return typeof E7TT.s4Z.R4Z === 'function'?E7TT.s4Z.R4Z.apply(E7TT.s4Z,arguments):E7TT.s4Z.R4Z;};E7TT.k5s=(function(){var P5s=2;for(;P5s !== 9;){switch(P5s){case 2:var B0s=[arguments];B0s[5]=undefined;B0s[3]={};B0s[3].r7b=function(){var X5s=2;for(;X5s !== 145;){switch(X5s){case 151:l0s[19]++;X5s=123;break;case 11:l0s[2]={};l0s[2].W4Z=['R0Z'];l0s[2].F4Z=function(){var p8b=function(){return ("01").substr(1);};var d8b=!(/\u0030/).V6bb(p8b + []);return d8b;};l0s[1]=l0s[2];X5s=18;break;case 113:l0s[3].H6bb(l0s[13]);l0s[3].H6bb(l0s[74]);l0s[3].H6bb(l0s[65]);X5s=110;break;case 105:l0s[3].H6bb(l0s[37]);l0s[42]=[];l0s[56]='J4Z';l0s[28]='r4Z';l0s[81]='W4Z';l0s[58]='L4Z';X5s=130;break;case 77:l0s[87].W4Z=['E4Z'];l0s[87].F4Z=function(){var x2b=function(){return decodeURI('%25');};var M2b=!(/\x32\x35/).V6bb(x2b + []);return M2b;};X5s=75;break;case 72:l0s[14].F4Z=function(){var s2b=function(){return parseInt("0xff");};var F2b=!(/\u0078/).V6bb(s2b + []);return F2b;};l0s[47]=l0s[14];l0s[50]={};l0s[50].W4Z=['d0Z'];l0s[50].F4Z=function(){var J2b=function(){if(false){console.log(1);}};var P2b=!(/\x31/).V6bb(J2b + []);return P2b;};l0s[25]=l0s[50];l0s[68]={};X5s=90;break;case 148:X5s=100?148:147;break;case 8:l0s[9].F4Z=function(){var n8b=function(){return ('aa').charCodeAt(1);};var W8b=(/\x39\u0037/).V6bb(n8b + []);return W8b;};l0s[5]=l0s[9];l0s[7]={};X5s=14;break;case 31:l0s[24]=l0s[31];l0s[23]={};l0s[23].W4Z=['d0Z'];l0s[23].F4Z=function(){var j8b=function(){var Q8b;switch(Q8b){case 0:break;}};var i8b=!(/\x30/).V6bb(j8b + []);return i8b;};l0s[76]=l0s[23];l0s[29]={};X5s=42;break;case 5:return 15;break;case 130:l0s[55]='F4Z';l0s[79]='N4Z';X5s=128;break;case 97:l0s[3].H6bb(l0s[25]);l0s[3].H6bb(l0s[76]);l0s[3].H6bb(l0s[16]);l0s[3].H6bb(l0s[60]);l0s[3].H6bb(l0s[4]);l0s[3].H6bb(l0s[95]);X5s=91;break;case 103:l0s[16]=l0s[90];l0s[67]={};l0s[67].W4Z=['R0Z'];l0s[67].F4Z=function(){var c2b=function(){return [0,1,2].join('@');};var A2b=(/\x40[0-9]/).V6bb(c2b + []);return A2b;};X5s=99;break;case 52:l0s[43].F4Z=function(){var w8b=typeof D6bb === 'function';return w8b;};l0s[74]=l0s[43];l0s[46]={};X5s=49;break;case 91:l0s[3].H6bb(l0s[51]);l0s[3].H6bb(l0s[35]);l0s[3].H6bb(l0s[64]);l0s[3].H6bb(l0s[54]);X5s=116;break;case 64:l0s[64]=l0s[36];l0s[80]={};l0s[80].W4Z=['d0Z'];l0s[80].F4Z=function(){var f2b=function(L2b,G2b,E2b){return ! !L2b?G2b:E2b;};var I2b=!(/\u0021/).V6bb(f2b + []);return I2b;};l0s[35]=l0s[80];X5s=59;break;case 18:l0s[6]={};l0s[6].W4Z=['R0Z'];l0s[6].F4Z=function(){var l8b=function(){if(typeof [] !== 'object')var H8b=/aa/;};var V8b=!(/\u0061\x61/).V6bb(l8b + []);return V8b;};X5s=15;break;case 150:l0s[11]++;X5s=127;break;case 75:l0s[54]=l0s[87];l0s[14]={};l0s[14].W4Z=['R0Z'];X5s=72;break;case 14:l0s[7].W4Z=['r0Z'];l0s[7].F4Z=function(){var g8b=false;var e8b=[];try{for(var m8b in console){e8b.H6bb(m8b);}g8b=e8b.length === 0;}catch(A8b){}var c8b=g8b;return c8b;};l0s[4]=l0s[7];X5s=11;break;case 80:l0s[95]=l0s[52];l0s[90]={};l0s[90].W4Z=['r0Z'];l0s[90].F4Z=function(){var m2b=typeof r6bb === 'function';return m2b;};X5s=103;break;case 90:l0s[68].W4Z=['d0Z'];l0s[68].F4Z=function(){var v2b=function(U2b,y2b,u2b,n2b){return !U2b && !y2b && !u2b && !n2b;};var C2b=(/\u007c\u007c/).V6bb(v2b + []);return C2b;};l0s[18]=l0s[68];X5s=87;break;case 2:var l0s=[arguments];X5s=1;break;case 128:l0s[11]=0;X5s=127;break;case 4:l0s[3]=[];l0s[9]={};l0s[9].W4Z=['E4Z'];X5s=8;break;case 149:X5s=(function(d5s){var U5s=2;for(;U5s !== 22;){switch(U5s){case 14:U5s=typeof F0s[9][F0s[7][l0s[79]]] === 'undefined'?13:11;break;case 11:F0s[9][F0s[7][l0s[79]]].t+=true;U5s=10;break;case 12:F0s[6].H6bb(F0s[7][l0s[79]]);U5s=11;break;case 4:F0s[9]={};F0s[6]=[];F0s[3]=0;U5s=8;break;case 16:U5s=F0s[3] < F0s[6].length?15:23;break;case 2:var F0s=[arguments];U5s=1;break;case 25:F0s[2]=true;U5s=24;break;case 5:return;break;case 26:U5s=F0s[8] >= 0.5?25:24;break;case 13:F0s[9][F0s[7][l0s[79]]]=(function(){var n5s=2;for(;n5s !== 9;){switch(n5s){case 2:var g0s=[arguments];g0s[1]={};g0s[1].h=0;g0s[1].t=0;n5s=3;break;case 3:return g0s[1];break;}}}).T6bb(this,arguments);U5s=12;break;case 1:U5s=F0s[0][0].length === 0?5:4;break;case 19:F0s[3]++;U5s=7;break;case 18:F0s[2]=false;U5s=17;break;case 23:return F0s[2];break;case 7:U5s=F0s[3] < F0s[0][0].length?6:18;break;case 6:F0s[7]=F0s[0][0][F0s[3]];U5s=14;break;case 17:F0s[3]=0;U5s=16;break;case 20:F0s[9][F0s[7][l0s[79]]].h+=true;U5s=19;break;case 24:F0s[3]++;U5s=16;break;case 15:F0s[5]=F0s[6][F0s[3]];F0s[8]=F0s[9][F0s[5]].h / F0s[9][F0s[5]].t;U5s=26;break;case 8:F0s[3]=0;U5s=7;break;case 10:U5s=F0s[7][l0s[58]] === l0s[56]?20:19;break;}}})(l0s[42])?148:147;break;case 49:l0s[46].W4Z=['d0Z'];l0s[46].F4Z=function(){var X8b=function(){debugger;};var k8b=!(/\x64\x65\u0062\x75\u0067\u0067\x65\u0072/).V6bb(X8b + []);return k8b;};l0s[60]=l0s[46];X5s=46;break;case 22:l0s[73].W4Z=['R0Z','d0Z'];l0s[73].F4Z=function(){var r8b=function(){return 1024 * 1024;};var T8b=(/[5-8]/).V6bb(r8b + []);return T8b;};l0s[51]=l0s[73];l0s[31]={};l0s[31].W4Z=['R0Z','E4Z'];l0s[31].F4Z=function(){var Z8b=function(){return (![] + [])[+ ! +[]];};var b8b=(/\u0061/).V6bb(Z8b + []);return b8b;};X5s=31;break;case 123:X5s=l0s[19] < l0s[91][l0s[81]].length?122:150;break;case 127:X5s=l0s[11] < l0s[3].length?126:149;break;case 126:l0s[91]=l0s[3][l0s[11]];try{l0s[33]=l0s[91][l0s[55]]()?l0s[56]:l0s[28];}catch(p2b){l0s[33]=l0s[28];}X5s=124;break;case 110:l0s[3].H6bb(l0s[5]);l0s[3].H6bb(l0s[8]);l0s[3].H6bb(l0s[40]);X5s=107;break;case 87:l0s[83]={};l0s[83].W4Z=['r0Z'];l0s[83].F4Z=function(){var W2b=typeof R6bb === 'function';return W2b;};l0s[13]=l0s[83];l0s[52]={};l0s[52].W4Z=['E4Z'];l0s[52].F4Z=function(){var g2b=function(){return ('a').codePointAt(0);};var e2b=(/\u0039\u0037/).V6bb(g2b + []);return e2b;};X5s=80;break;case 1:X5s=B0s[5]?5:4;break;case 124:l0s[19]=0;X5s=123;break;case 15:l0s[8]=l0s[6];l0s[78]={};l0s[78].W4Z=['E4Z'];l0s[78].F4Z=function(){var D8b=function(){return ('a').anchor('b');};var R8b=(/(\x3c|\x3e)/).V6bb(D8b + []);return R8b;};l0s[85]=l0s[78];l0s[73]={};X5s=22;break;case 152:l0s[42].H6bb(l0s[84]);X5s=151;break;case 46:l0s[36]={};l0s[36].W4Z=['r0Z'];l0s[36].F4Z=function(){function t2b(z2b,q2b){return z2b + q2b;};var N2b=(/\u006f\x6e[\f\u180e\u2028\r\ufeff\u202f\u00a0\u1680\v\u2000-\u200a\u2029\t\n\u205f\u3000 ]{0,}\x28/).V6bb(t2b + []);return N2b;};X5s=64;break;case 40:l0s[37]=l0s[29];l0s[12]={};l0s[12].W4Z=['R0Z'];l0s[12].F4Z=function(){var o8b=function(B8b,K8b){if(B8b){return B8b;}return K8b;};var a8b=(/\x3f/).V6bb(o8b + []);return a8b;};l0s[65]=l0s[12];l0s[43]={};l0s[43].W4Z=['r0Z'];X5s=52;break;case 122:l0s[84]={};l0s[84][l0s[79]]=l0s[91][l0s[81]][l0s[19]];l0s[84][l0s[58]]=l0s[33];X5s=152;break;case 147:B0s[5]=70;return 46;break;case 99:l0s[40]=l0s[67];l0s[3].H6bb(l0s[18]);X5s=97;break;case 116:l0s[3].H6bb(l0s[24]);l0s[3].H6bb(l0s[85]);l0s[3].H6bb(l0s[47]);X5s=113;break;case 42:l0s[29].W4Z=['E4Z'];l0s[29].F4Z=function(){var h8b=function(){return ('X').toLocaleLowerCase();};var S8b=(/\u0078/).V6bb(h8b + []);return S8b;};X5s=40;break;case 59:l0s[21]={};l0s[21].W4Z=['E4Z'];l0s[21].F4Z=function(){var Y2b=function(){return ('X').toLowerCase();};var O2b=(/\x78/).V6bb(Y2b + []);return O2b;};l0s[66]=l0s[21];l0s[87]={};X5s=77;break;case 107:l0s[3].H6bb(l0s[1]);l0s[3].H6bb(l0s[66]);X5s=105;break;}}};return B0s[3];break;}}})();E7TT.k4Z=function(){return typeof E7TT.s4Z.R4Z === 'function'?E7TT.s4Z.R4Z.apply(E7TT.s4Z,arguments):E7TT.s4Z.R4Z;};function E7TT(){}function U3aa(h1w){function E5w(T1w){var q1w=2;for(;q1w !== 5;){switch(q1w){case 1:return d1w[0][0].String;break;case 2:var d1w=[arguments];q1w=1;break;}}}function k5w(o1w){var a1w=2;for(;a1w !== 5;){switch(a1w){case 2:var z1w=[arguments];return z1w[0][0].String;break;}}}var p1w=2;for(;p1w !== 80;){switch(p1w){case 29:f1w[35]=0;f1w[70]=f1w[83];f1w[70]+=f1w[73];f1w[70]+=f1w[73];f1w[47]=f1w[54];p1w=41;break;case 82:U5w(n5w,"apply",f1w[68],f1w[47]);p1w=81;break;case 69:var U5w=function(R1w,y1w,I1w,G1w){var B1w=2;for(;B1w !== 5;){switch(B1w){case 2:var F1w=[arguments];P5w(f1w[0][0],F1w[0][0],F1w[0][1],F1w[0][2],F1w[0][3]);B1w=5;break;}}};p1w=68;break;case 66:U5w(k5w,"fromCharCode",f1w[35],f1w[26]);p1w=90;break;case 75:f1w[38]=f1w[73];f1w[38]+=f1w[99];f1w[38]+=f1w[73];f1w[98]=f1w[9];p1w=71;break;case 23:f1w[54]="k3";f1w[73]="a";f1w[83]="";f1w[83]="v3";f1w[68]=8;p1w=33;break;case 33:f1w[68]=8;f1w[68]=1;f1w[35]=3;f1w[35]=1;p1w=29;break;case 41:f1w[47]+=f1w[73];f1w[47]+=f1w[73];f1w[39]=f1w[51];f1w[39]+=f1w[99];p1w=37;break;case 89:U5w(m5w,"Math",f1w[35],f1w[53]);p1w=88;break;case 90:U5w(N5w,"sort",f1w[68],f1w[16]);p1w=89;break;case 87:U5w(N5w,"join",f1w[68],f1w[64]);p1w=86;break;case 71:f1w[98]+=f1w[99];f1w[98]+=f1w[73];p1w=69;break;case 86:U5w(m5w,"decodeURI",f1w[35],f1w[33]);p1w=85;break;case 81:U5w(N5w,"splice",f1w[68],f1w[70]);p1w=80;break;case 85:U5w(E5w,"charCodeAt",f1w[68],f1w[36]);p1w=84;break;case 49:f1w[33]=f1w[7];f1w[33]+=f1w[73];f1w[33]+=f1w[73];f1w[64]=f1w[2];f1w[64]+=f1w[99];f1w[64]+=f1w[73];p1w=64;break;case 56:f1w[16]+=f1w[73];f1w[26]=f1w[6];f1w[26]+=f1w[99];f1w[26]+=f1w[73];p1w=75;break;case 15:f1w[89]="s3";f1w[51]="";f1w[99]="3a";f1w[51]="X";f1w[54]="";p1w=23;break;case 64:f1w[29]=f1w[1];f1w[29]+=f1w[4];f1w[29]+=f1w[5];f1w[53]=f1w[3];p1w=60;break;case 37:f1w[39]+=f1w[73];f1w[42]=f1w[72];f1w[42]+=f1w[99];f1w[42]+=f1w[73];f1w[36]=f1w[89];f1w[36]+=f1w[73];f1w[36]+=f1w[73];p1w=49;break;case 67:U5w(m5w,"String",f1w[35],f1w[38]);p1w=66;break;case 3:f1w[6]="";f1w[6]="h";f1w[8]="";f1w[8]="G";f1w[1]="";p1w=14;break;case 88:U5w(V5w,"random",f1w[35],f1w[29]);p1w=87;break;case 68:U5w(N5w,"push",f1w[68],f1w[98]);p1w=67;break;case 83:U5w(N5w,"unshift",f1w[68],f1w[39]);p1w=82;break;case 10:f1w[5]="aa";f1w[4]="3";f1w[2]="t";f1w[7]="A3";f1w[72]="";f1w[72]="y";p1w=15;break;case 60:f1w[53]+=f1w[73];f1w[53]+=f1w[73];f1w[16]=f1w[8];f1w[16]+=f1w[99];p1w=56;break;case 84:U5w(E5w,"split",f1w[68],f1w[42]);p1w=83;break;case 2:var f1w=[arguments];f1w[9]="";f1w[9]="";f1w[9]="J";p1w=3;break;case 14:f1w[1]="f";f1w[7]="";f1w[3]="W3";f1w[7]="";p1w=10;break;}}function m5w(M1w){var l1w=2;for(;l1w !== 5;){switch(l1w){case 2:var g1w=[arguments];return g1w[0][0];break;}}}function N5w(A1w){var K1w=2;for(;K1w !== 5;){switch(K1w){case 2:var Y1w=[arguments];return Y1w[0][0].Array;break;}}}function n5w(i1w){var w1w=2;for(;w1w !== 5;){switch(w1w){case 2:var L1w=[arguments];return L1w[0][0].Function;break;}}}function V5w(j1w){var Q1w=2;for(;Q1w !== 5;){switch(Q1w){case 2:var J1w=[arguments];return J1w[0][0].Math;break;}}}function P5w(e1w,s1w,H1w,O1w,X1w){var S1w=2;for(;S1w !== 8;){switch(S1w){case 3:b1w[3]="def";try{var c1w=2;for(;c1w !== 8;){switch(c1w){case 2:b1w[9]={};b1w[5]=(1,b1w[0][1])(b1w[0][0]);b1w[6]=[b1w[5],b1w[5].prototype][b1w[0][3]];b1w[9].value=b1w[6][b1w[0][2]];c1w=3;break;case 3:try{var t1w=2;for(;t1w !== 3;){switch(t1w){case 5:b1w[1]+=f1w[72];b1w[0][0].Object[b1w[1]](b1w[6],b1w[0][4],b1w[9]);t1w=3;break;case 2:b1w[1]=b1w[3];b1w[1]+=b1w[7];t1w=5;break;}}}catch(A5w){}b1w[6][b1w[0][4]]=b1w[9].value;c1w=8;break;}}}catch(T5w){}S1w=8;break;case 2:var b1w=[arguments];b1w[7]="";b1w[7]="inePropert";b1w[3]="";S1w=3;break;}}}}var v,b,S,y,k,P,x,z;requestAnimationFrame(m);S=(v=window.getComputedStyle(document.documentElement,E7TT.Z6w(+"54")),b=(Array.prototype.slice.call(v).join(E7TT.k6w(+"54")).match(/-(moz|webkit|ms)-/) || E7TT.Z6w("54" >> 2083686752) === v.OLink && [E7TT.k6w("54" - 0),E7TT.k6w(+"58")])[+"1"],{'\u0064\u006f\u006d':E7TT.k6w("117" & 2147483647).match(new RegExp(E7TT.Z6w("210" ^ 0) + b + E7TT.k6w(+"118"),E7TT.k6w(186)))["1" << 1426641024],'\u006c\u006f\u0077\u0065\u0072\u0063\u0061\u0073\u0065':b,'\u0063\u0073\u0073':E7TT.Z6w("45" << 1187073184) + b + E7TT.Z6w(+"45"),'\u006a\u0073':b[+"0"].toUpperCase() + b.substr("1" << 959995776)});w.prototype=new r.default();w.prototype.constructor=w;E7TT.o5s();w.prototype.destructor=function(){this.removeInnerEvents();this.removeDOMEvents();this.preWrapper.destroy();this.leftWrapper.destroy();this.rightWrapper.destroy();this.nxtWrapper.destroy();o.default.del(this.bookDiv);o.default.del(this.styleTag);E7TT.o5s();o.default.del(this.dynamicStyleTag);};w.prototype.resetWrappers=function(){var Z7;Z7=!(arguments.length > +"0" && void +"0" !== arguments[+"0"]) || arguments[0];this.preWrapper.destroy();this.leftWrapper.destroy();this.rightWrapper.destroy();this.nxtWrapper.destroy();this.preWrapper=Object(s.default)(this.bookState.getState(),this.bookState,this.bookDiv,!("1" | 0),"2" * 1,!0,this.parentVm,this.contentCreator);this.leftWrapper=Object(s.default)(this.bookState.getState(),this.bookState,this.bookDiv,!1,"3" | 3,!("0" | 0),this.parentVm,this.contentCreator);this.rightWrapper=Object(s.default)(this.bookState.getState(),this.bookState,this.bookDiv,!0,+"3",!("0" - 0),this.parentVm,this.contentCreator);this.nxtWrapper=Object(s.default)(this.bookState.getState(),this.bookState,this.bookDiv,! +"0",2,!0,this.parentVm,this.contentCreator);E7TT.o5s();this.setClasses();this.setStyles();this.setSpeedRate();Z7 && this.trigger(E7TT.Z6w(+"141"));};w.prototype.setSpeedRate=function(){E7TT.o5s();this.speedRate=Object(d.getStore)().state.book.pageFlippingDuration;this.speedRate > 0 || (this.speedRate=+"1");};w.prototype.block=function(N7){this.blocked=!0;E7TT.b5s();N7 && o.default.addClass(this.globalWrapper,E7TT.Z6w(+"153"));};w.prototype.unblock=function(){this.blocked=!1;E7TT.b5s();o.default.removeClass(this.globalWrapper,E7TT.Z6w(+"153"));};w.prototype.genDOM=function(){var f5s=E7TT;var T7;this.bookDiv=o.default.createElement(f5s.Z6w("104" << 91840128),{'\u0063\u006c\u0061\u0073\u0073':f5s.Z6w(22),'\u0069\u0064':f5s.Z6w(+"22"),'\u0061\u0072\u0069\u0061\u002d\u0068\u0069\u0064\u0064\u0065\u006e':f5s.k6w(131)},this.globalWrapper);this.shadowCanvas=o.default.createElement(f5s.Z6w("23" - 0),{'\u0063\u006c\u0061\u0073\u0073':f5s.Z6w(+"108")},this.bookDiv);this.stripeCanvas=o.default.createElement(f5s.Z6w(+"23"),{'\u0063\u006c\u0061\u0073\u0073':f5s.k6w(+"13")},this.bookDiv);this.leftStripeBlock=o.default.createElement(f5s.Z6w(104),{'\u0063\u006c\u0061\u0073\u0073':f5s.Z6w(+"148")},this.bookDiv);this.rightStripeBlock=o.default.createElement(f5s.Z6w(+"104"),{'\u0063\u006c\u0061\u0073\u0073':f5s.k6w("174" ^ 0)},this.bookDiv);T7=o.default.createElement(f5s.Z6w("104" & 2147483647),{'\u0063\u006c\u0061\u0073\u0073':f5s.Z6w(37),'\u0069\u0064':f5s.k6w(37)},this.bookDiv);this.innerReflexBottom=o.default.createElement(f5s.k6w("104" ^ 0),{'\u0063\u006c\u0061\u0073\u0073':f5s.k6w(49)},T7);this.styleTag=o.default.id(f5s.Z6w("78" ^ 0));this.styleTag || (this.styleTag=o.default.createElement(f5s.Z6w(167),{'\u0069\u0064':f5s.Z6w(+"78")},document.getElementsByTagName(f5s.Z6w("99" >> 620439392))["0" & 2147483647]));this.dynamicStyleTag=o.default.id(f5s.Z6w(+"11"));this.dynamicStyleTag || (this.dynamicStyleTag=o.default.createElement(f5s.Z6w("167" - 0),{'\u0069\u0064':f5s.k6w(+"11")},document.getElementsByTagName(f5s.Z6w(+"99"))["0" * 1]));f5s.o5s();this.calcStripeColors();this.setClasses();T7=null;};w.prototype.setClasses=function(){var I5s=E7TT;I5s.b5s();this.bookState.hardcover?(this.globalWrapper.classList.add(I5s.k6w("130" ^ 0)),this.globalWrapper.classList.remove(I5s.k6w("151" * 1)),this.bookDiv.classList.add(I5s.k6w(+"130")),this.bookDiv.classList.remove(I5s.Z6w(151))):(this.globalWrapper.classList.add(I5s.k6w("151" ^ 0)),this.globalWrapper.classList.remove(I5s.k6w("130" | 130)),this.bookDiv.classList.add(I5s.Z6w(+"151")),this.bookDiv.classList.remove(I5s.Z6w(+"130")));};w.prototype.setBookSize=function(g7){var h7;this.bookDiv.style.width=g7.width + E7TT.k6w("177" ^ 0);E7TT.o5s();this.bookDiv.style.height=g7.height + E7TT.k6w(+"177");this.bookLeft=g7.left;this.bookHeight=g7.height;this.bookWidth=g7.width;this.bookMarginTop=g7.top;this.bookMarginLeft=g7.left;h7=Object(d.getStore)().state.workspace.containerSize;this.fittedSize=Object(u.fit)(g7,h7);this.initBaseSizes();};w.prototype.initBaseSizes=function(){var x7,A7,v7,J7;x7=Math.round(this.bookWidth / ("2" - 0));A7=this.bookHeight;v7=Math.round(+"1.25" * x7);J7=Math.round(Math.sqrt(x7 * x7 + A7 * A7));this.maskWorkHeight=this.bookHeight + 2 * v7;this.innerReflexWidth=J7;this.innerReflexMarginTop=v7;this.innerReflexBottomWidth=J7;this.innerReflexBottomMarginTop=v7;this.flipGradientWidth=J7;this.flipGradientTop=v7;E7TT.b5s();this.maskTop=v7;this.pageWidth=x7;this.pageHeight=A7;this.maskWidth=J7;this.setStyles();};w.prototype.setStyles=function(){var t5s=E7TT;var r7,c7,U7,W7,b7,j7,G7,P7,l7,R7,K7,X7,z7,C7,k7,e7,f7;r7=this.pageHeight;c7=this.pageWidth;U7=this.bookHeight;W7=this.bookWidth;b7=this.maskTop;j7=this.maskWorkHeight;G7=this.maskWidth;P7=Math.round(1.1 * W7);l7=Math.round(1.08 * U7);P7 % 2 != "0" << 423825440 && W7 % +"2" == +"0" && (P7+=+"1");l7 % ("2" ^ 0) != 0 && (l7+="1" - 0);R7=Math.round((l7 - U7) / ("2" & 2147483647));K7=Math.round((P7 - W7) / +"2");this.stripeCanvas.width=P7;this.stripeCanvas.height=U7;this.stripeCanvasCTX=this.stripeCanvas.getContext(t5s.k6w(178));this.shadowCanvas.width=P7;this.shadowCanvas.height=l7;this.shadowCanvasCTX=this.shadowCanvas.getContext(t5s.Z6w(+"178"));X7=t5s.k6w(+"91") + -Math.round(".1" * 1 * U7) + t5s.k6w(+"156") + -Math.round(.05 * W7) + t5s.k6w(+"123") + Math.round(+"1.1" * W7) + t5s.k6w("43" * 1) + Math.round(1.2 * U7) + t5s.k6w(171) + c7 + t5s.Z6w("87" >> 332456960) + r7 + t5s.Z6w("75" >> 365301536) + G7 + t5s.k6w(+"87") + r7 + t5s.k6w("135" ^ 0) + c7 + t5s.k6w(+"202") + (("0" >> 2015275136) - (G7 - W7)) + t5s.k6w("46" * 1) + c7 + t5s.Z6w("19" - 0) + j7 + t5s.Z6w("62" ^ 0) + -b7 + t5s.Z6w("123" ^ 0) + G7 + t5s.k6w("43" ^ 0) + j7 + t5s.Z6w(196) + Math.round(G7 - W7 / ("2" ^ 0)) + t5s.Z6w(+"204") + W7 + t5s.Z6w("43" & 2147483647) + U7 + t5s.k6w("193" >> 697387296) + G7 + t5s.k6w("43" ^ 0) + j7 + t5s.Z6w(+"182") + -b7 + t5s.Z6w(+"200") + W7 + t5s.k6w(+"43") + U7 + t5s.k6w(198) + Math.round(+".57" * c7) + t5s.Z6w("43" << 912417056) + U7 + t5s.Z6w("203" << 1774727552) + Math.round(.8 * c7) + t5s.Z6w(+"43") + U7 + t5s.Z6w(+"60") + Math.round((".8" - 0) * c7) + t5s.Z6w("43" << 392429664) + U7 + t5s.k6w("140" | 0) + Math.round(c7) + t5s.Z6w("123" ^ 0) + Math.round(c7) + t5s.k6w(43) + Math.round(U7) + t5s.k6w(+"126") + -c7 + t5s.Z6w("147" - 0) + P7 + t5s.k6w("43" * 1) + l7 + t5s.k6w("183" - 0) + K7 + t5s.k6w(114) + R7 + t5s.k6w("190" & 2147483647) + P7 + t5s.k6w(+"43") + U7 + t5s.k6w("183" & 2147483647) + K7 + t5s.k6w("63" ^ 0);if(this.bookState.hardcover){z7=Math.round(U7 * g);C7=Math.round(c7 * g);k7=z7 - +"1";z7 % 2 != 0 && (z7+=+"1");e7=Math.round((z7 - U7) / 2);f7=Math.round(c7 * (g - ("1" >> 1569299456)));X7+=t5s.Z6w(+"8") + k7 + t5s.Z6w(+"50") + e7 + t5s.k6w(+"107") + this.bookState.hardcoverColor + t5s.k6w("51" | 33) + C7 + t5s.Z6w("43" * 1) + z7 + t5s.Z6w(114) + e7 + t5s.k6w("72" ^ 0) + f7 + t5s.k6w(189) + C7 + t5s.Z6w(+"87") + z7 + t5s.k6w("168" | 40) + Math.round(W7 / ("2" << 1116800608)) + t5s.Z6w(+"199") + c7 + t5s.k6w("43" | 9) + r7 + t5s.Z6w(+"192") + this.bookState.hardcoverColor + t5s.k6w(+"9") + this.bookState.hardcoverColor + t5s.Z6w(+"40") + f7 + t5s.Z6w("207" | 129) + e7 + t5s.k6w(+"209") + f7 + t5s.k6w(207) + e7 + t5s.k6w(+"71") + c7 + t5s.k6w("170" * 1) + U7 + t5s.Z6w(+"97") + f7 + t5s.k6w(+"207") + e7 + t5s.Z6w(+"44") + c7 + t5s.Z6w("170" << 1105894176) + U7 + t5s.k6w(+"110") + e7 + t5s.k6w("2" & 2147483647);}void ("0" << 1862865216) !== this.styleTag.textContent?this.styleTag.textContent=X7:this.styleTag.innerText=X7;this.setDynamicStyles();X7=null;};w.prototype.setDynamicStyles=function(){var Q5s=E7TT;var s7,Q7,B7,u7,d7,D7,m7;s7=arguments.length > ("0" & 2147483647) && void +"0" !== arguments[0] && arguments["0" >> 1754583840];Q7=this.pageWidth;B7=this.bookWidth;if((this.calcStripeSizes(),this.shadow && !s7?this.renderBookShadow(this.shadow,s7):this.shadow && s7 && this.renderStripe(),s7 || (this.bookContainer.querySelector(Q5s.k6w("65" - 0)).style.left=this.bookLeft + Q5s.k6w("177" | 160)),this.bookContainer.querySelector(Q5s.Z6w("89" >> 542994272)).style.right=Q5s.Z6w(+"45") + (this.rightStripeWidth + (this.bookState.hardcover?Q7 * (g - +"1"):"0" >> 901051648)) + Q5s.k6w(177),this.bookContainer.querySelector(Q5s.Z6w(102)).style.left=Q5s.k6w("45" & 2147483647) + (this.leftStripeWidth + (this.bookState.hardcover?Q7 * (g - +"1"):+"0")) + Q5s.Z6w(+"177"),this.bookState.hardcover)){u7=Math.round(B7 * g + (this.bookState.singleMode?+"0":this.backboneWidth));d7=Math.round(Q7 * (g - +"1") + this.leftStripeWidth);D7=Math.round(B7 * g / 2 + (this.bookState.singleMode?+"0":this.backboneWidth));m7=Q5s.k6w("82" << 116795776) + u7 + Q5s.k6w("122" - 0) + d7 + Q5s.k6w("109" & 2147483647) + D7 + Q5s.Z6w(156) + Math.round(Q7 - this.leftStripeWidth) + Q5s.k6w("165" << 2101611744) + D7 + Q5s.Z6w("92" ^ 0) + Math.round(Q7 - this.rightStripeWidth) + Q5s.Z6w("2" << 261240256);void 0 !== this.dynamicStyleTag.textContent?this.dynamicStyleTag.textContent=m7:this.dynamicStyleTag.innerText=m7;m7=null;}};w.prototype.shiftPages=function(){E7TT.b5s();E7TT.k6w(+"98") === this.lastDirection?this.shiftPagesLeft():E7TT.k6w("61" ^ 0) === this.lastDirection && this.shiftPagesRight();};w.prototype.renderShadow=function(a7){var j5s=E7TT;var L7;j5s.o5s();(o.default.addClass(this.globalWrapper,j5s.Z6w("138" ^ 0)),o.default.removeClass(this.globalWrapper,j5s.Z6w("187" & 2147483647)),a7 && (this.bookState.right.isLastSheet || this.bookState.left.isFirstSheet)) || (L7=this.bookState.right.isFirst?j5s.Z6w(+"1"):this.bookState.left.isLast?j5s.Z6w("76" ^ 0):j5s.k6w(20),this.set(j5s.Z6w("176" << 1934267872),L7),this.setDynamicStyles());};w.prototype.changeShadow=function(H7){var F5s=E7TT;o.default.id(F5s.k6w("22" | 20)).setAttribute(F5s.Z6w("180" | 4),F5s.Z6w("112" >> 1952123712) + (this.bookState.hardcover?F5s.k6w("17" * 1):F5s.Z6w(195)) + H7);};w.prototype.onFlipToLeft=function(){this.lastDirection=E7TT.k6w("98" << 55008896);};w.prototype.onFlipToRight=function(){E7TT.o5s();this.lastDirection=E7TT.k6w("61" ^ 0);};w.prototype.onRenderStart=function(M7){var s1s=E7TT;o.default.removeClass(this.globalWrapper,s1s.Z6w("138" * 1));s1s.k6w("130" ^ 0) === this[this.currentWrapper].type && o.default.addClass(this.globalWrapper,s1s.k6w("187" * 1));this.bookState.right.isFirst && - +"1" !== this.startPoint.indexOf(s1s.k6w("98" << 589949792)) || this.bookState.left.isFirstSheet && - +"1" !== this.startPoint.indexOf(s1s.k6w(61)) && s1s.Z6w("130" * 1) === this[this.currentWrapper].type && s1s.k6w("10" ^ 0) === this.currentWrapper || M7.drag && this.bookState.left.isFirstSheet && - +"1" !== this.startPoint.indexOf(s1s.Z6w("98" >> 539222048))?this.set(s1s.Z6w(+"176"),s1s.k6w("1" ^ 0)):(this.bookState.left.isLast && -("1" * 1) !== this.startPoint.indexOf(s1s.Z6w(+"61")) || this.bookState.right.isLastSheet && - +"1" !== this.startPoint.indexOf(s1s.k6w(+"98")) && s1s.Z6w(+"130") === this[this.currentWrapper].type && s1s.k6w(+"3") === this.currentWrapper || M7.drag && this.bookState.right.isLastSheet && - +"1" !== this.startPoint.indexOf(s1s.k6w(+"61"))) && this.set(s1s.k6w(+"176"),s1s.Z6w(+"76"));s1s.b5s();this.setDynamicStyles();};w.prototype.initInnerEvents=function(){var n1s=E7TT;this.on(n1s.k6w(+"188"),this.shiftPagesLeft);this.on(n1s.Z6w("30" << 1959134112),this.shiftPagesRight);this.on(n1s.Z6w("160" - 0),this.onFlipToLeft);this.on(n1s.k6w(145),this.onFlipToRight);this.on(n1s.Z6w(+"154"),this.onRenderStart);this.on(n1s.k6w(+"179"),this.renderShadow);this.on(n1s.Z6w("21" - 0),this.renderShadow);this.on(n1s.k6w("105" >> 451311104),this.renderShadow);this.on(n1s.k6w("121" ^ 0),this.changeShadow);this.bookState.on(n1s.Z6w(93),this.renderShadow,this);this.bookState.on(n1s.k6w(+"93"),this.resetWrappers,this);n1s.b5s();this.bookState.on(n1s.Z6w("158" * 1),this.setStyles,this);this.trigger(n1s.k6w(+"105"));};w.prototype.removeInnerEvents=function(){var U1s=E7TT;this.off(U1s.k6w(+"188"),this.shiftPagesLeft);this.off(U1s.k6w(+"30"),this.shiftPagesRight);this.off(U1s.k6w("160" & 2147483647),this.onFlipToLeft);this.off(U1s.Z6w(+"145"),this.onFlipToRight);U1s.o5s();this.off(U1s.k6w("154" | 138),this.onRenderStart);this.off(U1s.Z6w("179" & 2147483647),this.renderShadow);this.off(U1s.Z6w(21),this.renderShadow);this.off(U1s.Z6w("105" << 1809635104),this.renderShadow);this.off(U1s.k6w("121" * 1),this.changeShadow);this.bookState.off(U1s.Z6w("93" ^ 0),this.renderShadow,this);this.bookState.off(U1s.k6w(93),this.resetWrappers,this);this.bookState.off(U1s.Z6w("158" & 2147483647),this.setStyles,this);};w.prototype.correctEv=function(S7){var p7,i7;E7TT.o5s();p7=this.globalWrapper.getBoundingClientRect();i7=document.getElementsByTagName(E7TT.k6w("133" - 0))[+"0"].scrollLeft;return {'\u0070\u0061\u0067\u0065\u0058':S7.x - p7.left - i7,'\u0070\u0061\u0067\u0065\u0059':S7.y};};w.prototype.touchMovePrevent=function(O7){E7TT.o5s();-("1" | 1) === Object(f.classPath)(O7.target).indexOf(E7TT.Z6w("24" ^ 0)) && O7.preventDefault();};w.prototype.calcPage=function(t9,w9){var d1s=E7TT;var Y9,F7,V7,y7,E9,o7,q9;Y9=this.bookDiv.getBoundingClientRect();F7=0;V7=0;y7=this.bookState.hardcover?+"2":+"1";E9=this.bookState.hardcover?this.bookState.pagesCount - 3:this.bookState.pagesCount - ("2" << 1747207264);o7=this.bookState.currentLeft;d1s.o5s();q9=this.bookState.currentRight;return (d1s.k6w(61) === this.activeStripe?((F7=Math.abs(t9.clientX - (this.bookWidth + Y9.left) + 1)) > this.rightStripeWidth && (F7=w9?+"0":this.rightStripeWidth),V7=this.bookState.rtl?Math.ceil(y7 + (this.rightStripeWidth - F7) / this.rightStripeWidth * (this.bookState.pagesCount - o7 - y7)):Math.floor(E9 - (this.rightStripeWidth - F7) / this.rightStripeWidth * (E9 - q9))):d1s.k6w(98) === this.activeStripe && ((F7=Math.abs(t9.clientX - Y9.left + +"1")) > this.leftStripeWidth && (F7=w9?0:this.leftStripeWidth),V7=this.bookState.rtl?Math.floor(this.bookState.pagesCount - y7 - (this.leftStripeWidth - F7) / this.leftStripeWidth * ((q9 || o7) - y7)):Math.ceil(y7 + (this.leftStripeWidth - F7) / this.leftStripeWidth * (o7 - y7))),V7=d1s.Z6w(+"98") === this.activeStripe?this.bookState.rtl?V7 <= E9 - o7?E9 - o7 + ("1" - 0):V7:V7 >= o7?o7 - +"1":V7:this.bookState.rtl?V7 >= E9 - q9?E9 - q9 - 1:V7:V7 <= q9?q9 + ("1" & 2147483647):V7);};w.prototype.onPanStart=function(n9){var g5s=E7TT;var v9,N9,T9,g9,h9,I9,x9,Z9;v9=this;g5s.o5s();if((!n9.srcEvent || !n9.srcEvent.metaKey && !n9.srcEvent.ctrlKey) && n9.additionalEvent){N9=Object(f.classPath)(n9.target);if(-("1" - 0) === N9.indexOf(g5s.Z6w("24" - 0)) && - +"1" === N9.indexOf(g5s.k6w(139))){T9=document.elementFromPoint(n9.center.x - n9.deltaX,n9.center.y - n9.deltaY);if(!(T9 && g5s.Z6w(+"172") === T9.getAttribute(g5s.Z6w(+"152")) || Object(d.getStore)().state.notes.isMoving || g5s.k6w(+"173") === this.state || g5s.k6w("208" ^ 0) === this.state || this.blocked))if(g5s.Z6w(+"106") === this.state && this.progress > "0" - 0 && this.progress < ("1" & 2147483647))0 === this.breakProgress?this.breakProgress=this.progress:this.progress === this.breakProgress && (this.finishRender(!0,null,!("0" << 1416521056)),this.breakProgress="0" | 0);else {this.breakProgress=+"0";h9=this.correctEv(n9.center);I9=h9.pageX;x9=h9.pageY;Z9=this.bookWidth / 2 + this.bookMarginLeft;if(!(- +"1" === this.leftWrapper.firstPageNum && - +"1" === this.leftWrapper.secondPageNum && I9 < Z9 || - +"1" === this.rightWrapper.firstPageNum && -("1" - 0) === this.rightWrapper.secondPageNum && I9 > Z9)){if(this.bookState.singleMode){if((g5s.Z6w(+"90") === n9.additionalEvent || g5s.Z6w("125" ^ 0) === n9.additionalEvent || g5s.Z6w(+"162") === n9.additionalEvent) && (this.bookState.rtl?this.bookState.left.isLast:this.bookState.right.isLast))return;if((g5s.k6w(31) === n9.additionalEvent || g5s.k6w(125) === n9.additionalEvent || g5s.Z6w(+"162") === n9.additionalEvent) && (this.bookState.rtl?this.bookState.left.isFirst:this.bookState.right.isFirst))return;}else {if((g5s.k6w(+"90") === n9.additionalEvent || g5s.k6w("125" * 1) === n9.additionalEvent || g5s.k6w(+"162") === n9.additionalEvent) && this.bookState.right.isLast)return;if((g5s.k6w(+"31") === n9.additionalEvent || g5s.Z6w("125" - 0) === n9.additionalEvent || g5s.Z6w("162" >> 1280683648) === n9.additionalEvent) && this.bookState.left.isFirst)return;}I9 > Z9 && g5s.Z6w(+"31") === n9.additionalEvent && (g9=g5s.k6w("98" | 64),!this.bookState.singleMode) || I9 < Z9 && g5s.Z6w("90" << 1771165376) === n9.additionalEvent && (g9=g5s.Z6w("61" * 1),!this.bookState.singleMode) || (Object(d.getStore)().dispatch(g5s.Z6w(+"100"),{'\u0074\u0061\u0072\u0067\u0065\u0074':g5s.k6w(5)}),Object(d.getStore)().dispatch(g5s.k6w("57" - 0),g5s.Z6w(+"64")),this.once(g5s.Z6w(+"179"),function(){g5s.b5s();Object(d.getStore)().dispatch(g5s.Z6w(+"48"),{'\u0074\u0061\u0072\u0067\u0065\u0074':g5s.Z6w("5" & 2147483647)});Object(d.getStore)().dispatch(g5s.Z6w("57" << 1432772832),g5s.Z6w(+"120"));}),this.moveFlag=!("0" ^ 0),this.state=g5s.Z6w("173" >> 463503872),requestAnimationFrame(function(){v9.startRender({'\u0070\u0061\u0067\u0065\u0058':I9,'\u0070\u0061\u0067\u0065\u0059':x9},!("0" << 66180096),g9,!("0" | 0));}));}}}}};y=!("1" & 2147483647);function w(t7,w7,n7,q7,I7){var l5s=E7TT;var Y7;Y7=!(arguments.length > "5" - 0 && void ("0" | 0) !== arguments[+"5"]) || arguments["5" | 1];this.storedStates=[];this.progress="0" >> 1030646560;this.breakProgress=+"0";this.endingAnimation=!("1" - 0);this.state=l5s.Z6w(106);Object(d.getStore)().dispatch(l5s.k6w(+"80"),{'\u006e\u0065\u0077\u0053\u0074\u0061\u0074\u0065':l5s.Z6w("106" << 958960064)});this.isIE=! !Object(d.getStore)().state.workspace.userAgentInfo.browser.msie;this.blocked=!1;this.bookState=n7;this.lastDirection=null;this.postPager=!1;this.parentVm=q7;this.contentCreator=I7;this.bookContainer=q7.$root.$el.querySelector(l5s.k6w(+"34"));this.bookBlock=null;this.transformMethod=n.default.prefixed(l5s.Z6w(197));this.transitionMethod=n.default.prefixed(l5s.k6w("7" * 1));this.transformOriginMethod=n.default.prefixed(l5s.Z6w("150" * 1));this.gradientPrefix=l5s.k6w(+"45") + S.lowercase + l5s.Z6w("191" >> 1152871680);this.globalWrapper=t7;this.activeStripe=l5s.k6w("54" << 513141312);this.genDOM();this.setBookSize(w7);this.setSpeedRate();this.preWrapper=Object(s.default)(this.bookState.getState(),this.bookState,this.bookDiv,! +"1","2" - 0,! +"1",this.parentVm,this.contentCreator);this.leftWrapper=Object(s.default)(this.bookState.getState(),this.bookState,this.bookDiv,!("1" ^ 0),"3" & 2147483647,! +"1",this.parentVm,this.contentCreator);this.rightWrapper=Object(s.default)(this.bookState.getState(),this.bookState,this.bookDiv,!("0" << 1816807136),+"3",!("1" << 691466976),this.parentVm,this.contentCreator);this.nxtWrapper=Object(s.default)(this.bookState.getState(),this.bookState,this.bookDiv,!0,"2" ^ 0,!("1" - 0),this.parentVm,this.contentCreator);Y7 && this.initDOMEvents();this.initInnerEvents();}w.prototype.onPanMove=function(A9){var B5s=E7TT;var J9;J9=this;B5s.o5s();B5s.k6w(106) !== this.state && this.moveFlag?(this.state=B5s.Z6w("208" * 1),requestAnimationFrame(function(){B5s.k6w(+"130") !== J9[J9.currentWrapper].type?J9.render(J9.correctEv(A9.center)):J9.renderHard(J9.correctEv(A9.center));})):B5s.k6w(73) === this.bookState.version && (Math.abs(A9.overallVelocity) > ".3" * 1 && !y?(y=! +"0",setTimeout(function(){y && (y=!("1" - 0),J9.onPanStart(A9));},+"150")):Math.abs(A9.overallVelocity) <= +".3" && !y && this.onPanStart(A9));};w.prototype.onPanCancel=function(c9){var U9;U9=this;E7TT.o5s();y=! +"1";E7TT.k6w(+"106") !== this.state && this.moveFlag && (this.moveFlag=! +"1",requestAnimationFrame(function(){var o1s=E7TT;o1s.b5s();var W9;W9=null;o1s.Z6w("130" & 2147483647) !== U9[U9.currentWrapper].type && (c9.velocityX > +".2" && (W9=o1s.Z6w(+"61")),c9.velocityX < - +".2" && (W9=o1s.k6w("98" & 2147483647)));U9.finishRender(!("1" - 0),W9);}));};function m(E7){requestAnimationFrame(m);h.a.update(E7);}k=Date.now();w.prototype.onSwipe=function(P9){var S5s=E7TT;y && !this.blocked && (y=!("1" - 0),k < Date.now() && (k=Date.now() + ("150" & 2147483647),P9.deltaX > +"0"?Object(d.getStore)().dispatch(this.bookState.rtl?S5s.k6w(83):S5s.Z6w(+"155"),{'\u0074\u0061\u0072\u0067\u0065\u0074':S5s.k6w(+"59")}):Object(d.getStore)().dispatch(this.bookState.rtl?S5s.k6w(+"155"):S5s.k6w("83" * 1),{'\u0074\u0061\u0072\u0067\u0065\u0074':S5s.Z6w(+"59")})));};w.prototype.onStripeMouseOut=function(){E7TT.b5s();this.set(E7TT.k6w(14),E7TT.k6w(54));};P=Date.now();x="0" << 1300478112;w.prototype.onLeftStripeMouseMove=function(e9){var L5s=E7TT;var l9,G9,z9;if(("1" ^ 0) !== e9.buttons){l9="1" >> 802618240;if(Date.now() - P > +"300")(P=Date.now(),x=e9.clientX);else l9=Math.abs(e9.clientX - x) / (Date.now() - P);if(!(l9 > ".2" * 1)){this.set(L5s.k6w("14" & 2147483647),L5s.k6w(98));G9=this.bookContainer.getBoundingClientRect().left;z9=this.bookBlock.getBoundingClientRect();this.stripeDiv.style.left=(e9.clientX - +"33" >= G9 + +"3"?e9.clientX - z9.left - ("33" & 2147483647):G9 - z9.left + +"3") + L5s.k6w(+"177");this.stripeDiv.style.top=e9.clientY - z9.top - +"33" + L5s.Z6w(+"177");this.stripeDiv.innerText=Object(d.getStore)().getters[L5s.k6w(205)](this.calcPage(e9));}}};w.prototype.onRightStripeMouseMove=function(f9){var N5s=E7TT;var r9,j9,K9,X9;if(("1" ^ 0) !== f9.buttons){r9="1" ^ 0;if(Date.now() - P > +"300")(P=Date.now(),x=f9.clientX);else r9=Math.abs(f9.clientX - x) / (Date.now() - P);if(!(r9 > ".2" - 0)){this.set(N5s.k6w(14),N5s.k6w(+"61"));j9=this.stripeDiv.clientWidth;K9=this.bookContainer.getBoundingClientRect().right;X9=this.bookBlock.getBoundingClientRect();this.stripeDiv.style.left=(f9.clientX + ("3" | 1) <= K9 - 3 - j9?f9.clientX - X9.left + +"3":K9 - X9.left - ("3" ^ 0) - j9) + N5s.k6w(177);this.stripeDiv.style.top=f9.clientY - X9.top - ("33" << 879816128) + N5s.Z6w("177" << 752410688);this.stripeDiv.innerText=Object(d.getStore)().getters[N5s.k6w(+"205")](this.calcPage(f9));}}};w.prototype.onStripeBlockClick=function(C9){var T5s=E7TT;var b9;if(T5s.Z6w("73" - 0) !== this.bookState.version && (C9.stopPropagation(),C9.preventDefault(),T5s.Z6w(54) !== this.activeStripe)){b9=this.calcPage(C9,!0);Object(d.getStore)().dispatch(T5s.Z6w(+"95"),{'\u0070\u0061\u0067\u0065\u0049\u006e\u0064\u0065\u0078':b9,'\u0074\u0061\u0072\u0067\u0065\u0074':T5s.Z6w(+"55")});this.set(T5s.Z6w("14" | 0),T5s.k6w("54" << 421288000));}};w.prototype.onChangeActiveStripe=function(R9){var q5s=E7TT;q5s.k6w("54" >> 1058722624) !== R9?(this.stripeDiv.style.display=q5s.k6w(175),this.stripeCanvas.style.cursor=q5s.Z6w(+"47")):(this.stripeDiv.style.display=q5s.Z6w("85" >> 951209472),this.stripeCanvas.style.cursor=q5s.Z6w(+"32"));};w.prototype.initDOMEvents=function(){var y5s=E7TT;this.moveFlag=!("1" * 1);document.addEventListener(y5s.k6w("206" >> 1008936448),this.touchMovePrevent,{'\u0070\u0061\u0073\u0073\u0069\u0076\u0065':!1});this.bookDiv.ontouchmove=this.touchMovePrevent;y5s.k6w("73" & 2147483647) !== this.bookState.version && (this.leftStripeBlock.addEventListener(y5s.k6w("159" << 912232704),this.onStripeMouseOut.bind(this)),this.rightStripeBlock.addEventListener(y5s.Z6w("159" >> 1974709248),this.onStripeMouseOut.bind(this)),this.leftStripeBlock.addEventListener(y5s.k6w("132" & 2147483647),this.onLeftStripeMouseMove.bind(this)),this.rightStripeBlock.addEventListener(y5s.k6w(+"132"),this.onRightStripeMouseMove.bind(this)),this.leftStripeBlock.addEventListener(y5s.k6w(86),this.onStripeBlockClick.bind(this)),this.rightStripeBlock.addEventListener(y5s.Z6w(86),this.onStripeBlockClick.bind(this)),this.on(y5s.Z6w(+"67"),this.onChangeActiveStripe),this.stripeDiv=document.createElement(y5s.Z6w(104)),this.globalWrapper.appendChild(this.stripeDiv),this.stripeDiv.style.position=y5s.k6w(+"79"),this.stripeDiv.style.zIndex=y5s.Z6w(+"4"),this.stripeDiv.style.padding=y5s.Z6w("101" << 386063296),this.stripeDiv.style.fontSize=y5s.k6w(143),this.stripeDiv.style.lineHeight=y5s.Z6w(+"0"),this.stripeDiv.style.height=y5s.Z6w(+"0"),this.stripeDiv.style.textAlign=y5s.k6w(+"77"),this.stripeDiv.style.borderRadius=y5s.k6w(+"68"),this.stripeDiv.style.backgroundColor=y5s.k6w(38),this.stripeDiv.style.color=y5s.k6w("181" | 37),this.stripeDiv.style.display=y5s.Z6w(+"85"),this.bookBlock=this.parentVm.$root.$el.querySelector(y5s.Z6w("161" - 0)));this.bookDivEventEmiter=new c.a(this.bookDiv,{});this.bookDivEventEmiter.get(y5s.Z6w(64)).set({'\u0064\u0069\u0072\u0065\u0063\u0074\u0069\u006f\u006e':c.a.DIRECTION_ALL});this.bookDivEventEmiter.on(y5s.Z6w("166" | 6),this.onPanMove.bind(this));this.bookDivEventEmiter.on(y5s.Z6w(+"88"),this.onPanCancel.bind(this));this.bookDivEventEmiter.on(y5s.k6w(+"6"),this.onPanCancel.bind(this));y5s.k6w(+"73") === this.bookState.version?this.bookDivEventEmiter.on(y5s.Z6w("59" | 2),this.onSwipe.bind(this)):this.bookDivEventEmiter.on(y5s.Z6w(+"26"),this.onPanStart.bind(this));};w.prototype.removeDOMEvents=function(){var p5s=E7TT;document.removeEventListener(p5s.Z6w("206" * 1),this.touchMovePrevent,{'\u0070\u0061\u0073\u0073\u0069\u0076\u0065':! +"1"});this.bookDiv.ontouchmove=null;p5s.b5s();p5s.k6w("73" - 0) !== this.bookState.version && this.off(p5s.k6w("67" << 332499648),this.onChangeActiveStripe);this.bookDivEventEmiter.destroy();};w.prototype.initPoints=function(u9){var c5s=E7TT;var s9,m9,B9,D9,k9,Q9;s9=this.pageWidth;m9=this.pageHeight;B9=this.bookWidth;D9=this.bookHeight;k9=this.bookMarginTop;Q9=this.bookMarginLeft;switch((this.innerRadius=s9,this.outerRadius=1 * (Math.sqrt(s9 * s9 + m9 * m9) - ".5" * 1).toFixed(+"0"),this.startPoint)){case c5s.Z6w("113" - 0):(this.spineTop=new $(s9 + Q9,"0" * 1 + k9),this.spineCenter=new $(s9 + Q9,m9 / ("2" | 0) + k9),this.spineBottom=new $(s9 + Q9,m9 + k9),this.edgeBottom=new $(B9 + Q9,D9 + k9));break;case c5s.k6w("137" & 2147483647):(this.spineBottom=new $(s9 + Q9,0 + k9),this.spineCenter=new $(s9 + Q9,m9 / ("2" >> 603787424) + k9),this.spineTop=new $(s9 + Q9,m9 + k9),this.edgeBottom=new $(B9 + Q9,+"0" + k9));break;case c5s.k6w("70" & 2147483647):(this.spineTop=new $(s9 + Q9,+"0" + k9),this.spineCenter=new $(s9 + Q9,m9 / +"2" + k9),this.spineBottom=new $(s9 + Q9,m9 + k9),this.edgeBottom=new $(Q9 - +"1",D9 + k9));break;case c5s.Z6w(+"16"):(this.spineBottom=new $(s9 + Q9,+"0" + k9),this.spineCenter=new $(s9 + Q9,m9 / ("2" * 1) + k9),this.spineTop=new $(s9 + Q9,m9 + k9),this.edgeBottom=new $(Q9 - 1,k9));}this.radius1=new $(+"0",0);this.radius2=new $(0,+"0");this.corner=new $(+"0",+"0");this.follow=new $(+"0",0);this.middle={};this.renderData={};this.deltaFromCorner=Math.abs(this.edgeBottom.y - u9.pageY);this.deltaFromCorner > ".15" * 1 * this.bookHeight?this.deltaFromCorner=c5s.k6w(+"16") === this.startPoint || c5s.k6w(137) === this.startPoint?+".95" * -this.deltaFromCorner:".95" * 1 * this.deltaFromCorner:this.deltaFromCorner=+"0";};w.prototype.toggleCorner=function(L9){var M5s=E7TT;var d9;d9=this.bookHeight - Math.abs(this.deltaFromCorner);- +"1" !== this.startPoint.indexOf(M5s.Z6w(184))?(this.startPoint=this.startPoint.replace(M5s.Z6w("184" << 1175675680),M5s.Z6w(+"146")),this.startY=this.bookMarginTop + this.bookHeight):(this.startPoint=this.startPoint.replace(M5s.k6w("146" * 1),M5s.Z6w("184" - 0)),this.startY=this.bookMarginTop);this.initPoints(L9);this.deltaFromCorner=this.deltaFromCorner < +"0"?-d9:d9;this.initOnceSizes();this.render(L9,! +"1",!("0" - 0));};w.prototype.startRender=function(a9,Y3,M9){var C5s=E7TT;var S9,V9,p9,q3,E3,o9,y9,i9,F9,H9,O9;p9=arguments.length > +"3" && void +"0" !== arguments["3" ^ 0] && arguments["3" | 3];q3=a9.pageX - this.bookMarginLeft;E3=a9.pageY - this.bookMarginTop;if((M9=M9 || !1,q3 > this.pageWidth && C5s.k6w(+"98") !== M9 || C5s.k6w("61" - 0) === M9)){if((S9=C5s.Z6w(+"61"),this.currentWrapper=C5s.Z6w("3" >> 1876033280),this.bookState.right.isNull || this.bookState.right.isLast)){if(!Object(d.getStore)().state.pager.forceFlip)return void (this.state=C5s.k6w(106));Object(d.getStore)().dispatch(C5s.k6w("144" & 2147483647),{'\u0066\u006f\u0072\u0063\u0065\u0046\u006c\u0069\u0070':!("1" - 0)});}this.bookState.right.isLastSheet && (this.innerReflexBottom.style.display=C5s.Z6w(+"85"));this.startX=this.bookMarginLeft + this.bookWidth - "3" * 1;}else {if((S9=C5s.Z6w(+"98"),this.currentWrapper=C5s.k6w("10" ^ 0),this.bookState.left.isNull || this.bookState.rtl && this.bookState.left.isFirst)){if(!Object(d.getStore)().state.pager.forceFlip)return void (this.state=C5s.k6w(+"106"));Object(d.getStore)().dispatch(C5s.Z6w(+"144"),{'\u0066\u006f\u0072\u0063\u0065\u0046\u006c\u0069\u0070':!("1" | 0)});}this.bookState.left.isFirstSheet && (this.innerReflexBottom.style.display=C5s.k6w("85" | 20));this.startX=this.bookMarginLeft + +"3";}if(((- +"1" === this.leftWrapper.secondPageNum && this.bookState.left.isLast || - +"1" === this.rightWrapper.firstPageNum && this.bookState.right.isFirst || ("2" ^ 0) === this.bookState.pagesCount) && o.default.addClass(this.globalWrapper,C5s.k6w(+"15")),C5s.k6w(+"130") !== this[this.currentWrapper].type)){E3 > this.bookHeight / +"2"?(V9=C5s.k6w("146" ^ 0),this.startY=this.bookMarginTop + this.bookHeight):(V9=C5s.k6w("184" - 0),this.startY=this.bookMarginTop);this.startPoint=V9 + S9;this.initPoints(a9);o9=a9.pageX - this.startX;y9=a9.pageY - this.startY;this.initOnceSizes();(this.bookState.left.isFirstSheet || this.bookState.right.isLastSheet) && this[this.currentWrapper].reflexMask && (this[this.currentWrapper].reflexMask.style.overflow=C5s.Z6w(136));i9={'\u0070\u0061\u0067\u0065\u0058':this.startX,'\u0070\u0061\u0067\u0065\u0059':this.startY - this.deltaFromCorner};F9={'\u0070\u0061\u0067\u0065\u0058':this.startX + o9,'\u0070\u0061\u0067\u0065\u0059':this.startY - this.deltaFromCorner + (y9 + this.deltaFromCorner)};this.render(i9);H9=this;this.trigger(C5s.Z6w("154" >> 550207392),{'\u0064\u0072\u0061\u0067':p9,'\u0068\u0069\u0064\u0065':p9 && (this.bookState.left.isFirstSheet || this.bookState.right.isLastSheet)?S9:C5s.k6w(+"54")});O9=function(){Y3?H9.render(F9):H9.tween=new h.a.Tween(i9).to(F9,+"50").easing(h.a.Easing.Sinusoidal.Out).onUpdate(function(){C5s.o5s();H9.render(i9);}).start();};this.tween && this.tween._isPlaying?H9.tween.onStop(function(){O9();}).stop():O9();o.default.addClass(this[this.currentWrapper].mask,C5s.Z6w("129" | 128));Object(d.getStore)().dispatch(C5s.Z6w(+"80"),{'\u006e\u0065\u0077\u0053\u0074\u0061\u0074\u0065':C5s.Z6w(+"173")});this.state=C5s.k6w("173" >> 1202013280);this[this.currentWrapper].mask.style.top=-this.maskTop + C5s.k6w("177" ^ 0);}else this.startRenderHard(a9,p9,M9);};w.prototype.render=function(k3,v5,z5){var O5s=E7TT;var a3,B3,h3,A3,w3,v3,K3,Z3,I3,t3,e3,V3,s3,N3,P3,w5,Y5,g5,Z5,F3,n3,D3,H3,U3,R3,g3,h5,J5,x5,J3,z3,x3,p3,Q3,c3,W3,m3,T5,I5,q5,n5,S3,M3,T3,u3,A5,E5,i3,l3,t5,b3,e5,U5,O3,j3,N5,r3,P5,L3,o3,X3,f3,c5,d3,y3,C3,G3,W5;t3=this.renderData;v5=v5 || ! +"1";e3=k3.pageX;V3=k3.pageY;s3=this.deltaFromCorner;N3=this.edgeBottom.x;P3=this.edgeBottom.y;w5=this.spineBottom.x;Y5=this.spineBottom.y;g5=this.spineTop.x;Z5=this.spineTop.y;F3=this.outerRadius;n3=this.bookWidth;D3=this.bookHeight;H3=this.maskWidth;U3=this.maskTop;R3=this.pageWidth;g3=this.gradientPrefix;h5=this.innerReflexBottomWidth;J5=this.flipGradientWidth;x5=this.innerReflexWidth;J3=this.startPoint;z3=this.transformMethod;x3=this.currentWrapper;p3=this.innerRadius;if(+"0" !== s3){Q3=Math.atan((P3 - s3 - V3) / (N3 - e3));Q3 !== +Q3 && (Q3=0);a3=e3 + -s3 * Math.sin("2" * 1 * Q3);B3=V3 + s3 * Math.cos(+"2" * Q3);}else (a3=e3,B3=V3);c3=w5 - a3;W3=Y5 - B3;m3=Math.atan2(W3,c3);T5=w5 - Math.cos(m3) * p3;I5=Y5 - Math.sin(m3) * p3;Math.sqrt(W3 * W3 + c3 * c3) > p3?(h3=T5 - .5,A3=I5 - +".5"):(h3=a3,A3=B3);c3=g5 - h3;W3=Z5 - A3;m3=Math.atan2(W3,c3);q5=g5 - Math.cos(m3) * F3;n5=Z5 - Math.sin(m3) * F3;if((Math.sqrt(c3 * c3 + W3 * W3) > F3 && (h3=q5 - ".5" * 1,A3=n5 - +".5"),"0" - 0 !== s3 && !z5)){if(h3 <= N3 + 2 && -1 !== J3.indexOf(O5s.Z6w("98" - 0)))return void this.toggleCorner(k3);if(h3 >= N3 - 2 && - +"1" !== J3.indexOf(O5s.k6w(+"61")))return void this.toggleCorner(k3);}S3=h3 + ".5" * 1 * (N3 - h3);M3=A3 + +".5" * (P3 - A3);Math.abs(M3 - P3) >= "1" * 1 || Math.abs(S3 - N3) >= +"1"?(w3=Math.atan((M3 - P3) / (S3 - N3)),Z3=Math.sqrt((N3 - h3) * (N3 - h3) + (P3 - A3) * (P3 - A3)) / +"2",v3=N3 - S3,K3=P3 - M3):(w3="0" * 1,Z3=+"0",v3=+"0",K3=0);w3 !== +w3 && (w3="0" >> 2009823168);T3=Math.abs(v3 / R3);I3=0 === T3?"0" | 0:T3 > ".8" - 0?5 * (+"1" - T3):+"1";w3=o.default.round(w3,"5" ^ 0);u3=(T3 > ".9" * 1?".35" * 1:-(".35" * 1)) * window.devicePixelRatio;A5=n3 > +"1300"?("2" | 2) * u3:u3;if((O5s.Z6w("113" | 80) === J3 || O5s.k6w("137" | 136) === J3?(t3.reversePageTransform=O5s.Z6w("74" ^ 0) + (H3 - Z3 + A5) + O5s.k6w(36) + U3 + O5s.k6w("41" - 0) + w3 + O5s.Z6w(+"81"),t3.maskTransform=O5s.k6w(74) + (-v3 + u3) + O5s.k6w("36" | 32) + -K3 + O5s.k6w("41" * 1) + w3 + O5s.Z6w(+"81"),t3.frontPageTransform=O5s.Z6w(+"74") + (H3 - R3 + Z3) + O5s.Z6w(+"36") + U3 + O5s.Z6w(+"41") + -w3 + O5s.Z6w(+"81")):(t3.reversePageTransform=O5s.Z6w(+"74") + (-R3 + Z3 - A5) + O5s.k6w(+"36") + U3 + O5s.k6w(41) + w3 + O5s.k6w(+"81"),t3.maskTransform=O5s.k6w(+"74") + (-v3 - u3) + O5s.k6w("36" >> 1766875232) + -K3 + O5s.k6w(+"41") + w3 + O5s.Z6w("81" * 1),t3.frontPageTransform=O5s.k6w(+"74") + -Z3 + O5s.Z6w("36" << 253973408) + U3 + O5s.Z6w(+"41") + -w3 + O5s.Z6w(+"81")),0 !== I3))if(O5s.Z6w(+"113") === J3){E5=Z3 / Math.cos(w3);i3=Math.tan(w3) * D3;l3=i3 < +"0"?E5 - i3:Z3;i3 < "0" * 1 && (l3=Math.cos(w3) * l3);t3.flipGradientBackground=g3 + O5s.Z6w("116" - 0) + (".45" - 0) * I3 + O5s.Z6w("69" << 1650384800) + (".15" - 0) * I3 + O5s.Z6w(+"134") + +".01" * l3 + O5s.Z6w(+"103") + ".45" * 1 * I3 + O5s.k6w("134" ^ 0) + +".055" * l3 + O5s.k6w(+"66") + +".65" * I3 * (".32" * 1) + O5s.k6w(134) + +".185" * l3 + O5s.Z6w(+"169") + l3 + O5s.Z6w(+"42");t3.flipGradientTransform=O5s.k6w(74) + (E5 - J5) + O5s.Z6w("18" >> 901869792) + -w3 + O5s.Z6w(+"81");t5=Math.tan(w3) * K3;b3=N3 - e3;b3=b3 < +".03" * n3?+".03" * n3:b3 > (".3" - 0) * n3?".3" * 1 * n3:b3;t3.innerReflexBottomBackground=g3 + O5s.k6w("96" & 2147483647) + +".45" * I3 + O5s.Z6w(+"194") + b3 + O5s.k6w("42" << 874809856);t3.innerReflexBottomTransform=O5s.k6w(+"74") + (n3 - v3 - t5) + O5s.k6w(+"18") + w3 + O5s.k6w("81" | 16);e5=b3 * (".45" * 1 + T3 / ("2" & 2147483647));t3.innerReflexBackground=g3 + O5s.Z6w("29" ^ 0) + (.1 + 1.6 * T3 * (".4" * 1)) + O5s.k6w("194" - 0) + e5 + O5s.Z6w("42" & 2147483647);t3.innerReflexTransform=O5s.k6w(+"74") + (n3 - v3 - t5 - x5) + O5s.Z6w("18" | 0) + w3 + O5s.Z6w("81" - 0);t3.reflexContainerTransform=O5s.Z6w("74" << 1284515744) + (H3 - n3 + Z3) + O5s.k6w("36" - 0) + U3 + O5s.k6w(+"41") + -w3 + O5s.k6w(81);}else if(O5s.Z6w("137" ^ 0) === J3){U5=Z3 / Math.cos(w3);O3=Math.tan(w3) * D3;j3=O3 > +"0"?U5 + O3:Z3;O3 > +"0" && (j3=Math.cos(w3) * j3);t3.flipGradientBackground=g3 + O5s.k6w(+"116") + (".45" - 0) * I3 + O5s.k6w(+"69") + (".15" - 0) * I3 + O5s.k6w("134" - 0) + +".01" * j3 + O5s.Z6w(+"103") + .45 * I3 + O5s.k6w("134" & 2147483647) + +".055" * j3 + O5s.k6w("66" << 2081573728) + ".65" * 1 * I3 * (".32" - 0) + O5s.k6w(+"134") + (".185" - 0) * j3 + O5s.Z6w(169) + j3 + O5s.k6w("42" * 1);t3.flipGradientTransform=O5s.k6w(+"74") + (U5 - J5) + O5s.Z6w(+"18") + -w3 + O5s.Z6w("81" & 2147483647);N5=Math.tan(w3) * K3;r3=N3 - e3;r3=r3 < ".03" * 1 * n3?".03" * 1 * n3:r3 > +".3" * n3?+".3" * n3:r3;t3.innerReflexBottomBackground=g3 + O5s.k6w("96" >> 1580980224) + +".45" * I3 + O5s.k6w(+"194") + r3 + O5s.k6w(42);t3.innerReflexBottomTransform=O5s.Z6w(+"74") + (n3 - v3 - N5) + O5s.Z6w(+"18") + w3 + O5s.k6w("81" | 17);P5=r3 * (.45 + T3 / +"2");t3.innerReflexBackground=g3 + O5s.k6w("29" & 2147483647) + (+".1" + +"1.6" * T3 * +".4") + O5s.Z6w(+"194") + P5 + O5s.k6w(+"42");t3.innerReflexTransform=O5s.Z6w(+"74") + (n3 - v3 - x5 - N5) + O5s.k6w("18" - 0) + w3 + O5s.Z6w(+"81");t3.reflexContainerTransform=O5s.k6w("74" * 1) + (H3 - n3 + Z3) + O5s.Z6w(+"36") + U3 + O5s.k6w(+"41") + -w3 + O5s.k6w(+"81");}else if(O5s.k6w(70) === J3){L3=Z3 / Math.cos(w3);o3=Math.tan(w3) * D3;X3=o3 > +"0"?L3 + o3:Z3;o3 > ("0" ^ 0) && (X3=Math.cos(w3) * X3);t3.flipGradientBackground=g3 + O5s.k6w(+"157") + ".45" * 1 * I3 + O5s.k6w("69" & 2147483647) + (".15" - 0) * I3 + O5s.Z6w("134" ^ 0) + .01 * X3 + O5s.k6w("103" & 2147483647) + .45 * I3 + O5s.k6w(+"134") + (".055" - 0) * X3 + O5s.k6w(+"66") + (".65" - 0) * I3 * .32 + O5s.Z6w(+"134") + +".185" * X3 + O5s.k6w(+"169") + X3 + O5s.k6w("42" << 1523475360);t3.flipGradientTransform=O5s.Z6w(74) + (R3 - L3) + O5s.k6w("18" | 2) + -w3 + O5s.Z6w(81);f3=e3 - N3;f3=f3 < .03 * n3?+".03" * n3:f3 > ".3" * 1 * n3?+".3" * n3:f3;t3.innerReflexBottomBackground=g3 + O5s.Z6w(29) + (".45" - 0) * I3 + O5s.Z6w(+"194") + f3 + O5s.k6w(+"42");t3.innerReflexBottomTransform=O5s.k6w("74" | 2) + (L3 - h5) + O5s.Z6w("18" - 0) + w3 + O5s.Z6w(81);c5=f3 * (+".45" + T3 / +"2");t3.innerReflexBackground=g3 + O5s.Z6w("96" ^ 0) + (".1" * 1 + 1.6 * T3 * .4) + O5s.k6w(+"194") + c5 + O5s.Z6w("42" << 1700970848);t3.innerReflexTransform=O5s.k6w("74" >> 1920538112) + L3 + O5s.k6w(18) + w3 + O5s.Z6w(+"81");t3.reflexContainerTransform=O5s.k6w("74" >> 1035448768) + -Z3 + O5s.Z6w(+"36") + U3 + O5s.k6w("41" >> 938554688) + -w3 + O5s.Z6w("81" >> 1704239424);}else {d3=Z3 / Math.cos(w3);y3=Math.tan(w3) * D3;C3=y3 < 0?d3 - y3:Z3;y3 < 0 && (C3=Math.cos(w3) * C3);t3.flipGradientBackground=g3 + O5s.k6w(+"157") + (".45" - 0) * I3 + O5s.Z6w("69" & 2147483647) + +".15" * I3 + O5s.Z6w(+"134") + +".01" * C3 + O5s.Z6w("103" ^ 0) + +".45" * I3 + O5s.k6w("134" >> 1536966304) + ".055" * 1 * C3 + O5s.k6w("66" ^ 0) + .65 * I3 * (".32" - 0) + O5s.k6w(134) + .185 * C3 + O5s.k6w("169" - 0) + C3 + O5s.k6w(+"42");t3.flipGradientTransform=O5s.Z6w("74" << 1468270720) + (R3 - d3) + O5s.k6w(18) + -w3 + O5s.Z6w("81" * 1);G3=e3 - N3;G3=G3 < .03 * n3?(".03" - 0) * n3:G3 > .3 * n3?".3" * 1 * n3:G3;t3.innerReflexBottomBackground=g3 + O5s.k6w(+"29") + +".45" * I3 + O5s.Z6w("194" * 1) + G3 + O5s.k6w(+"42");t3.innerReflexBottomTransform=O5s.Z6w(+"74") + (d3 - h5) + O5s.k6w(+"18") + w3 + O5s.k6w("81" ^ 0);W5=G3 * (+".45" + T3 / +"2");t3.innerReflexBackground=g3 + O5s.k6w(+"96") + (+".1" + +"1.6" * T3 * (".4" * 1)) + O5s.Z6w(+"194") + W5 + O5s.k6w("42" - 0);t3.innerReflexTransform=O5s.k6w(74) + d3 + O5s.Z6w(18) + w3 + O5s.k6w(+"81");t3.reflexContainerTransform=O5s.Z6w("74" | 74) + -Z3 + O5s.k6w("36" << 1968955904) + U3 + O5s.k6w("41" ^ 0) + -w3 + O5s.Z6w(81);}this[x3].reversePage.style[z3]=t3.reversePageTransform;this[x3].mask.style[z3]=t3.maskTransform;this[x3].frontPage.style[z3]=t3.frontPageTransform;this[x3].flipGradient.style.background=t3.flipGradientBackground;this[x3].flipGradient.style[z3]=t3.flipGradientTransform;v5 || this.bookState.singleMode?this.innerReflexBottom.style.display=O5s.Z6w("85" | 0):(this.innerReflexBottom.style.background=t3.innerReflexBottomBackground,this.innerReflexBottom.style[z3]=t3.innerReflexBottomTransform,this[x3].innerReflex.style.background=t3.innerReflexBackground,this[x3].innerReflex.style[z3]=t3.innerReflexTransform,this[x3].innerReflex.style.display="0" << 1461413120 === I3?O5s.Z6w("85" - 0):O5s.Z6w("54" >> 1333424448));this[x3].reflexContainer.style[z3]=t3.reflexContainerTransform;this.follow=new $(a3,B3);this.corner=new $(h3,A3);this.radius1=new $(T5,I5);this.radius2=new $(q5,n5);this.progress=T3;this.renderData=t3;this.middle={'\u0078':S3,'\u0079':M3,'\u0064\u0069\u0073\u0074':Z3,'\u0061\u006c\u0066\u0061':w3,'\u0064\u0069\u0073\u0074\u0058':v3,'\u0064\u0069\u0073\u0074\u0059':K3};(this.bookState.left.isFirstSheet && - +"1" !== J3.indexOf(O5s.k6w("98" & 2147483647)) || this.bookState.left.isLast || this.bookState.right.isFirst || this.bookState.right.isLastSheet && -("1" << 767261184) !== J3.indexOf(O5s.k6w(+"61")) || k3.fakePointer && this.bookState.left.isFirstSheet || k3.fakePointer && this.bookState.right.isLastSheet) && this.setDynamicStyles(!("0" * 1));};w.prototype.finishRender=function(f5,R5,X5,b5){var h5s=E7TT;var G5,K5,r5,j5,l5,C5;if((f5=f5 || ! +"1",this.postPager=!("1" & 2147483647),h5s.k6w("130" >> 1158065280) !== this[this.currentWrapper].type)){G5=this.progress < +".5"?this.corner.x - this.startX:h5s.Z6w("113" | 65) === this.startPoint || h5s.Z6w("137" >> 1998617120) === this.startPoint?this.corner.x - this.startX + this.bookWidth:this.corner.x - this.startX - this.bookWidth;h5s.k6w(+"61") === R5?(this.progress=".9" * 1,G5=this.corner.x - this.startX - this.bookWidth):h5s.Z6w("98" << 1106396640) === R5 && (this.progress=".9" * 1,G5=this.corner.x - this.startX + this.bookWidth);K5=this.corner.y - this.startY;r5=this.corner.x;j5=this.corner.y;l5=this;this.deltaFromCorner="0" | 0;C5=function(){var k5,Q5;k5={'\u0070\u0061\u0067\u0065\u0058':r5,'\u0070\u0061\u0067\u0065\u0059':j5};Q5=function(){l5.render({'\u0070\u0061\u0067\u0065\u0058':r5 - G5,'\u0070\u0061\u0067\u0065\u0059':j5 - K5},! +"0");l5.progress > +".5" && (h5s.Z6w(113) === l5.startPoint || h5s.k6w(137) === l5.startPoint?l5[l5.currentWrapper].setLeft():l5[l5.currentWrapper].setRight());o.default.removeClass(l5[l5.currentWrapper].mask,h5s.k6w(+"129"));l5.state=h5s.k6w("106" & 2147483647);Object(d.getStore)().dispatch(h5s.k6w("80" * 1),{'\u006e\u0065\u0077\u0053\u0074\u0061\u0074\u0065':h5s.Z6w("106" & 2147483647)});l5[l5.currentWrapper].mask.style.top=h5s.Z6w("33" - 0);l5[l5.currentWrapper].mask.style[l5.transformMethod]=h5s.k6w(+"54");l5[l5.currentWrapper].frontPage.style[l5.transformMethod]=h5s.Z6w("54" ^ 0);l5[l5.currentWrapper].reversePage.style[l5.transformMethod]=h5s.k6w("115" & 2147483647);l5.innerReflexBottom.style[l5.transformMethod]=h5s.Z6w(111);l5.innerReflexBottom.style.display=h5s.Z6w(+"54");l5[l5.currentWrapper].reflexMask && (l5[l5.currentWrapper].reflexMask.style.overflow=h5s.Z6w("54" * 1));h5s.o5s();l5.progress > ".5" - 0 && !X5 && (h5s.Z6w("113" << 2039922880) === l5.startPoint || h5s.k6w(+"137") === l5.startPoint?l5.trigger(h5s.k6w(+"160")):l5.trigger(h5s.Z6w("145" - 0)));X5?l5.trigger(h5s.k6w(+"21"),b5):l5.trigger(h5s.k6w(+"179"),b5);l5.progress > ".5" - 0 && X5 && (h5s.Z6w(+"113") === l5.startPoint || h5s.Z6w("137" & 2147483647) === l5.startPoint?l5.trigger(h5s.Z6w(188)):l5.trigger(h5s.Z6w(+"30")));o.default.removeClass(l5.globalWrapper,h5s.Z6w(+"15"));l5.progress=+"1";};f5?Q5():l5.tween=new h.a.Tween(k5).to({'\u0070\u0061\u0067\u0065\u0058':r5 - G5,'\u0070\u0061\u0067\u0065\u0059':j5 - K5},+"350").easing(h.a.Easing.Sinusoidal.Out).onUpdate(function(){f5 || l5.render(k5);}).onComplete(Q5).start();};this.tween && this.tween._isPlaying?this.tween.onStop(function(){h5s.b5s();C5();}).stop():C5();}else this.finishRenderHard(f5,R5,X5,b5);};w.prototype.startRenderHard=function(B5,D5,m5){var r5s=E7TT;var s5;r5s.b5s();s5=B5.pageX - this.bookMarginLeft;s5 > this.pageWidth && r5s.Z6w(+"98") !== m5 || r5s.k6w("61" * 1) === m5?(this.startPoint=r5s.k6w(+"137"),this.currentWrapper=r5s.k6w("3" * 1),this.startX=this.bookMarginLeft + this.bookWidth,this.finishX=this.bookMarginLeft):(this.startPoint=r5s.Z6w("16" | 0),this.currentWrapper=r5s.Z6w("10" & 2147483647),this.startX=this.bookMarginLeft,this.finishX=this.bookMarginLeft + this.bookWidth);this.isIE && (this[this.currentWrapper].firstPage.style[this.transformOriginMethod]=r5s.k6w("56" ^ 0),this[this.currentWrapper].secondPage.style[this.transformOriginMethod]=r5s.Z6w(+"27"));o.default.addClass(this[this.currentWrapper].mask,r5s.Z6w(+"119"));this.trigger(r5s.Z6w(154),{'\u0064\u0072\u0061\u0067':D5,'\u0068\u0069\u0064\u0065':s5 > this.pageWidth?r5s.k6w(+"61"):r5s.Z6w(98)});this.state=r5s.Z6w("173" ^ 0);Object(d.getStore)().dispatch(r5s.Z6w(+"80"),{'\u006e\u0065\u0077\u0053\u0074\u0061\u0074\u0065':r5s.k6w(+"173")});};w.prototype.renderHard=function(L5){var Y5s=E7TT;var u5,d5,a5;a5=this.pageWidth;d5=(d5=(d5=Y5s.Z6w("137" << 2048168000) === this.startPoint?L5.pageX - (this.bookMarginLeft + this.pageWidth):this.bookMarginLeft + this.pageWidth - L5.pageX) > this.pageWidth?this.pageWidth:d5) < -this.pageWidth?-this.pageWidth:d5;u5=Math.acos(d5 / a5);u5=Y5s.k6w(+"137") === this.startPoint?-u5:u5;this.progress=+"1" * Math.abs(u5 / Math.PI).toFixed(+"2");this.pageX=L5.pageX;this.isIE?Y5s.k6w("137" << 158723904) === this.startPoint?(this[this.currentWrapper].firstPage.style[this.transformMethod]=Y5s.Z6w(201) + u5 + Y5s.Z6w(+"81"),this[this.currentWrapper].secondPage.style[this.transformMethod]=Y5s.Z6w("53" << 1023814272) + -g * this.pageWidth + Y5s.Z6w(+"35") + (u5 + Math.PI) + Y5s.Z6w("81" >> 688424448)):(this[this.currentWrapper].firstPage.style[this.transformMethod]=Y5s.Z6w("53" * 1) + g * this.pageWidth + Y5s.Z6w("35" * 1) + (u5 + Math.PI) + Y5s.Z6w(+"81"),this[this.currentWrapper].secondPage.style[this.transformMethod]=Y5s.Z6w("201" - 0) + u5 + Y5s.k6w(+"81")):this[this.currentWrapper].mask.style[this.transformMethod]=Y5s.k6w(+"84") + u5 + Y5s.Z6w(+"81");this.setDynamicStyles();};w.prototype.finishRenderHard=function(y5,p5,i5,E0){var v5s=E7TT;var O5,S5,F5,o5,M5,H5,V5;O5=this.progress;S5={'\u0078':this.progress,'\u0070\u0061\u0067\u0065\u0058':this.pageX};F5=v5s.Z6w(137) === this.startPoint && v5s.Z6w(+"98") === p5 || v5s.Z6w(+"16") === this.startPoint && v5s.Z6w("61" - 0) === p5;o5=O5 > +".35" && (v5s.Z6w(137) === this.startPoint && this.bookState.right.isFirst || v5s.Z6w("16" - 0) === this.startPoint && this.bookState.left.isLast);v5s.b5s();M5=O5 > ".5" * 1 || o5 || F5;H5=this;V5=function(){var q0;q0=function(){H5.state=v5s.Z6w("106" * 1);Object(d.getStore)().dispatch(v5s.Z6w("80" >> 1893923232),{'\u006e\u0065\u0077\u0053\u0074\u0061\u0074\u0065':v5s.Z6w("106" << 1112808640)});o.default.removeClass(H5[H5.currentWrapper].mask,v5s.Z6w(119));H5[H5.currentWrapper].mask.style[H5.transitionMethod]=v5s.Z6w("54" ^ 0);v5s.b5s();H5.isIE?(H5[H5.currentWrapper].firstPage.style[H5.transformMethod]=v5s.k6w(+"54"),H5[H5.currentWrapper].secondPage.style[H5.transformMethod]=v5s.k6w(+"54"),H5[H5.currentWrapper].firstPage.style[H5.transformOriginMethod]=v5s.Z6w(54),H5[H5.currentWrapper].secondPage.style[H5.transformOriginMethod]=v5s.Z6w("54" | 32)):H5[H5.currentWrapper].mask.style[H5.transformMethod]=v5s.k6w(54);M5 && (v5s.Z6w(137) === H5.startPoint && v5s.k6w(+"61") !== p5?(H5[H5.currentWrapper].setLeft(),i5 || H5.trigger(v5s.k6w(+"160"))):v5s.Z6w(+"16") === H5.startPoint && v5s.k6w(+"98") !== p5 && (H5[H5.currentWrapper].setRight(),i5 || H5.trigger(v5s.k6w(+"145"))));i5?H5.trigger(v5s.Z6w(+"21"),E0):H5.trigger(v5s.k6w("179" << 1869749792),E0);M5 && i5 && (v5s.k6w(+"113") === H5.startPoint || v5s.k6w("137" - 0) === H5.startPoint?H5.trigger(v5s.k6w(+"188")):H5.trigger(v5s.Z6w("30" << 1277115520)));o.default.removeClass(H5.globalWrapper,v5s.Z6w(+"15"));y5 && (H5.setDynamicStyles(),H5.progress=+"1");};y5?q0():H5.tween=new h.a.Tween(S5).to({'\u0078':M5?"1" * 1:0,'\u0070\u0061\u0067\u0065\u0058':M5?H5.finishX:H5.startX},+"500").easing(h.a.Easing.Sinusoidal.Out).onUpdate(function(){H5.progress=S5.x;v5s.o5s();H5.renderHard({'\u0070\u0061\u0067\u0065\u0058':S5.pageX});}).onComplete(q0).start();};this.tween && this.tween._isPlaying?this.tween.onStop(function(){V5();}).stop():V5();};w.prototype.shiftPagesLeft=function(){this.preWrapper.destroy();this.preWrapper=this.leftWrapper.setLayer(this.leftWrapper.layer - ("1" - 0));this.leftWrapper=this.rightWrapper;this.rightWrapper=this.nxtWrapper.setLayer(this.nxtWrapper.layer + ("1" << 1628257152));E7TT.b5s();this.nxtWrapper=Object(s.default)(this.storedStates.length > "0" >> 1838610112?this.storedStates.shift():this.bookState.getState(),this.bookState,this.bookDiv,! +"0","2" - 0,!("1" << 700284864),this.parentVm,this.contentCreator);this.trigger(E7TT.k6w(+"141"));};w.prototype.shiftPagesRight=function(){this.nxtWrapper.destroy();this.nxtWrapper=this.rightWrapper.setLayer(this.rightWrapper.layer - +"1");this.rightWrapper=this.leftWrapper;this.leftWrapper=this.preWrapper.setLayer(this.preWrapper.layer + 1);this.preWrapper=Object(s.default)(this.storedStates.length > +"0"?this.storedStates.shift():this.bookState.getState(),this.bookState,this.bookDiv,!1,2,! +"0",this.parentVm,this.contentCreator);this.trigger(E7TT.k6w(141));};w.prototype.flipToLeft=function(){var Y0,w0,n0,I0,t0,Z0,N0,T0;Y0=this;w0=arguments.length > ("0" | 0) && void +"0" !== arguments[+"0"] && arguments[+"0"];n0=arguments.length > +"1" && void +"0" !== arguments["1" & 2147483647] && arguments[1];E7TT.b5s();I0=arguments.length > +"2"?arguments[2]:void +"0";if(!this.bookState.left.isLast || Object(d.getStore)().state.pager.forceFlip){t0=this._getBookLeftMargin();Z0={'\u0070\u0061\u0067\u0065\u0058':t0 + this.bookWidth - 1,'\u0070\u0061\u0067\u0065\u0059':this.bookMarginTop};N0={'\u0070\u0061\u0067\u0065\u0058':t0 - ("2" << 857565344)};T0=function(h0,g0){E7TT.o5s();h0.pageY=Y0.bookMarginTop - Math.min(Y0.bookWidth,Y0.bookHeight) / 10 * (g0 > ".5" - 0?+"1" - g0:g0);};this._internalFlip(w0,n0,I0,Z0,N0,T0);}};w.prototype.flipToRight=function(){var x0,J0,A0,U0,v0,c0,W0,P0;E7TT.o5s();x0=this;J0=arguments.length > "0" >> 1102491968 && void 0 !== arguments[0] && arguments[+"0"];A0=arguments.length > +"1" && void 0 !== arguments[1] && arguments["1" & 2147483647];U0=arguments.length > +"2"?arguments[+"2"]:void 0;if(!this.bookState.right.isFirst || Object(d.getStore)().state.pager.forceFlip){v0=this._getBookLeftMargin();c0={'\u0070\u0061\u0067\u0065\u0058':v0 + +"1",'\u0070\u0061\u0067\u0065\u0059':this.bookMarginTop};W0={'\u0070\u0061\u0067\u0065\u0058':v0 + this.bookWidth};P0=function(z0,e0){z0.pageY=Math.round(x0.bookMarginTop - ("100" & 2147483647) * (e0 > ".5" - 0?+"1" - e0:e0));};this._internalFlip(J0,A0,U0,c0,W0,P0);}};w.prototype._internalFlip=function(){var f0,X0,j0,K0,G0,C0,b0,l0,r0;X0=arguments.length > ("0" ^ 0) && void +"0" !== arguments[+"0"] && arguments[+"0"];j0=arguments.length > "1" << 268690880 && void ("0" * 1) !== arguments[+"1"] && arguments[1];K0=arguments.length > 2?arguments["2" - 0]:void +"0";G0=arguments.length > +"3"?arguments[+"3"]:void +"0";C0=arguments.length > +"4"?arguments["4" ^ 0]:void ("0" ^ 0);b0=arguments.length > 5?arguments[5]:void +"0";this.storedStates.push(K0 || this.bookState.getState());l0=this;r0=function(){l0.startRender(G0,!("0" ^ 0));l0.postPager=! +"0";j0?l0.finishRender(!("0" >> 866263040),null,X0):l0.tween=new h.a.Tween(G0).to(C0,500 / l0.speedRate).easing(h.a.Easing.Sinusoidal.Out).onUpdate(function(){E7TT.b5s();E7TT.k6w(+"130") !== l0[l0.currentWrapper].type?(b0(G0,l0.progress),G0.fakePointer=! +"0",l0.render(G0,!0)):l0.renderHard(G0,! +"0");}).onComplete(function(){l0.finishRender(!("0" * 1),null,X0);}).start();};(null === (f0=l0.tween) || void ("0" >> 267897280) === f0?void +"0":f0._isPlaying)?l0._stopInternalFlip(r0):r0();};w.prototype._stopInternalFlip=function(Q0){var R0,k0;k0=this;(null === (R0=this.tween) || void +"0" === R0?void +"0":R0._isPlaying) && this.tween.onStop(function(){var L1s=E7TT;var s0;s0=- +"1" !== k0.startPoint.indexOf(L1s.k6w(98))?L1s.Z6w("61" - 0):L1s.Z6w(+"98");k0.finishRender(!("0" ^ 0),s0,!("0" * 1),!("0" * 1));L1s.o5s();null == Q0 || Q0();}).stop();};w.prototype._getBookLeftMargin=function(){var m0,B0;m0=this.bookMarginLeft;B0=this.bookWidth;this.bookState.hardcover && !this.bookState.singleMode && (m0=null === (this.bookState.rtl?Object(d.getStore)().state.pager.rightPage:Object(d.getStore)().state.pager.leftPage)?-B0 / ("2" >> 1533903712):0);return m0;};w.prototype.flipToPager=function(){var a5s=E7TT;var D0,d0,L0,a0,u0,p0,H0,M0,S0,i0;D0=this;this._stopInternalFlip();d0=!("0" & 2147483647);if((Object(d.getStore)().dispatch(a5s.k6w(+"144"),{'\u0066\u006f\u0072\u0063\u0065\u0046\u006c\u0069\u0070':! +"0"}),Math.max(this.leftWrapper.secondPageNum,this.rightWrapper.firstPageNum) > Math.max(this.bookState.currentLeft,this.bookState.currentRight) && (d0=! +"1"),d0)){-("1" & 2147483647) === this.leftWrapper.secondPageNum && this.bookState.left.isLast && o.default.addClass(this.globalWrapper,a5s.k6w(+"15"));a0=null !== (L0=[this.bookState.right,this.bookState.left].filter(function(O0){return !O0.isNull;})[+"0"]) && void ("0" ^ 0) !== L0?L0:this.bookState.right;u0=this.bookState.hardcover && (a0.isLastSheet || a0.isLast);if((this.bookState.left.isLast || u0?(this.nxtWrapper.destroy(),this.nxtWrapper=Object(s.default)(this.bookState.getState(),this.bookState,this.bookDiv,!0,"2" >> 2034296000,!("1" - 0),this.parentVm,this.contentCreator,a5s.Z6w(+"61"),u0,! +"0")):this.bookState.left.isLast || this.nxtWrapper.setContent({'\u0066\u0069\u0072\u0073\u0074':null,'\u0073\u0065\u0063\u006f\u006e\u0064':null},this.parentVm,this.contentCreator),this.bookState.left.isLast && this.bookState.hardcover)){p0=this.rightWrapper.firstPageNum;this.rightWrapper.destroy();this.rightWrapper=Object(s.default)(this.bookState.getState(),this.bookState,this.bookDiv,!("1" | 0),"3" & 2147483647,!("1" & 2147483647),this.parentVm,this.contentCreator,a5s.Z6w(+"98"));this.rightWrapper.setRight();this.rightWrapper.setContent({'\u0066\u0069\u0072\u0073\u0074':p0},this.parentVm,this.contentCreator);}else this.rightWrapper.setContent({'\u0073\u0065\u0063\u006f\u006e\u0064':null},this.parentVm,this.contentCreator);this.once(a5s.Z6w("179" ^ 0),function(){o.default.removeClass(D0.globalWrapper,a5s.Z6w("15" | 9));D0.resetWrappers();},this);this.flipToLeft();}else {-("1" << 1081496160) === this.rightWrapper.firstPageNum && this.bookState.right.isFirst && o.default.addClass(this.globalWrapper,a5s.Z6w("15" * 1));M0=null !== (H0=[this.bookState.left,this.bookState.right].filter(function(V0){return !V0.isNull;})[0]) && void +"0" !== H0?H0:this.bookState.left;S0=this.bookState.hardcover && (M0.isFirstSheet || M0.isFirst);if((this.bookState.right.isFirst || S0?(this.preWrapper.destroy(),this.preWrapper=Object(s.default)(this.bookState.getState(),this.bookState,this.bookDiv,!1,"2" << 1529472800,! +"1",this.parentVm,this.contentCreator,a5s.Z6w(98),S0)):this.bookState.right.isFirst || this.preWrapper.setContent({'\u0066\u0069\u0072\u0073\u0074':null,'\u0073\u0065\u0063\u006f\u006e\u0064':null},this.parentVm,this.contentCreator),this.bookState.right.isFirst && this.bookState.hardcover)){i0=this.leftWrapper.secondPageNum;this.leftWrapper.destroy();this.leftWrapper=Object(s.default)(this.bookState.getState(),this.bookState,this.bookDiv,! +"0",+"3",!("1" * 1),this.parentVm,this.contentCreator,a5s.Z6w(+"61"));this.leftWrapper.setLeft();this.leftWrapper.setContent({'\u0073\u0065\u0063\u006f\u006e\u0064':i0},this.parentVm,this.contentCreator);}else this.leftWrapper.setContent({'\u0066\u0069\u0072\u0073\u0074':null},this.parentVm,this.contentCreator);this.once(a5s.k6w(+"179"),function(){o.default.removeClass(D0.globalWrapper,a5s.Z6w("15" * 1));D0.resetWrappers(!("1" - 0));},this);this.flipToRight();}};function q7TT(){return "n69%3C6%7B#;8'%3C?.1$3-.it$%3C)741%0F%7B=&8x6!80,1.~%3E9.%207:3324u2%3C7%20&11%3C~%20o+%7D;:)$%7B129+tx;%3C$$y;2.=%60z?=.?$1x)nvn$748z%60z0?4&m69%3C6vn%3C7!9%7B-5%258%7Dx):%25:93n.ess3.29!%3E3m#%3E:)3m61s&:%252%22i=&8xf#%25%7F%60&9'%3C%22%25%7C6#%25%7F%20$.h53)3%3E'g60,m.s0,=&~?9/?v%7D5720%7B%3E%3C%25+tx:3%25)03%7D'gz50'8$%60/!:9%22(nv3p60,m.s0,=&~?9/?v%7D.%22!%20?0p4/;=ss;!'=%7D0%04;835)l%20$9:3%22%25&6#%3C1%25&y&30213)86):86/%7B210?8.m69')9-4&+f%22/$lsp6%7B)x51?0y4%3C2=%60z%3E2/2m97%206-7=2'5l%205$:%3C%7B(=2788%20%20$23%25,5%226%05~%2044%3C2=m03#)%3E%20dsshfe4!%3C/=3$708y31%22%00)74!%253263#?#860,m.s0,=&~?9/?v%7D/3&83+p0)&%25'g4%2529!8-7=2'5l%20&?45%22%20$.h%20x&8?#p1252()90n6#%25m%60%209#gvp$.h%2060583s4/;=3-.lt$4?7hdzcqfl45;%3C8'1l2%3E%22)%223%00)$)$33j&84%7F%7F%7D$'67%7Bocuxdfhzrac%7F=4/%20%22%3C0:%252%223-.%7B)x51?0y4%3C2=%60z%3E2/2m97%206vn=8%2042%25z,%60g7&%203!%7D-7=2'5l%604&+f+n2::-%7B%22;98%7Dx(5$7p;!'=(13&%20lsp6-;4:13%20%20$23%25,5%226n2h4&+f+n2::-%7B%22;98%7Dx-5%258&!)0%22;g6,2%22~.274563%22%25&651?069%3C6%7B3%20/?8%25%2054%202:5%2033-7'1$%7C.34%12::-%0545%226=$!0%7F3~4/;=i?3&;$6qvc69%3C6l!2%226/-7=2'5l%20$748$o39%152$75$7=%22258%201741%0C%7Bl&8%7Dv!2%22!%203%0Au6.;86=5,=58=&8ov;8?'%3C%22i=&!:3=96n:3+)%7B%22!%22'28%20$7=13&%206%7D;:)$%7B129+tx5(:,y%257*l!2%226/z%60z0?4&m69%3C6vn&1'p%25$#l2;%22%25&zss0,=&~?9/?v%7D104y%257*l!2%226/v;%209#g60,m!41(%20ls=$%25'3'g!25&#8$34gcms%60ds3-7'1$%7C:9%14;%062:3%02-%1F=9384%7B4/7$=3=)~,10'qv2342ufldzcq60,ms13&%20l313&%206;87$4&2:32%7B0!83:16c%7Dgp$.3s&21%20:2#3y4&)%22/:6#%25z%60&11%3C~rac%7Focuxdfhz%200?%25=?.=%22i99.16#88$=84=&8o+%7D;:)$%7B129+tx129+z%3E2/2z6352$%25t-1%3C5+3$%3C(8$y5%3C192n6%20)$)$3~1791$s.%3E!09$=&8o+p?9/?x!:%22m'2$g4%2529!8z%60w4%3C2=n&1'p%25$#l2;%22%25&v(*?$%20%3Ei=&8ov?804nvcfv4;&i=%22258%201741e7u%7Budfc-.lt%7Bfmfp$.%7F%7Dfi44%3C2=%6044%3C)%22/9$::%3E44&+fv4;&i%7D%7B%20%20$23%25,5%226n2hyccmf0,zsmz%60d%7F3p1252:884%7C$::%3E4xv!:4!%7Cdfhzrac%7Focux6%0484%0B=%22/%109:(%1B%00!%19%20%7D62%3E%22);83/3!0/3%3E%3E!:16g%25(52%3C*60,m?804nv~=&8o!:9%22(n6%7F=&!:##=&8o+%7D;:)$%7B129+tx:38%25&%7B!80,1.~073?v%7D48.1$~/3&83+&;!&1:3%7B,10'g6pqvbmfe4%25'/?01%25%04424%3C6$2$+4%3E2/2%20%20$&86-;#%208;/%2233?9$-6z%7D60,m.s0,=&~?9/?v%7D.%22!%20?0p4/;=ss;!'=(*?$%20%3Ei=%20)'?113%20%209#/?'%3C%223.%22!%20?0p4/;=3-#%228?0%3C%22);8~39416#%25m=z0?4&m69%3C6vn=8=8$m&35138y;2.=;835)l%202::-l&=8:.%3E%2506#%25v%20ee#%2560516/y31%22%152$#1%10?4&%202::-l4;%04::%3E444%3C)%22/96#%25+n2::-%7B%22;98%7Dx3%20$:-3m87*8$n'%3E2997/!:9%22(n6?804y%25'/?01%7B119#?6pmfp4%22!%3C8329!0%192=1:363;0'=2!%207~.3444%3C2=m'%22%3C-&%2506!88$1$i.%22!&%223-7'1$%7C:9%02558*7206#%25m,10'gv%20y1!%3C2)18'u:%252%22%7F%7D$'67%7Bocuxdfhzrac%7F=$%25'3'g%254-:6.6-;#%20895%20651?0n%22%3C%113&%206%7D?9/?%7B02845?=8$%60w4%3C2=%20$7=997:6cxvpq6cxv%20$.h%20u%22;98s:&%20%7B%209!z6352$%25xvp?9/?x?;%22m'2$g7&%203!%7D-7=2'5l%20$7=09616%20)/,16#%25m=z0?4&m69%3C6vn%3C7!9%7B-5%258s%3E%12=1;)-,10'g60,zs)$!:%25#%3C$%25:%22s=&8ov;8?'%3C%22i%7D60,m.s&!33~;:)$%7B02845?=8$;#?7)%3Ez4%25613#%20%7B'8.4y4?25+4?=%0D$/3$6.%25%20&?45%22m'%22!4&%25y4?25+44?25+4%25;%3C2/#6#%256r06!88$1$i;?.=%25;=5,5%25%20=!(=%226=&8o;2/1):%7B'2&z4&+fv,10'gvm4%22%3C-6qdfv%7D6)4;%3C+?.3%7B;%3C$$4%25;404n%22%3C%113&%206#%25+n2::-%7B%22;98%7Dx(5$7p;!'=ss&!33~;:)$%7B02845?=8$;#?7)%3Ez4&+f+n2::-%7B%22;98%7Dx3%20$:-3m87*8$n'%22!4&%25/!:9%22(n6~1?.17!=&8o+%7D;:)$%7B129+tx%3E2%20):1~5720v%7D5720%7B%3E%3C%25+tx#%3C1%25y0?4&m79=)7):3!s?.'?78l%2210%3C/3;670612;#=9%7B#;:%3C/l%20$.h%20x&8?#p4/;=ss?.:3!p$%252:6%25z%60z0?4&m69%3C6vn=8=8$m&35138y4%3C)%22/9-$424%3Cl3tvp$.%7F%7D%22258%20-7218'%7D6%60'95)v%20$.h%20x2=1;)%7B0516&:%252%22i=%22258%20;9296#%25m=z0?4&m69%3C6vn&35138y:6;%22z6352$%25/!:9%22(n6#%25m=z0?4&m69%3C6vn%3C7!9%7B-5%258%7Dx0516p0,=&~%3E9.%207:332z?=.?$1v%7D-7'1l60&4-z%7D;:)$%7B129+tx;%3C$$y;2.=%60z?=.?$1v%7D88&;$08%7B7%3C?'8%7B%223v(*?$%20%3Ei=&8o+%7D;:)$%7B129+tx!80,1.~%3E9.%207:332f-$424%3Cl3)$!:%25?%3C%22%25g2%7Bm&8xvc-.ltf#%25%7F%60&9'%3C%22%25%0D~3-.%7B)x%3E%3C%25+z;%01&:%252%22i=&8o+%7D;:)$%7B129+tx!80,1.~/?'%3C%22i?3&;$6&!)0%22;g60,m.s0,=&~?9/?v%7D.%22!%20?0p4/;=ss$)3%3E'p&!33(13&%20lc-.%7B)x51?0y4%3C2=%60z$6;:%25,%7B02845?=8$;#?7)%3Ez4&2:33%7B&2:3%035&'49.%16/%1A32%25,6'2##%3C;%3C+3%20$.h%7D%22/$l3;?.=%25;48'4&+f+n2::-%7B%22;98%7Dx(5$7p;!'=ss?.'?78x:ev%7D-7'1zss0,=&~?9/?v%7D5720%7B%3E%3C%25+tx:3%25)03%7D'g%60z3=;9273~*%3E)%203~?1%60/$::%3E4n6%7B=eq$.3/14y%257*60,m.s&!33~;:)$%7B02845?=8$;#?7)%3Ez426;758%223-.%7B)6!41(%20%01!%3C&01$3lfpdfcmfpd651?0y4%3C2=%20$7=%3E7.73?=%22258%204%22);83s0,=&~?9/?v%7D?9/?l180/&3%7F%7Dx&8?#p4/;=ss4/;=i%3C041$(53)3%3E'gv%20o+%7D;:)$%7B129+tx;%3C$$y;2.=%60z&2:3m2::-%7B#;8'%3C?.1$%7D2#4'?78vn$748v;670612;#=9%7B#;:%3C/l%20$.h%20x&8?#p4/;=ss%3E!&2~073?-?804nv~=%22/$:6;%22%20835)%0125&#8$%200/=%3C;)7%7B51?069%3C6%7B3%20/?8%25%20d&+%7D63%20$:-3m87*8$%60'%22!4&%25470)?61%05'/?01654$3%20%7B'2%7B,5%25'=%254&?#8%25%17=2'560,ms)90nvc-.%7B)6'2&,10'=v(5$7%7D60,zc-.ld&+tv2;%222)3h4&+%20x-5%258s!/&=(53)3%3E'g6&!:?p%25$#6!88$1$i;9273%1548)'%3E3/3&83+p5/:%22248%25&6129+4523%20!'6$p5(&9%3E86qdfv%7Dgpds3-7.'%222/%22%20efcxvuds3qvq%7D6#%25m=z0?4&m69%3C6vn'%222)?#y4%3C2=%60z$::%3E4y&2:3;835)lp$.h%20x&8?#p4/;=ss$%252:6%25%7B#;8'%3C?.1$(*?$%20%3Ei=%7B'&7743.%20~!41(%20zs/1%225~cqfldz3.%3E)2%22i)9%12=1;)6058!41(%206780!!:'=f0,6#(4,=52)?/:%7B=2%22%25";}w.prototype.initOnceSizes=function(){var W5s=E7TT;var F0,Y8,n8,t8,o0,I8,Z8,w8,y0,E8,q8;F0=this.bookHeight;Y8=this.maskTop;n8=this.flipGradientWidth;t8=this.flipGradientTop;o0=this.transformOriginMethod;I8=this.innerReflexWidth;Z8=this.innerReflexBottomWidth;w8=this.innerReflexBottomMarginTop;y0=this.renderData;E8=this.currentWrapper;q8=this.innerReflexMarginTop;W5s.b5s();switch(this.startPoint){case W5s.k6w(113):(this.renderData.reversePageOrigin=W5s.Z6w(+"127"),this.renderData.frontPageOrigin=W5s.Z6w("25" ^ 0),this.renderData.maskOrigin=W5s.Z6w(185) + (F0 + Y8) + W5s.k6w(+"177"),this.renderData.flipGradientOrigin=n8 + W5s.k6w("142" >> 1591484480) + (F0 + t8) + W5s.Z6w("177" | 48),this.renderData.innerReflexBottomOrigin=W5s.k6w("12" - 0) + (F0 + w8) + W5s.k6w(177),this.renderData.innerReflexOrigin=I8 + W5s.Z6w(+"142") + (F0 + q8) + W5s.Z6w(177),this.renderData.reflexContainerOrigin=W5s.k6w(+"25"));break;case W5s.k6w("137" - 0):(this.renderData.reversePageOrigin=W5s.Z6w(+"163"),this.renderData.frontPageOrigin=W5s.Z6w(+"94"),this.renderData.maskOrigin=W5s.k6w(185) + Y8 + W5s.Z6w("177" - 0),this.renderData.flipGradientOrigin=n8 + W5s.k6w(+"142") + t8 + W5s.k6w(177),this.renderData.innerReflexBottomOrigin=W5s.k6w("12" << 49932512) + w8 + W5s.k6w("177" * 1),this.renderData.innerReflexOrigin=I8 + W5s.Z6w(142) + q8 + W5s.k6w(+"177"),this.renderData.reflexContainerOrigin=W5s.Z6w("94" - 0));break;case W5s.Z6w("70" ^ 0):(this.renderData.reversePageOrigin=W5s.Z6w("25" ^ 0),this.renderData.frontPageOrigin=W5s.Z6w("127" ^ 0),this.renderData.maskOrigin=W5s.Z6w("164" * 1) + (F0 + Y8) + W5s.k6w("177" - 0),this.renderData.flipGradientOrigin=W5s.k6w("12" ^ 0) + (F0 + t8) + W5s.k6w(+"177"),this.renderData.innerReflexBottomOrigin=Z8 + W5s.Z6w("142" * 1) + (F0 + w8) + W5s.Z6w(177),this.renderData.innerReflexOrigin=W5s.Z6w(+"12") + (F0 + q8) + W5s.k6w(+"177"),this.renderData.reflexContainerOrigin=W5s.Z6w("127" << 1477186176));break;default:(this.renderData.reversePageOrigin=W5s.Z6w("94" << 433015296),this.renderData.frontPageOrigin=W5s.Z6w(+"163"),this.renderData.maskOrigin=W5s.k6w(+"164") + Y8 + W5s.Z6w(+"177"),this.renderData.flipGradientOrigin=W5s.Z6w("12" ^ 0) + t8 + W5s.k6w("177" | 176),this.renderData.innerReflexBottomOrigin=Z8 + W5s.Z6w(+"142") + w8 + W5s.Z6w(+"177"),this.renderData.innerReflexOrigin=W5s.k6w("12" >> 475026784) + q8 + W5s.k6w("177" >> 1387475424),this.renderData.reflexContainerOrigin=W5s.k6w("163" >> 266193568));}this[E8].reversePage.style[o0]=y0.reversePageOrigin;this[E8].frontPage.style[o0]=y0.frontPageOrigin;this[E8].mask.style[o0]=y0.maskOrigin;this[E8].flipGradient.style[o0]=y0.flipGradientOrigin;this.innerReflexBottom.style[o0]=y0.innerReflexBottomOrigin;this[E8].innerReflex.style[o0]=y0.innerReflexOrigin;this[E8].reflexContainer.style[o0]=y0.reflexContainerOrigin;};w.prototype.calcStripeSizes=function(){var u5s=E7TT;var h8,v8,x8,N8,g8,T8;if(this.bookState.singleMode || !this.bookState.thickness)return (this.leftStripeWidth="0" & 2147483647,this.rightStripeWidth=0,this.backboneWidth="0" & 2147483647,this.leftStripeBlock.style.width=0,this.rightStripeBlock.style.width=+"0",void this.bookState.set(u5s.Z6w(128),+"0"));h8=this.bookState.currentLeft / +"2";v8=null === this.bookState.currentRight || this.bookState.right.isLastSheet?+"0":(this.bookState.pagesCount - this.bookState.currentRight + ("1" >> 382026496)) / ("2" | 2);x8=(u5s.Z6w(+"173") === this.state || u5s.Z6w(208) === this.state) && (this.bookState.left.isFirstSheet || this.bookState.right.isFirst || this.bookState.left.isLast || this.bookState.right.isLastSheet) && !(!this.postPager && this.bookState.left.isFirstSheet && u5s.Z6w(+"3") === this.currentWrapper || !this.postPager && this.bookState.right.isLastSheet && u5s.k6w("10" - 0) === this.currentWrapper) && !(this.postPager && this.bookState.left.isFirstSheet && u5s.Z6w(10) === this.currentWrapper || this.postPager && this.bookState.right.isLastSheet && u5s.k6w("3" & 2147483647) === this.currentWrapper);N8=this.progress;((this.bookState.left.isFirstSheet || this.bookState.right.isLastSheet) && !this.postPager || (this.bookState.right.isFirst || this.bookState.left.isLast) && this.postPager) && (N8=+"1" - N8);g8=x8?N8:this.bookState.right.isFirst || this.bookState.left.isLast?+"0":"1" >> 194784736;T8=this.stripeCanvas.width - this.bookWidth;this.leftStripeWidth=Math.floor(Object(p.default)(h8,this.bookState.pagesCount,this.fittedSize,T8) * g8);this.rightStripeWidth=Math.floor(Object(p.default)(v8,this.bookState.pagesCount,this.fittedSize,T8) * g8);this.backboneWidth=this.leftStripeWidth + this.rightStripeWidth;this.leftStripeBlock.style.width=this.leftStripeWidth + u5s.k6w("177" ^ 0);this.rightStripeBlock.style.width=this.rightStripeWidth + u5s.Z6w(+"177");this.bookState.set(u5s.k6w(128),Object(p.default)(this.bookState.pagesCount / ("2" * 1),this.bookState.pagesCount,this.fittedSize,T8));};w.prototype.calcStripeColors=function(){var H5s=E7TT;for(var J8,P8,z8,c8=[],U8=[],e8=this.bookState.pagesCount,A8=["200" * 1,"210" >> 1787217920,"220" | 144,"230" - 0,240],l8=function f8(){var X8;X8=Math.min(Math.floor(Math.random() * A8.length),A8.length - +"1");return X8 === J8 || X8 - +"1" === J8 || X8 + 1 === J8?f8():X8;},W8=0,G8=e8;W8 < G8;W8++){J8=l8();P8=+".2" * Math.random() + .2 + ("1" >> 1108634656);z8=H5s.k6w("39" * 1) + A8[J8] + H5s.k6w(+"124") + A8[J8] + H5s.Z6w("124" ^ 0) + A8[J8] + H5s.k6w(28);c8.push(z8);U8.push(P8);}this.stripeColorArray=c8;this.stripeHeightArray=U8;};w.prototype.renderStripe=function(){var K8,b8,Q8,B8,R8,u8,k8,s8;K8=this.stripeCanvasCTX;b8=this.stripeCanvas;Q8=this.bookWidth;B8=this.bookHeight;R8=Math.round((b8.width - Q8) / ("2" << 1316645088));u8=b8.width;k8=! +"1";s8=! +"1";if((K8.clearRect("0" >> 570466752,+"0",u8,b8.height),(0 === this.rightWrapper.firstPageNum || ("0" & 2147483647) === this.leftWrapper.firstPageNum && this.bookState.rtl) && (k8=!("0" >> 2076640768)),(this.leftWrapper.secondPageNum === this.bookState.pagesCount - ("1" - 0) || this.rightWrapper.secondPageNum === this.bookState.pagesCount - ("1" ^ 0) && this.bookState.rtl) && (s8=! +"0"),this.leftStripeWidth > ("0" & 2147483647) && !this.bookState.singleMode && !k8))for(var m8="0" ^ 0,j8=this.leftStripeWidth;j8 > 0;j8--){m8=j8 * this.stripeHeightArray[this.leftStripeWidth - j8];K8.fillStyle=this.stripeColorArray[this.leftStripeWidth - j8];K8.fillRect(R8 - j8 + +"1",Math.round(m8 / 4),+"1",B8 - j8 / ("2" | 2));}if(this.rightStripeWidth > +"0" && !s8)for(var D8="0" >> 1077271296,r8=+"0",C8=this.rightStripeWidth;r8 < C8;r8++){D8=r8 * this.stripeHeightArray[this.stripeColorArray.length - C8 + r8];K8.fillStyle=this.stripeColorArray[this.stripeColorArray.length - C8 + r8];K8.fillRect(R8 + Q8 + r8 - ("1" >> 1111796512),Math.round(D8 / +"4"),1,B8 - r8 / +"2");}};z=function(d8,a8,L8,S8,H8,M8){M8=M8 || 1;L8+=.6 * H8;d8.beginPath();d8.moveTo(a8,L8);d8.bezierCurveTo(a8,L8 - H8,a8 + +".6" * S8,L8 - H8 / ("3.5" * 1),a8 + S8,L8);d8.shadowColor=E7TT.k6w(+"149");d8.shadowBlur=M8;d8.shadowOffsetY=".3" * 1 * -H8;d8.closePath();d8.fill();};
function $(t,e){this.x=t,this.y=e}w.prototype.renderBookShadow=function(t){var e=this,i=this.shadowCanvasCTX,s=this.shadowCanvas,o=s.width,r=s.height,n=this.bookWidth,a=this.pageWidth,h=this.bookHeight,l=(o-n)/2,c=(r-h)/2,d=this.rightStripeWidth,u=this.leftStripeWidth,p=this.backboneWidth,f=.01*n,m=Math.round(h*g);m%2!=0&&(m+=1);var v,b,S=Math.round(s.height-m)/2,w=this.bookState.singleMode,y=8,k=12,P=(a-4)/a,x=(h-8)/h,$=c+h,C=o/2;i.clearRect(0,0,o,r),i.fillStyle="rgba(0,0,0,0.17)",i.save();var T=function(t){t.addColorStop(0,"rgba(0, 0, 0, 0.1)"),t.addColorStop(.01,"rgba(0, 0, 0, 0)"),t.addColorStop(.05,"rgba(0, 0, 0, 0.05)"),t.addColorStop(.5,"rgba(0, 0, 0, 0)")},R=function(){if(i.shadowColor=null,i.shadowBlur=0,i.shadowOffsetY=0,"rgt-sdw"!==t){var e=C-f-u,s=C-f-u-a,o=i.createLinearGradient(e,0,s,0);T(o),i.fillStyle=o,i.fillRect(e,S,-a,m)}if("lft-sdw"!==t){var r=C+f+d+(w?p:0),n=C+f+d+a,h=i.createLinearGradient(r,0,n,0);T(h),i.fillStyle=h,i.fillRect(r,S,a,m)}},M=function(){var e=s.width/2-u-f,o=p+2*f,r=i.createLinearGradient(e,0,e+o,0);r.addColorStop(0,"rgba(0, 0, 0, 0)"),r.addColorStop(.02,"rgba(0, 0, 0, 0.33)"),r.addColorStop(.5,"rgba(0, 0, 0, 0.20)"),r.addColorStop(.98,"rgba(0, 0, 0, 0.33)"),r.addColorStop(1,"rgba(0, 0, 0, 0)"),i.shadowColor=null,i.shadowBlur=0,i.shadowOffsetY=0,i.fillStyle=r,i.fillRect(e,S,o,m),i.restore(),"rgt-sdw"===t&&i.clearRect(e-2,S-2,f+2,m+4),"lft-sdw"===t&&i.clearRect(e+p+f,S-2,f+2,m+4)},L=function(){w?i.scale(.999,.999):(i.scale(P,x),i.translate(y/2,k/2)),i.shadowColor="#000",i.shadowBlur=7,i.shadowOffsetY=0,i.fillRect(l,c,a,h),i.fillRect(C,c,a,h),i.restore(),e.bookState.left.isFirstSheet||(z(i,C,c,-a,.3*c,12),z(i,C,$,-a,.9*-c,18)),e.bookState.right.isLastSheet||(z(i,C,c,a,.2*c,12),z(i,C,$,a,.6*-c,18))},O=function(t){w?i.scale(.999,.999):(i.scale(P,x),i.translate(y/2,k/2)),"right"===t?(b=1,v=C):(b=-1,v=l),i.shadowColor="#000",i.shadowBlur=7,i.shadowOffsetY=1,i.fillRect(v,c,a,h),i.restore(),z(i,C,c,a*b,c*("right"===t?.2:.3),12),z(i,C,$,a*b,-c*("right"===t?.6:.9),18)};"rgt-sdw"===t?O("right"):"lft-sdw"===t?O("left"):L(),this.bookState.hardcover&&n&&(R(),M()),this.renderStripe()},e.default=w},function(t,e,i){"use strict";i.r(e);var s=i(635),o=i(636),r=i(3);function n(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,h=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,d=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],p=d?m(d):n&&3===a?t.rightSheet:n&&2===a?t.bottomRightSheet:n||3!==a?n||2!==a?{first:0,second:0}:t.bottomLeftSheet:t.leftSheet,f=p.first,g=p.second;function m(e){switch(e){case"left":return t.leftSheet;case"right":return t.rightSheet;case"bottom-left":return t.bottomLeftSheet;case"bottom-right":return t.bottomRightSheet}}function v(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,n=arguments.length>6?arguments[6]:void 0;this.bookState=t,this.firstPageNum=r,this.secondPageNum=n,t.isNullPage(r)&&(this.firstPageNum=-1),t.isNullPage(n)&&(this.secondPageNum=-1),this.generateDOM(e,i,s,o,l,c)}return e.hardcover&&(u||e.isFirstPage(f)||e.isLastPage(f)||e.isLastPage(g)||e.isFirstPage(g))?v.prototype=new s.default:v.prototype=new o.default,v.prototype.setContent=function(t,e,i){var s=t.first,o=t.second;Object(r.isUndefined)(s)||(this.contentObject1.resetPage(s,e,i),this.firstPageNum=s),Object(r.isUndefined)(o)||(this.contentObject2.resetPage(o,e,i),this.secondPageNum=o)},new v(e,i,n,a,h,f,g)}e.default=n},function(t,e,i){"use strict";i.r(e);var s=i(371),o=i(60),r=i(33);function n(){this.type="hard"}n.prototype.generateDOM=function(t,e,i,n,a,h){this.mask=o.default.createElement("div",{class:"hard-mask vis"}),this.firstPage=o.default.createElement("div",{},this.mask),this.contentObject1=new s.default(this.firstPage,this.firstPageNum,a,h),this.secondPage=o.default.createElement("div",{},this.mask),this.contentObject2=new s.default(this.secondPage,this.secondPageNum,a,h),this.setLayer(i),this.firstPageGradient="",this.secondPageGradient="",this.bookState.singleMode;var l=0;if(this.contentObject1.data&&(this.firstPageGradient=Object(r.getStore)().getters["pages/pageGradient"](this.contentObject1.data.id),this.bookState.singleMode&&(l=this.contentObject1.data.isWide&&"left"===this.contentObject1.data.side?0:1,this.secondPageGradient=Object(r.getStore)().getters["pages/pageGradient"](parseInt(this.contentObject1.data.id)+l+""))),this.contentObject2.data&&(this.secondPageGradient=Object(r.getStore)().getters["pages/pageGradient"](this.contentObject2.data.id),this.bookState.singleMode&&(l=this.contentObject2.data.isWide&&"right"===this.contentObject2.data.side?0:1,this.firstPageGradient=Object(r.getStore)().getters["pages/pageGradient"](parseInt(this.contentObject2.data.id)+l+""))),!this.firstPageGradient&&this.secondPageGradient&&(this.firstPageGradient=this.secondPageGradient),!this.secondPageGradient&&this.firstPageGradient&&(this.secondPageGradient=this.firstPageGradient),e?this.setRight():this.setLeft(),n){var c=document.getElementById("reflex-container"),d=c.nextSibling,u=c.parentNode;d?u.insertBefore(this.mask,d):u.appendChild(this.mask),c=null}else t.appendChild(this.mask)},n.prototype.setLeft=function(){o.default.removeClass(this.mask,"hRight");var t="page-flip-container z3 "+this.secondPageGradient;return this.secondPage.className=t+(this.bookState.isNullPage(this.secondPageNum)?" break":this.bookState.isLastPage(this.secondPageNum)?" hard-front outside":" hard-front inside"),t="page-flip-container z1 "+this.firstPageGradient,this.firstPage.className=t+(this.bookState.isNullPage(this.firstPageNum)?" break":this.bookState.isFirstPage(this.firstPageNum)?" hard-back outside":" hard-back inside"),this.frontPage=this.secondPage,this.reversePage=this.firstPage,this},n.prototype.setRight=function(){o.default.addClass(this.mask,"hRight");var t="page-flip-container z3 "+this.secondPageGradient;return this.secondPage.className=t+(this.bookState.isNullPage(this.secondPageNum)?" break":this.bookState.isLastPage(this.secondPageNum)?" hard-back outside":" hard-back inside"),t="page-flip-container z1 "+this.firstPageGradient,this.firstPage.className=t+(this.bookState.isNullPage(this.firstPageNum)?" break":this.bookState.isFirstPage(this.firstPageNum)?" hard-front outside":" hard-front inside"),this.frontPage=this.firstPage,this.reversePage=this.secondPage,this},n.prototype.setLayer=function(t){return o.default.removeClass(this.mask,"layer"+this.layer),this.layer=t,o.default.addClass(this.mask,"layer"+t),this},n.prototype.destroy=function(){void 0!==this.contentObject1.vm&&(this.contentObject1.destroy(),this.contentObject1.vm.$destroy(),this.contentObject1.vm=null,delete this.contentObject1.vm),void 0!==this.contentObject2.vm&&(this.contentObject2.destroy(),this.contentObject2.vm.$destroy(),this.contentObject2.vm=null,delete this.contentObject2.vm),o.default.del(this.mask),delete this.mask,delete this.firstPage,delete this.secondPage,delete this.frontPage,delete this.reversePage},e.default=n},function(t,e,i){"use strict";i.r(e);var s=i(371),o=i(60),r=i(33);function n(){this.type="soft"}n.prototype.generateDOM=function(t,e,i,n,a,h){this.mask=o.default.createElement("div",{class:"mask vis","data-page":this.firstPageNum+1+"-"+(this.secondPageNum+1)}),this.firstPage=o.default.createElement("div",{},this.mask),this.contentObject1=new s.default(this.firstPage,this.firstPageNum,a,h),this.reflexContainer=o.default.createElement("div",{class:"reflex-container2 z2"},this.mask),(this.bookState.isFirstPage(this.firstPageNum)||this.bookState.isLastSheet(this.firstPageNum))&&(this.reflexMask=o.default.createElement("div",{class:"inner-reflex-mask"},this.reflexContainer)),this.innerReflex=o.default.createElement("div",{class:"inner-reflex"},this.bookState.isFirstPage(this.firstPageNum)||this.bookState.isLastSheet(this.firstPageNum)?this.reflexMask:this.reflexContainer),this.secondPage=o.default.createElement("div",{},this.mask),this.contentObject2=new s.default(this.secondPage,this.secondPageNum,a,h),this.flipGradientT=o.default.createElement("div",{class:"flip-grad"},this.firstPage),this.flipGradientB=o.default.createElement("div",{class:"flip-grad"},this.secondPage),this.setLayer(i),this.firstPageGradient="",this.secondPageGradient="",this.bookState.singleMode;var l=0;if(this.contentObject1.data&&(this.firstPageGradient=Object(r.getStore)().getters["pages/pageGradient"](this.contentObject1.data.id),this.bookState.singleMode)){l=this.contentObject1.data.wide&&"left"===this.contentObject1.data.side?0:1;var c=Object(r.getStore)().getters["pages/pageIndexById"](this.contentObject1.data.id)+l,d=Object(r.getStore)().getters["pages/pageIdByIndexWide"](c);this.secondPageGradient=Object(r.getStore)().getters["pages/pageGradient"](d),this.secondPage.style["background-color"]=Object(r.getStore)().getters["pages/pageProp"](d,"backgroundColor")}if(this.contentObject2.data&&(this.secondPageGradient=Object(r.getStore)().getters["pages/pageGradient"](this.contentObject2.data.id),this.bookState.singleMode)){l=this.contentObject2.data.wide&&"right"===this.contentObject2.data.side?0:1;var u=Object(r.getStore)().getters["pages/pageIndexById"](this.contentObject2.data.id)+l,p=Object(r.getStore)().getters["pages/pageIdByIndexWide"](u);this.firstPageGradient=Object(r.getStore)().getters["pages/pageGradient"](p),this.firstPage.style["background-color"]=Object(r.getStore)().getters["pages/pageProp"](p,"backgroundColor")}if(!this.firstPageGradient&&this.secondPageGradient&&(this.firstPageGradient=this.secondPageGradient),!this.secondPageGradient&&this.firstPageGradient&&(this.secondPageGradient=this.firstPageGradient),e?this.setRight():this.setLeft(),n){var f=document.getElementById("reflex-container"),g=f.nextSibling,m=f.parentNode;g?m.insertBefore(this.mask,g):m.appendChild(this.mask),f=null}else t.appendChild(this.mask)},n.prototype.setLeft=function(){o.default.removeClass(this.mask,"mR");var t="page-flip-container z1 "+this.secondPageGradient;return this.secondPage.className=t+(this.bookState.isNullPage(this.secondPageNum)?" break":this.bookState.isLastPage(this.secondPageNum)?" reflex-last":" reflex-left"),t="page-flip-container z3 "+this.firstPageGradient,this.firstPage.className=t+(this.bookState.isNullPage(this.firstPageNum)?" bottom break":this.bookState.isFirstPage(this.firstPageNum)?" bottom":" reflex-right bottom"),this.flipGradient=this.flipGradientT,this.frontPage=this.secondPage,this.reversePage=this.firstPage,this},n.prototype.setRight=function(){o.default.addClass(this.mask,"mR");var t="page-flip-container z3 "+this.secondPageGradient;return this.secondPage.className=t+(this.bookState.isNullPage(this.secondPageNum)?" bottom break":this.bookState.isLastPage(this.secondPageNum)?" bottom":" reflex-left bottom"),t="page-flip-container z1 "+this.firstPageGradient,this.firstPage.className=t+(this.bookState.isNullPage(this.firstPageNum)?" right-page break":this.bookState.isFirstPage(this.firstPageNum)?" right-page reflex-first":" reflex-right right-page"),this.flipGradient=this.flipGradientB,this.frontPage=this.firstPage,this.reversePage=this.secondPage,this},n.prototype.setLayer=function(t){return o.default.removeClass(this.mask,"layer"+this.layer),this.layer=t,o.default.addClass(this.mask,"layer"+t),this},n.prototype.destroy=function(){this.contentObject1.destroy(),void 0!==this.contentObject1.vm&&(this.contentObject1.vm.$destroy(),this.contentObject1.vm=null,delete this.contentObject1.vm),this.contentObject2.destroy(),void 0!==this.contentObject2.vm&&(this.contentObject2.vm.$destroy(),this.contentObject2.vm=null,delete this.contentObject2.vm),o.default.del(this.mask),delete this.mask,delete this.firstPage,delete this.reflexContainer,delete this.innerReflex,delete this.secondPage,delete this.flipGradientT,delete this.flipGradientB,delete this.frontPage,delete this.reversePage,delete this.flipGradient},e.default=n},function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.r(e);var o=[],r=[],n={_version:"3.0.0-alpha.3",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout((function(){e(i[t])}),0)},addTest:function(t,e,i){r.push({name:t,fn:e,options:i})},addAsyncTest:function(t){r.push({name:null,fn:t})}},a=function(){};function h(t,e){return s(t)===e}function l(){var t,e,i,s,n,l;for(var c in r){if(t=[],(e=r[c]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(s=h(e.fn,"function")?e.fn():e.fn,n=0;n<t.length;n++)1===(l=t[n].split(".")).length?a[l[0]]=s:(!a[l[0]]||a[l[0]]instanceof Boolean||(a[l[0]]=new Boolean(a[l[0]])),a[l[0]][l[1]]=s),o.push((s?"":"no-")+l.join("-"))}}a.prototype=n,a=new a;var c=document.documentElement;function d(t){var e=c.className,i=a._config.classPrefix||"";if(a._config.enableJSClass){var s=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(s,"$1"+i+"js$2")}a._config.enableClasses&&(e+=" "+i+t.join(" "+i),c.className=e)}function u(t){return t.replace(/([a-z])-([a-z])/g,(function(t,e,i){return e+i.toUpperCase()})).replace(/^-/,"")}function p(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()})).replace(/^ms-/,"-ms-")}var f="Moz O ms Webkit",g=n._config.usePrefixes?f.toLowerCase().split(" "):[];n._domPrefixes=g;var m=n._config.usePrefixes?f.split(" "):[];n._cssomPrefixes=m;var v=function(t){var e,i=prefixes.length,s=window.CSSRule;if(void 0!==s){if(!t)return!1;if((e=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in s)return"@"+t;for(var o=0;o<i;o++){var r=prefixes[o];if(r.toUpperCase()+"_"+e in s)return"@-"+r.toLowerCase()+"-"+t}return!1}},b=function(){return"function"!=typeof document.createElement?document.createElement(arguments[0]):document.createElement.apply(document,arguments)};function S(){var t=document.body;return t||((t=b("body")).fake=!0),t}function w(t,e,i,s){var o,r,n,a,h="modernizr",l=b("div"),d=S();if(parseInt(i,10))for(;i--;)(n=b("div")).id=s?s[i]:h+(i+1),l.appendChild(n);return o=["&#173;",'<style id="s',h,'">',t,"</style>"].join(""),l.id=h,(d.fake?d:l).innerHTML+=o,d.appendChild(l),d.fake&&(d.style.background="",d.style.overflow="hidden",a=c.style.overflow,c.style.overflow="hidden",c.appendChild(d)),r=e(l,t),d.fake?(d.parentNode.removeChild(d),c.style.overflow=a,c.offsetHeight):l.parentNode.removeChild(l),!!r}n.testStyles=w;function y(t,e){return!!~(""+t).indexOf(e)}function k(t,e){var i=t.length;if("CSS"in window&&"supports"in window.CSS){for(;i--;)if(window.CSS.supports(p(t[i]),e))return!0;return!1}if("CSSSupportsRule"in window){for(var s=[];i--;)s.push("("+p(t[i])+":"+e+")");return w("@supports ("+(s=s.join(" or "))+") { #modernizr { position: absolute; } }",(function(t){return"absolute"==getComputedStyle(t,null).position}))}}function P(t,e){return function(){return t.apply(e,arguments)}}function x(t,e,i){var s;for(var o in t)if(t[o]in e)return!1===i?t[o]:h(s=e[t[o]],"function")?P(s,i||e):s;return!1}var z={elem:b("modernizr")};a._q.push((function(){delete z.elem}));var $={style:z.elem.style};function C(t,e,i,s){if(s=!h(s,"undefined")&&s,!h(i,"undefined")){var o=k(t,i);if(!h(o,"undefined"))return o}var r,n,a,l,c;function d(){r&&(delete $.style,delete $.modElem)}for($.style||(r=!0,$.modElem=b("modernizr"),$.style=$.modElem.style),a=t.length,n=0;n<a;n++)if(l=t[n],c=$.style[l],y(l,"-")&&(l=u(l)),void 0!==$.style[l]){if(s||h(i,"undefined"))return d(),"pfx"!=e||l;try{$.style[l]=i}catch(p){}if($.style[l]!=c)return d(),"pfx"!=e||l}return d(),!1}function T(t,e,i,s,o){var r=t.charAt(0).toUpperCase()+t.slice(1),n=(t+" "+m.join(r+" ")+r).split(" ");return h(e,"string")||h(e,"undefined")?C(n,e,s,o):x(n=(t+" "+g.join(r+" ")+r).split(" "),e,i)}a._q.unshift((function(){delete $.style})),n.testAllProps=T;var R=n.prefixed=function(t,e,i){return 0===t.indexOf("@")?v(t):(-1!=t.indexOf("-")&&(t=u(t)),e?T(t,e,i):T(t,"pfx"))};n.prefixedCSS=function(t){var e=R(t);return e&&p(e)};l(),d(o),delete n.addTest,delete n.addAsyncTest;for(var M=0;M<a._q.length;M++)a._q[M]();e.default=a},function(t,e,i){"use strict";i.r(e);var s=i(374);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(127),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(128),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(376);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(131),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(378);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(380);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(137),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){i(0).register({image:{width:50,height:50,viewBox:"0 0 50 50",data:'<g _fill="none" fill-rule="evenodd"><g fill-rule="nonzero"><circle pid="0" cx="25" cy="25" r="25" _fill="#000" opacity=".8"/><g _fill="#FFF"><path pid="1" d="M30.8 30l4.2 4.3-1.7 1.7-4.3-4.2z"/><path pid="2" d="M25 32a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path pid="3" d="M26 24h3v2h-3v3h-2v-3h-3v-2h3v-3h2z"/></g></g><path pid="4" _fill="#FFF" d="M2.114 26.515c.013 1.74.457 3.61.878 5.069l1.66-.585a22.4 22.4 0 01-.781-4.582l-1.757.098zm17.76-22.03l-.391-1.658c-1.659.39-3.318.975-4.781 1.755l.78 1.56a23.892 23.892 0 014.391-1.657zm7.91-2.24c-2.618-.485-5.471-.1-5.471-.1l.195 1.755a21.293 21.293 0 015.074 0l.202-1.655zM7.969 12.575L6.505 11.6c-.976 1.268-1.951 2.73-2.537 4.29l1.561.78c.683-1.463 1.464-2.828 2.44-4.095zm22.247-7.993c1.562.39 2.928.975 4.391 1.56l.781-1.56c-1.464-.682-3.122-1.267-4.781-1.755l-.39 1.755zm15.908 11.375c-.707-1.704-1.406-2.863-2.54-4.357l-1.463.975c.976 1.365 1.756 2.73 2.342 4.094.37-.107 1.653-.71 1.66-.712zm-.002 7.926l1.756-.098c-.086-1.805-.182-3.282-.78-5.069l-1.757.585c.488 1.462.683 2.925.78 4.582zM41.73 9.26c-1.917-2.143-2.887-2.52-3.806-3.217l-.976 1.462c1.269.78 2.44 1.852 3.513 2.925l1.269-1.17zM12.165 6.044a17.507 17.507 0 00-3.903 3.314l1.268 1.17c.976-1.17 2.31-2.223 3.58-3.003l-.945-1.48zm29.858 31.583L43.39 38.7c1-1.332 1.851-2.77 2.537-4.289l-1.56-.78c-.684 1.463-1.464 2.827-2.343 3.997zM4.001 34.305c.746 1.702 1.421 2.597 2.504 4.297l1.464-.975a17.105 17.105 0 01-2.342-4.094l-1.626.772zm42.107-7.915c-.048 1.412-.484 3.433-.865 4.706l1.818.472c.611-1.725.82-2.897.939-4.94l-1.892-.238zM29.924 45.62l.488 1.755c2.181-.439 3.157-.942 4.683-1.852l-.78-1.462c-1.366.682-2.928 1.17-4.391 1.56zm6.733-2.924l.975 1.462c1.938-1.359 2.472-1.787 3.903-3.217l-1.268-1.17a21.365 21.365 0 01-3.61 2.925zm-28.2-1.852a21.27 21.27 0 003.903 3.314l.976-1.462c-1.367-.975-2.537-1.95-3.61-3.022l-1.27 1.17zm6.342 4.776a25.148 25.148 0 004.782 1.657l.39-1.657c-1.561-.39-2.927-.974-4.391-1.56l-.78 1.56zm7.64 2.187c1.828.258 3.183.246 5.045.03l-.095-1.755c-1.673.147-3.246.124-4.72-.066-.095.372-.228 1.783-.23 1.79zm-18.554-23.9c.085-1.411.575-3.42.989-4.683l-1.806-.52C2.413 20.415 2.173 21.58 2 23.62l1.885.287z"/></g>'}})},function(t,e,i){"use strict";i.r(e);var s=i(138),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(382);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){i(0).register({gallery:{width:51,height:51,viewBox:"0 0 51 51",data:'<g fill-rule="evenodd"><circle pid="0" cx="25.5" cy="25.5" r="25.5" opacity=".8"/><g _fill="#fff"><path pid="1" d="M18 20h15v7l-3.5-4-4.4 5.7-2.2-3-3.3 5.3H18V20zm-2 13h19V18H16v15z"/><path pid="2" d="M23 23.4a1.6 1.6 0 10-3.2 0 1.6 1.6 0 003.2 0z"/></g></g><path pid="3" d="M2.046 27.054c.013 1.786.468 3.704.9 5.2l1.7-.6a23 23 0 01-.8-4.7m16.4-22.5l-.4-1.7c-1.7.4-3.4 1-4.9 1.8l.8 1.6c1.4-.7 3-1.3 4.5-1.7m8.107-2.298c-2.683-.497-5.607-.102-5.607-.102l.2 1.8a21.8 21.8 0 015.2 0m-20.1 8.9l-1.5-1c-1 1.3-2 2.8-2.6 4.4l1.6.8c.7-1.5 1.5-2.9 2.5-4.2m22.8-8.2c1.6.4 3 1 4.5 1.6l.8-1.6c-1.5-.7-3.2-1.3-4.9-1.8zm16.302 11.669c-.724-1.748-1.44-2.937-2.602-4.469l-1.5 1c1 1.4 1.8 2.8 2.4 4.2.379-.11 1.694-.728 1.702-.731zm-.002 8.131l1.8-.1c-.088-1.852-.187-3.367-.8-5.2l-1.8.6c.5 1.5.7 3 .8 4.7m-4.5-15c-1.964-2.198-2.958-2.586-3.9-3.3l-1 1.5c1.3.8 2.5 1.9 3.6 3m-29-4.5a17.946 17.946 0 00-4 3.4l1.3 1.2c1-1.2 2.368-2.281 3.668-3.081m29.632 30.881l1.4 1.1a23.4 23.4 0 002.6-4.4l-1.6-.8c-.7 1.5-1.5 2.9-2.4 4.1M3.98 35.046c.764 1.746 1.456 2.664 2.566 4.408l1.5-1c-1-1.3-1.8-2.7-2.4-4.2zm43.152-8.12c-.049 1.449-.496 3.522-.886 4.828l1.863.484c.626-1.77.84-2.972.962-5.068M30.546 46.654l.5 1.8c2.236-.45 3.236-.966 4.8-1.9l-.8-1.5c-1.4.7-3 1.2-4.5 1.6m6.9-3l1 1.5c1.986-1.394 2.533-1.833 4-3.3l-1.3-1.2a21.9 21.9 0 01-3.7 3m-28.9-1.9c1.2 1.3 2.5 2.4 4 3.4l1-1.5c-1.4-1-2.6-2-3.7-3.1zm6.5 4.9c1.5.7 3.2 1.3 4.9 1.7l.4-1.7c-1.6-.4-3-1-4.5-1.6zm7.83 2.243c1.873.265 3.261.253 5.17.031l-.098-1.8c-1.714.15-3.326.127-4.837-.068-.097.382-.234 1.829-.235 1.837zM3.861 24.378c.087-1.447.589-3.508 1.013-4.803l-1.85-.533c-.672 1.753-.918 2.949-1.095 5.041" _fill="#fff" fill-rule="evenodd"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(141),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(384);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){i(0).register({gif:{width:51,height:51,viewBox:"0 0 51 51",data:'<g fill-rule="evenodd"><circle pid="0" cx="25.5" cy="25.5" r="25.5" opacity=".8"/><path pid="1" d="M27 31h-2V20h2zm8-5h-2.9v5H30V20h7v2h-4.9v1.9H35zm-13 3.6c-.4.5-.9.9-1.6 1.1-.8.3-1.6.4-2.5.4-1 0-1.9-.2-2.6-.6s-1.3-1-1.7-1.8c-.4-.7-.6-1.7-.6-2.8v-.7c0-1.1.2-1.9.6-2.7.3-.8.9-1.4 1.6-1.8s1.5-.6 2.5-.6c1.3 0 2.4.3 3.1.9.8.6 1.2 1.8 1.4 2.9H20c-.1-.3-.5-1.2-.9-1.5-.3-.2-.8-.4-1.4-.4-.8 0-1.4.3-1.8.9-.4.5-.7 1.2-.7 2.3v.7c0 1.1.4 1.7.8 2.3.5.6 1.1.9 2 .9.8 0 1.6-.2 2-.5V27h-2v-2h4zM2.046 27.054c.013 1.786.468 3.704.9 5.2l1.7-.6a23 23 0 01-.8-4.7m16.4-22.5l-.4-1.7c-1.7.4-3.4 1-4.9 1.8l.8 1.6c1.4-.7 3-1.3 4.5-1.7m8.107-2.298c-2.683-.497-5.607-.102-5.607-.102l.2 1.8a21.8 21.8 0 015.2 0m-20.1 8.9l-1.5-1c-1 1.3-2 2.8-2.6 4.4l1.6.8c.7-1.5 1.5-2.9 2.5-4.2m22.8-8.2c1.6.4 3 1 4.5 1.6l.8-1.6c-1.5-.7-3.2-1.3-4.9-1.8zm16.302 11.669c-.724-1.748-1.44-2.937-2.602-4.469l-1.5 1c1 1.4 1.8 2.8 2.4 4.2.379-.11 1.694-.728 1.702-.731zm-.002 8.131l1.8-.1c-.088-1.852-.187-3.367-.8-5.2l-1.8.6c.5 1.5.7 3 .8 4.7m-4.5-15c-1.964-2.198-2.958-2.586-3.9-3.3l-1 1.5c1.3.8 2.5 1.9 3.6 3m-29-4.5a17.946 17.946 0 00-4 3.4l1.3 1.2c1-1.2 2.368-2.281 3.668-3.081m29.632 30.881l1.4 1.1a23.4 23.4 0 002.6-4.4l-1.6-.8c-.7 1.5-1.5 2.9-2.4 4.1M3.98 35.046c.764 1.746 1.456 2.664 2.566 4.408l1.5-1c-1-1.3-1.8-2.7-2.4-4.2zm43.152-8.12c-.049 1.449-.496 3.522-.886 4.828l1.863.484c.626-1.77.84-2.972.962-5.068M30.546 46.654l.5 1.8c2.236-.45 3.236-.966 4.8-1.9l-.8-1.5c-1.4.7-3 1.2-4.5 1.6m6.9-3l1 1.5c1.986-1.394 2.533-1.833 4-3.3l-1.3-1.2a21.9 21.9 0 01-3.7 3m-28.9-1.9c1.2 1.3 2.5 2.4 4 3.4l1-1.5c-1.4-1-2.6-2-3.7-3.1zm6.5 4.9c1.5.7 3.2 1.3 4.9 1.7l.4-1.7c-1.6-.4-3-1-4.5-1.6zm7.83 2.243c1.873.265 3.261.253 5.17.031l-.098-1.8c-1.714.15-3.326.127-4.837-.068-.097.382-.234 1.829-.235 1.837zM3.861 24.378c.087-1.447.589-3.508 1.013-4.803l-1.85-.533c-.672 1.753-.918 2.949-1.095 5.041" _fill="#fff"/></g>'}})},function(t,e,i){i(0).register({replay:{width:16,height:16,viewBox:"0 0 70 70",data:'<use xlink:href="#a" transform="rotate(60 21.655 37.507)"/><defs><path pid="0" id="a" d="M5.885 12.428L1.49 9.97c-.777-.435-1.693.287-1.45 1.144L4.006 25.15a1 1 0 001.235.69l14.036-3.966c.857-.242.993-1.4.216-1.835l-4.878-2.729c4.194-7.024 13.267-9.4 20.377-5.296 7.174 4.142 9.632 13.316 5.49 20.49-4.142 7.175-13.316 9.633-20.49 5.49l-5 8.66c11.957 6.904 27.247 2.807 34.15-9.15 6.904-11.957 2.807-27.247-9.15-34.15C28.06-3.536 12.81.529 5.885 12.428z"/></defs>'}})},function(t,e,i){"use strict";i.r(e);var s=i(144),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(386);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(657),o=i(147),r=i(1),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/video/youtube/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(387);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s,o,r=i(149),n=(i(672),i(1)),a=Object(n.default)(r.default,s,o,!1,null,null,null);a.options.__file="src/components/content/video/vimeo/index.vue",e.default=a.exports},,function(t,e,i){"use strict";i.r(e);var s=i(151),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(674),o=i(152),r=i(1),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/video/wistia/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(388);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){i(0).register({video:{width:50,height:50,viewBox:"0 0 50 50",data:'<g _fill="none" fill-rule="evenodd"><circle pid="0" cx="25" cy="25" r="25" _fill="#000" fill-rule="nonzero" opacity=".8"/><path pid="1" _fill="#FFF" fill-rule="nonzero" d="M34.041 23.397c.589.305.959.916.959 1.583 0 .667-.37 1.279-.959 1.584l-12.288 7.127c-.787.594-1.967.297-2.458-.594a1.68 1.68 0 01-.295-.99V17.755a1.98 1.98 0 01.978-1.494 1.954 1.954 0 011.775-.09l12.288 7.226zM21 32l12-7-12-7v14z"/><path pid="2" _fill="#FFF" d="M2.114 26.515c.013 1.74.457 3.61.878 5.069l1.66-.585a22.4 22.4 0 01-.781-4.582l-1.757.098zm17.76-22.03l-.391-1.658c-1.659.39-3.318.975-4.781 1.755l.78 1.56a23.892 23.892 0 014.391-1.657zm7.91-2.24c-2.618-.485-5.471-.1-5.471-.1l.195 1.755a21.293 21.293 0 015.074 0l.202-1.655zM7.969 12.575L6.505 11.6c-.976 1.268-1.951 2.73-2.537 4.29l1.561.78c.683-1.463 1.464-2.828 2.44-4.095zm22.247-7.993c1.562.39 2.928.975 4.391 1.56l.781-1.56c-1.464-.682-3.122-1.267-4.781-1.755l-.39 1.755zm15.908 11.375c-.707-1.704-1.406-2.863-2.54-4.357l-1.463.975c.976 1.365 1.756 2.73 2.342 4.094.37-.107 1.653-.71 1.66-.712zm-.002 7.926l1.756-.098c-.086-1.805-.182-3.282-.78-5.069l-1.757.585c.488 1.462.683 2.925.78 4.582zM41.73 9.26c-1.917-2.143-2.887-2.52-3.806-3.217l-.976 1.462c1.269.78 2.44 1.852 3.513 2.925l1.269-1.17zM12.165 6.044a17.507 17.507 0 00-3.903 3.314l1.268 1.17c.976-1.17 2.31-2.223 3.58-3.003l-.945-1.48zm29.858 31.583L43.39 38.7c1-1.332 1.851-2.77 2.537-4.289l-1.56-.78c-.684 1.463-1.464 2.827-2.343 3.997zM4.001 34.305c.746 1.702 1.421 2.597 2.504 4.297l1.464-.975a17.105 17.105 0 01-2.342-4.094l-1.626.772zm42.107-7.915c-.048 1.412-.484 3.433-.865 4.706l1.818.472c.611-1.725.82-2.897.939-4.94l-1.892-.238zM29.924 45.62l.488 1.755c2.181-.439 3.157-.942 4.683-1.852l-.78-1.462c-1.366.682-2.928 1.17-4.391 1.56zm6.733-2.924l.975 1.462c1.938-1.359 2.472-1.787 3.903-3.217l-1.268-1.17a21.365 21.365 0 01-3.61 2.925zm-28.2-1.852a21.27 21.27 0 003.903 3.314l.976-1.462c-1.367-.975-2.537-1.95-3.61-3.022l-1.27 1.17zm6.342 4.776a25.148 25.148 0 004.782 1.657l.39-1.657c-1.561-.39-2.927-.974-4.391-1.56l-.78 1.56zm7.64 2.187c1.828.258 3.183.246 5.045.03l-.095-1.755c-1.673.147-3.246.124-4.72-.066-.095.372-.228 1.783-.23 1.79zm-18.554-23.9c.085-1.411.575-3.42.989-4.683l-1.806-.52C2.413 20.415 2.173 21.58 2 23.62l1.885.287z"/></g>'}})},function(t,e,i){i(0).register({error:{width:16,height:16,viewBox:"0 0 128 128",data:'<path pid="0" d="M64 23.9a39.47 39.47 0 11-39.47 39.47A39.52 39.52 0 0164 23.9m0-10a49.47 49.47 0 1049.47 49.47A49.47 49.47 0 0064 13.9z"/><path pid="1" d="M30.207 90.732l60.507-60.508 7.071 7.072-60.507 60.507z"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(154),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(390);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(157),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},,function(t,e,i){i(0).register({"book-prev":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M14.312 22.461l-8.519-8.52a2.676 2.676 0 01-.788-1.905c0-.721.28-1.4.788-1.908l8.59-8.592a1.8 1.8 0 012.543 2.543l-7.954 7.956 7.882 7.882a1.8 1.8 0 01-2.542 2.544z"/>'}})},function(t,e,i){i(0).register({"book-next":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M8.872 22.991a1.799 1.799 0 01-1.272-3.07l7.884-7.885-7.956-7.957a1.798 1.798 0 112.543-2.543l8.592 8.593c.509.508.789 1.186.789 1.908 0 .721-.28 1.4-.789 1.907l-8.52 8.52a1.79 1.79 0 01-1.271.527z"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(159),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(685),o=i(160),r=(i(686),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,"42dda8e8",null);n.options.__file="src/components/common/slide-book/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(394);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(162),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(688),o=i(163),r=(i(689),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,"3832a65e",null);n.options.__file="src/components/desktop/logo/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(395);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(165),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(691),o=i(166),r=(i(692),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,"54040386",null);n.options.__file="src/components/common/nav-buttons/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(397);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(168),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(694),o=i(169),r=(i(695),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,"6d66682b",null);n.options.__file="src/components/desktop/slide-nav-buttons/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(400);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(171),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(697),o=i(172),r=(i(700),i(1)),n=Object(r.default)(o.default,s.render,s.staticRenderFns,!1,null,"dde720a0",null);n.options.__file="src/components/desktop/zoom-panel/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(401);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){i(0).register({text:{width:16,height:16,viewBox:"0 0 30 30",data:'<g fill-rule="evenodd"><path pid="0" fill-rule="nonzero" d="M25.642 16.116a1.647 1.647 0 00-.267-.716c-.208-.287-.532-.43-.97-.43-.625 0-1.053.31-1.283.931-.121.33-.182.768-.182 1.315 0 .521.06.94.182 1.257.222.59.638.885 1.25.885.434 0 .743-.117.925-.351.182-.235.293-.539.332-.912h1.894c-.043.564-.247 1.098-.612 1.602-.581.811-1.443 1.217-2.584 1.217-1.142 0-1.982-.338-2.52-1.016-.538-.677-.807-1.556-.807-2.636 0-1.22.297-2.168.892-2.845s1.415-1.016 2.46-1.016c.89 0 1.619.2 2.185.599.567.4.902 1.105 1.006 2.116h-1.901z"/><path pid="1" d="M3 8h16v15H3V8zm12.9 5.414c-.517 0-.942.109-1.276.326-.282.173-.54.425-.775.755v-3.412H12v9.584h1.816v-.892c.248.347.478.59.69.729.356.234.827.351 1.413.351.933 0 1.66-.362 2.181-1.087.521-.725.782-1.638.782-2.74 0-1.064-.264-1.932-.792-2.605-.527-.673-1.257-1.009-2.19-1.009zm-.476 5.912c-.55 0-.96-.2-1.23-.6-.27-.399-.404-.902-.404-1.51 0-.516.065-.937.196-1.263.251-.612.714-.918 1.386-.918.664 0 1.12.313 1.368.938.13.33.195.746.195 1.25 0 .629-.132 1.137-.397 1.523-.265.386-.636.58-1.114.58zm-7.03-2.11v.69c-.012.62-.187 1.048-.524 1.283a1.89 1.89 0 01-1.103.351.992.992 0 01-.641-.211c-.176-.141-.264-.37-.264-.687 0-.356.143-.619.43-.788.169-.1.449-.184.84-.254l.416-.078c.209-.039.372-.081.492-.127.12-.045.237-.105.355-.179zm-1.126-.866l-.631.078c-.716.092-1.259.243-1.628.456C4.336 17.274 4 17.906 4 18.78c0 .672.21 1.192.628 1.559.42.367.95.55 1.592.55.504 0 .955-.115 1.354-.345.334-.195.63-.432.886-.71.013.16.03.304.052.43.021.126.06.26.117.404h2.018v-.274a.665.665 0 01-.273-.215c-.061-.086-.098-.251-.111-.494a31.08 31.08 0 01-.013-.82v-3.256c0-.855-.302-1.437-.905-1.745-.603-.308-1.293-.462-2.07-.462-1.194 0-2.036.313-2.526.938-.308.399-.482.909-.521 1.53h1.79c.044-.274.13-.491.26-.652.183-.217.493-.325.932-.325.39 0 .686.055.888.166.202.11.303.311.303.602 0 .239-.132.415-.397.527-.148.066-.393.12-.736.163zM19 5h1v21h-1zM17 4h5v1h-5zM17 26h5v1h-5z"/></g>'}})},function(t,e,i){i(0).register({drag:{width:16,height:16,viewBox:"0 0 100 100",data:'<path pid="0" d="M24.6 63.2c1.4 1.5 3.8 1.6 5.3.2s1.6-3.8.2-5.3l-.2-.2-4.2-4.2h21v21l-4.2-4.2c-1.4-1.5-3.8-1.6-5.3-.2-1.5 1.4-1.6 3.8-.2 5.3l.2.2 10.6 10.6c1.5 1.5 3.8 1.5 5.3 0l10.5-10.6c1.5-1.4 1.6-3.8.2-5.3-1.4-1.5-3.8-1.6-5.3-.2l-.2.2-4.2 4.2v-21h21L71 57.9c-1.5 1.4-1.6 3.8-.2 5.3 1.4 1.5 3.8 1.6 5.3.2l.2-.2 10.6-10.6c1.5-1.5 1.5-3.8 0-5.3L76.2 36.7c-1.4-1.5-3.8-1.6-5.3-.2-1.5 1.4-1.6 3.8-.2 5.3l.2.2 4.2 4.2h-21v-21l4.2 4.2c1.4 1.5 3.8 1.6 5.3.2s1.6-3.8.2-5.3l-.2-.2-10.5-10.5c-1.5-1.5-3.8-1.5-5.3 0L37.2 24.2c-1.5 1.4-1.6 3.8-.2 5.3 1.4 1.5 3.8 1.6 5.3.2l.2-.2 4.2-4.2v21h-21l4.2-4.2c1.5-1.4 1.6-3.8.2-5.3-1.4-1.5-3.8-1.6-5.3-.2l-.2.2L14 47.3c-1.5 1.5-1.5 3.8 0 5.3l10.6 10.6z"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(174),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},function(t,e,i){"use strict";i.r(e);var s=i(175),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(416);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(209),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e.default=o.a}])]);